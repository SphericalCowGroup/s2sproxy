2014-11-04 17:28:23,754 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 17:28:24,690 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 17:30:33,368 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 17:30:34,189 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 17:30:36,169 service:DEBUG ENVIRON: None
2014-11-04 17:30:36,170 saml2:INFO Logging started
2014-11-04 17:30:36,185 back:DEBUG --- SSO ---
2014-11-04 17:31:41,499 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 17:31:41,802 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 17:31:42,105 service:DEBUG ENVIRON: None
2014-11-04 17:31:42,106 saml2:INFO Logging started
2014-11-04 17:31:42,115 back:DEBUG --- SSO ---
2014-11-04 17:32:49,907 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 17:32:50,198 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 17:32:50,498 service:DEBUG ENVIRON: None
2014-11-04 17:32:50,500 saml2:INFO Logging started
2014-11-04 17:32:50,509 back:DEBUG --- SSO ---
2014-11-04 17:32:50,510 service:DEBUG ENVIRON: None
2014-11-04 17:46:21,075 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 17:46:21,363 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 17:46:21,659 service:DEBUG ENVIRON: None
2014-11-04 17:46:21,661 saml2:INFO Logging started
2014-11-04 17:46:21,670 back:DEBUG --- SSO ---
2014-11-04 17:46:21,671 service:DEBUG ENVIRON: None
2014-11-04 17:46:57,833 root:INFO Server starting
2014-11-04 17:48:34,099 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 17:48:34,397 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 17:48:34,700 service:DEBUG ENVIRON: None
2014-11-04 17:48:34,701 saml2:INFO Logging started
2014-11-04 17:48:34,710 back:DEBUG --- SSO ---
2014-11-04 17:48:34,712 service:DEBUG ENVIRON: None
2014-11-04 17:48:35,894 root:INFO Server starting
2014-11-04 21:07:28,989 root:DEBUG unknown side: sso/redirect
2014-11-04 21:09:24,709 root:DEBUG unknown side: sso/redirect
2014-11-04 21:10:15,010 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:10:15,310 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:10:15,621 service:DEBUG ENVIRON: None
2014-11-04 21:10:15,622 saml2:INFO Logging started
2014-11-04 21:10:15,632 back:DEBUG --- SSO ---
2014-11-04 21:10:15,634 service:DEBUG ENVIRON: None
2014-11-04 21:10:15,662 root:INFO Server starting
2014-11-04 21:12:10,244 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:12:10,554 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:12:10,875 service:DEBUG ENVIRON: None
2014-11-04 21:12:10,876 saml2:INFO Logging started
2014-11-04 21:12:10,885 back:DEBUG --- SSO ---
2014-11-04 21:12:10,886 service:DEBUG ENVIRON: None
2014-11-04 21:12:10,913 root:INFO Server starting
2014-11-04 21:15:19,478 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:15:19,780 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:15:20,085 service:DEBUG ENVIRON: None
2014-11-04 21:15:20,086 saml2:INFO Logging started
2014-11-04 21:15:20,095 back:DEBUG --- SSO ---
2014-11-04 21:15:20,096 service:DEBUG ENVIRON: None
2014-11-04 21:15:20,123 root:INFO Server starting
2014-11-04 21:16:42,215 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:16:42,520 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:16:42,838 service:DEBUG ENVIRON: None
2014-11-04 21:16:42,839 saml2:INFO Logging started
2014-11-04 21:16:42,848 back:DEBUG --- SSO ---
2014-11-04 21:16:42,849 service:DEBUG ENVIRON: None
2014-11-04 21:16:42,874 root:INFO Server starting
2014-11-04 21:18:17,224 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:18:17,524 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:18:17,853 service:DEBUG ENVIRON: None
2014-11-04 21:18:17,855 saml2:INFO Logging started
2014-11-04 21:18:17,865 back:DEBUG --- SSO ---
2014-11-04 21:18:17,867 service:DEBUG ENVIRON: None
2014-11-04 21:18:17,893 root:INFO Server starting
2014-11-04 21:18:31,324 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=96956cb2e827465983ff3e607c08f062', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '53656', 'SERVER_NAME': 'Rolands-MacBook-2.local', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8088', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108026550>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8088', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-04 21:19:52,574 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:19:52,856 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:19:53,178 service:DEBUG ENVIRON: None
2014-11-04 21:19:53,179 saml2:INFO Logging started
2014-11-04 21:19:53,191 back:DEBUG --- SSO ---
2014-11-04 21:19:53,192 service:DEBUG ENVIRON: None
2014-11-04 21:19:53,222 root:INFO Server starting
2014-11-04 21:20:06,426 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=96956cb2e827465983ff3e607c08f062', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '53671', 'SERVER_NAME': 'Rolands-MacBook-2.local', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8088', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1073f3790>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8088', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-04 21:20:50,996 saml2.entity:INFO receiver addresses: []
2014-11-04 21:20:50,996 saml2.entity:INFO Binding: redirect
2014-11-04 21:21:12,661 root:ERROR Don't know how to handle 'redirect'
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 129, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 86, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/front.py", line 89, in handle_authn_request
    binding_in)
  File "/Users/rolandh/code/s2sproxy/front.py", line 42, in verify_request
    req_info = self.idp.parse_authn_request(query, binding)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.1.0-py2.7.egg/saml2/server.py", line 220, in parse_authn_request
    "single_sign_on_service", binding)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.1.0-py2.7.egg/saml2/entity.py", line 628, in _parse_request
    xmlstr = self.unravel(enc_request, binding, request_cls.msgtype)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.1.0-py2.7.egg/saml2/entity.py", line 354, in unravel
    raise ValueError("Don't know how to handle '%s'" % binding)
ValueError: Don't know how to handle 'redirect'
2014-11-04 21:21:21,217 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=96956cb2e827465983ff3e607c08f062', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '53671', 'SERVER_NAME': 'Rolands-MacBook-2.local', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8088', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108104650>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8088', 'HTTPS': 'on', 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-04 21:25:02,832 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:25:03,139 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:25:03,464 service:DEBUG ENVIRON: None
2014-11-04 21:25:03,465 saml2:INFO Logging started
2014-11-04 21:25:03,474 back:DEBUG --- SSO ---
2014-11-04 21:25:03,475 service:DEBUG ENVIRON: None
2014-11-04 21:25:03,501 root:INFO Server starting
2014-11-04 21:25:21,343 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:25:21,637 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:25:21,945 service:DEBUG ENVIRON: None
2014-11-04 21:25:21,946 saml2:INFO Logging started
2014-11-04 21:25:21,955 back:DEBUG --- SSO ---
2014-11-04 21:25:21,956 service:DEBUG ENVIRON: None
2014-11-04 21:25:21,981 root:INFO Server starting
2014-11-04 21:25:45,384 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=96956cb2e827465983ff3e607c08f062', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '53736', 'SERVER_NAME': 'Rolands-MacBook-2.local', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8088', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106c33750>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8088', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-04 21:26:01,382 saml2.entity:INFO receiver addresses: ['https://localhost:8088/sso/redirect']
2014-11-04 21:26:01,383 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-04 21:26:01,384 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:26:01,388 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:26:01,410 saml2.entity:DEBUG Loaded request
2014-11-04 21:26:01,411 saml2.entity:DEBUG Verified request
2014-11-04 21:26:01,412 front:INFO parsed OK
2014-11-04 21:26:01,414 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:26:01,415 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-04 21:26:01,416 saml2.mdstore:ERROR Unknown system entity: http://localhost:8087/sp.xml
2014-11-04 21:26:01,416 front:ERROR Couldn't find receiver endpoint: http://localhost:8087/sp.xml
2014-11-04 21:28:03,778 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:28:04,085 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:28:04,412 service:DEBUG ENVIRON: None
2014-11-04 21:28:04,413 saml2:INFO Logging started
2014-11-04 21:28:04,422 back:DEBUG --- SSO ---
2014-11-04 21:28:04,424 service:DEBUG ENVIRON: None
2014-11-04 21:28:04,449 root:INFO Server starting
2014-11-04 21:28:23,723 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=96956cb2e827465983ff3e607c08f062', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '53763', 'SERVER_NAME': 'Rolands-MacBook-2.local', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8088', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x107429410>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8088', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-04 21:28:29,831 saml2.entity:INFO receiver addresses: ['https://localhost:8088/sso/redirect']
2014-11-04 21:28:29,832 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-04 21:28:29,833 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:28:29,836 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:28:29,857 saml2.entity:DEBUG Loaded request
2014-11-04 21:28:29,859 saml2.entity:DEBUG Verified request
2014-11-04 21:28:29,859 front:INFO parsed OK
2014-11-04 21:28:29,861 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:28:29,862 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-04 21:28:29,862 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/redirect'}]
2014-11-04 21:28:29,863 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8087/acs/redirect
2014-11-04 21:28:29,864 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-04 21:28:29,864 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/redirect'}]
2014-11-04 21:38:45,577 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:38:45,893 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:38:46,213 service:DEBUG ENVIRON: None
2014-11-04 21:38:46,214 saml2:INFO Logging started
2014-11-04 21:38:46,222 back:DEBUG --- SSO ---
2014-11-04 21:38:46,224 service:DEBUG ENVIRON: None
2014-11-04 21:38:46,250 root:INFO Server starting
2014-11-04 21:39:05,719 root:ERROR __init__() takes exactly 5 arguments (6 given)
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 153, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 107, in run
    incomming)
TypeError: __init__() takes exactly 5 arguments (6 given)
2014-11-04 21:41:31,438 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:41:31,753 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:41:32,076 service:DEBUG ENVIRON: None
2014-11-04 21:41:32,077 saml2:INFO Logging started
2014-11-04 21:41:32,086 back:DEBUG --- SSO ---
2014-11-04 21:41:58,405 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:41:58,711 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:41:59,035 service:DEBUG ENVIRON: None
2014-11-04 21:41:59,036 saml2:INFO Logging started
2014-11-04 21:41:59,046 back:DEBUG --- SSO ---
2014-11-04 21:41:59,047 service:DEBUG ENVIRON: None
2014-11-04 21:41:59,072 root:INFO Server starting
2014-11-04 21:42:07,345 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=96956cb2e827465983ff3e607c08f062', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '53880', 'SERVER_NAME': 'Rolands-MacBook-2.local', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8088', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106bf5490>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8088', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-04 21:42:13,261 saml2.entity:INFO receiver addresses: ['https://localhost:8088/sso/redirect']
2014-11-04 21:42:13,262 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-04 21:42:13,263 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:42:13,267 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:42:13,287 saml2.entity:DEBUG Loaded request
2014-11-04 21:42:13,288 saml2.entity:DEBUG Verified request
2014-11-04 21:42:13,289 front:INFO parsed OK
2014-11-04 21:42:13,291 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:42:13,291 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-04 21:42:13,292 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/redirect'}]
2014-11-04 21:42:13,293 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8087/acs/redirect
2014-11-04 21:42:13,294 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-04 21:42:13,295 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/redirect'}]
2014-11-04 21:43:28,382 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:43:28,702 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:43:29,019 service:DEBUG ENVIRON: None
2014-11-04 21:43:29,020 saml2:INFO Logging started
2014-11-04 21:43:29,029 back:DEBUG --- SSO ---
2014-11-04 21:43:29,030 service:DEBUG ENVIRON: None
2014-11-04 21:43:29,056 root:INFO Server starting
2014-11-04 21:43:42,139 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=96956cb2e827465983ff3e607c08f062', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '53903', 'SERVER_NAME': 'Rolands-MacBook-2.local', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8088', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1073f53d0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8088', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-04 21:43:52,916 saml2.entity:INFO receiver addresses: ['https://localhost:8088/sso/redirect']
2014-11-04 21:43:52,917 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-04 21:43:52,918 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:43:52,921 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:43:52,943 saml2.entity:DEBUG Loaded request
2014-11-04 21:43:52,944 saml2.entity:DEBUG Verified request
2014-11-04 21:43:52,945 front:INFO parsed OK
2014-11-04 21:43:52,947 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:43:52,948 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-04 21:43:52,948 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/redirect'}]
2014-11-04 21:43:52,949 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8087/acs/redirect
2014-11-04 21:43:52,949 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-04 21:43:52,950 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/redirect'}]
2014-11-04 21:44:22,190 root:ERROR incomming() takes exactly 3 arguments (1 given)
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 153, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 110, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/front.py", line 109, in handle_authn_request
    return self.incomming(_dict)
TypeError: incomming() takes exactly 3 arguments (1 given)
2014-11-04 21:45:08,309 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:45:08,630 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:45:08,953 service:DEBUG ENVIRON: None
2014-11-04 21:45:08,955 saml2:INFO Logging started
2014-11-04 21:45:08,964 back:DEBUG --- SSO ---
2014-11-04 21:45:08,965 service:DEBUG ENVIRON: None
2014-11-04 21:45:08,994 root:INFO Server starting
2014-11-04 21:45:17,248 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=96956cb2e827465983ff3e607c08f062', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '53918', 'SERVER_NAME': 'Rolands-MacBook-2.local', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8088', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x107429450>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8088', 'HTTPS': 'on', 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-04 21:45:27,086 saml2.entity:INFO receiver addresses: ['https://localhost:8088/sso/redirect']
2014-11-04 21:45:27,087 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-04 21:45:27,088 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:45:27,092 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:45:27,113 saml2.entity:DEBUG Loaded request
2014-11-04 21:45:27,114 saml2.entity:DEBUG Verified request
2014-11-04 21:45:27,115 front:INFO parsed OK
2014-11-04 21:45:27,116 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:45:27,117 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-04 21:45:27,118 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/redirect'}]
2014-11-04 21:45:27,119 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8087/acs/redirect
2014-11-04 21:45:27,119 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-04 21:45:27,120 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/redirect'}]
2014-11-04 21:45:35,234 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=96956cb2e827465983ff3e607c08f062', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '53918', 'SERVER_NAME': 'Rolands-MacBook-2.local', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8088', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x107429450>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8088', 'HTTPS': 'on', 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-04 21:45:35,242 back:DEBUG --- SSO ---
2014-11-04 21:46:47,951 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:46:48,258 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-04 21:46:48,580 service:DEBUG ENVIRON: None
2014-11-04 21:46:48,581 saml2:INFO Logging started
2014-11-04 21:46:48,591 back:DEBUG --- SSO ---
2014-11-04 21:46:48,592 service:DEBUG ENVIRON: None
2014-11-04 21:46:48,618 root:INFO Server starting
2014-11-04 21:46:54,867 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=96956cb2e827465983ff3e607c08f062', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '53935', 'SERVER_NAME': 'Rolands-MacBook-2.local', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8088', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x107330410>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8088', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhdkhLsEgQBaEiQYV4dNGdcZxiKdjU49Dy93WA0ocqpO7s0b0zZx7d3vu2RHtpQRmdNmiTNJDUwuRKv6SN1XIUJI1edtPVQFi%2Fchs9l6%2BVBIe8TQPz4RRXVjPDQfkv30pgTrBFfzphUZOwnTXOCFPii4FeN3AAaZ2Hwaj%2F%2BRwYDdVW2oW0eyXkaj5J8ca5HQvD0ghebgw4lpCkHXIBoZW5slI4jIYeVGlepzgZ4LcjCQHMN8d4mGKVB7R9l%2BeR4HEronE7vyWk1SrWUZHwTqdDi9gLASo51uC4dimOCI0DSgMSLyPCSIdF8TNGs3Pv90ofx3m17%2FVJBOxhuZwF8wuRT7JXubSP3pHi6QEtZghOc8Do6bw37DPgzC%2BJsiOYRSNjt9xdL1lHfLPFUcqkdsodcPb3YGHX9Avshl8lsuNN1Fjj4cyUShxQvyzN28BK7jxqwUvwiP8HcZZrUB4HozCrK%2F68vOwD&RelayState=oBAHzh9QPvBjqJ3z', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-04 21:46:56,075 saml2.entity:INFO receiver addresses: ['https://localhost:8088/sso/redirect']
2014-11-04 21:46:56,076 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-04 21:46:56,077 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:46:56,081 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:46:56,103 saml2.entity:DEBUG Loaded request
2014-11-04 21:46:56,104 saml2.entity:DEBUG Verified request
2014-11-04 21:46:56,105 front:INFO parsed OK
2014-11-04 21:46:56,107 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/redirect" Destination="https://localhost:8088/sso/redirect" ID="id-176dd2ca432147d50033fb2f8a9991f4" IssueInstant="2014-11-04T20:09:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-04 21:46:56,108 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-04 21:46:56,108 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/redirect'}]
2014-11-04 21:46:56,109 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8087/acs/redirect
2014-11-04 21:46:56,110 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-04 21:46:56,110 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/redirect'}]
2014-11-17 15:59:15,103 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 15:59:15,184 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 15:59:15,189 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 15:59:15,233 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 15:59:15,234 service:DEBUG ENVIRON: None
2014-11-17 15:59:15,235 saml2:INFO Logging started
2014-11-17 15:59:15,237 back:DEBUG --- SSO ---
2014-11-17 15:59:15,238 service:DEBUG ENVIRON: None
2014-11-17 15:59:15,260 root:INFO Server starting
2014-11-17 16:00:29,373 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNT%2BMwEIbv%2ByssX3pKY4dsE6wmqFBVW6lARAMHbsaZUkup3fU43e2%2Fx0nZXS1Clbh5Ru%2FreeZjevV715IDONTWFCM%2BZiMCRtlGm9di9Fgvonx0VX6bGmRi1vmteYCfHaAnwWZQhHRBO2eElahDKHeAwiuxnt2uRDJmYu%2Bst8q29K%2BBnzdIRHA%2BwFAy%2B%2FO8sQa7Hbg1uINW8PiwKujW%2B72I49Yq2W4tepGzPIulwngfIkrmAVIb2dtPYvygvmQxoo0dNNqBCo7lvKC6iXiTwkuSsfwyz1SawYXiapJAkk7SDUsnKggRO1ga9NL4giaMpxHnEc9q%2Fl0wJlj%2BTEn13ve1NsMoz%2Fb8chKh%2BFHXVVTdr%2Bvhg4NuwN0FdUFvj2RdETz1T8nT%2B75ocNMyLIeLAcqRhXU76c%2BX6zOh0c0gFWC89kdafj5Q3I%2FD4qbxvxLlcAs91nJe2VarI5m1rf1140D6gLqRLQbEr4N4Jw3qgENJXPYV%2F7%2B48g0%3D&RelayState=Zf2O2bIs1r5sM5y4', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52851', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a92950>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNT%2BMwEIbv%2ByssX3pKY4dsE6wmqFBVW6lARAMHbsaZUkup3fU43e2%2Fx0nZXS1Clbh5Ru%2FreeZjevV715IDONTWFCM%2BZiMCRtlGm9di9Fgvonx0VX6bGmRi1vmteYCfHaAnwWZQhHRBO2eElahDKHeAwiuxnt2uRDJmYu%2Bst8q29K%2BBnzdIRHA%2BwFAy%2B%2FO8sQa7Hbg1uINW8PiwKujW%2B72I49Yq2W4tepGzPIulwngfIkrmAVIb2dtPYvygvmQxoo0dNNqBCo7lvKC6iXiTwkuSsfwyz1SawYXiapJAkk7SDUsnKggRO1ga9NL4giaMpxHnEc9q%2Fl0wJlj%2BTEn13ve1NsMoz%2Fb8chKh%2BFHXVVTdr%2Bvhg4NuwN0FdUFvj2RdETz1T8nT%2B75ocNMyLIeLAcqRhXU76c%2BX6zOh0c0gFWC89kdafj5Q3I%2FD4qbxvxLlcAs91nJe2VarI5m1rf1140D6gLqRLQbEr4N4Jw3qgENJXPYV%2F7%2B48g0%3D&RelayState=Zf2O2bIs1r5sM5y4', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:00:31,771 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-17 16:00:31,772 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-17 16:00:31,773 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-1d4eb2708987c47e3c1c62e2464f046c" IssueInstant="2014-11-17T15:00:08Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:00:31,777 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-1d4eb2708987c47e3c1c62e2464f046c" IssueInstant="2014-11-17T15:00:08Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:00:31,778 saml2.entity:DEBUG Loaded request
2014-11-17 16:00:31,779 saml2.entity:DEBUG Verified request
2014-11-17 16:00:31,780 front:INFO parsed OK
2014-11-17 16:00:31,782 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-1d4eb2708987c47e3c1c62e2464f046c" IssueInstant="2014-11-17T15:00:08Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:00:31,782 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:00:31,783 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:00:31,783 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-17 16:00:31,784 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:00:31,785 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:00:34,025 root:ERROR incomming() takes exactly 4 arguments (3 given)
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 166, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 129, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/front.py", line 109, in handle_authn_request
    return self.incomming(_dict, self.environ, self.start_response)
TypeError: incomming() takes exactly 4 arguments (3 given)
2014-11-17 16:00:41,459 root:DEBUG unknown side: favicon.ico
2014-11-17 16:01:54,174 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:01:54,245 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 16:01:54,251 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:01:54,298 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 16:01:54,299 service:DEBUG ENVIRON: None
2014-11-17 16:01:54,300 saml2:INFO Logging started
2014-11-17 16:01:54,302 back:DEBUG --- SSO ---
2014-11-17 16:01:54,303 service:DEBUG ENVIRON: None
2014-11-17 16:01:54,323 root:INFO Server starting
2014-11-17 16:02:17,699 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLTsMwEEX3fIXlTVdp7EChsZqgQoWoxCOigQU715lQS6ldPE6hf4%2BbFhAIVWLnGd3rOfMYnb8vG7IGh9qarMf7rEfAKFtp85L1HsuraNg7z49GBpkYt35hHuC1BfQk2AyKkM5o64ywEnUI5RJQeCVm49sbkfSZWDnrrbIN%2FTLwwwaJCM4HGErGn89La7BdgpuBW2sFjw83GV14vxJx3Fglm4VFL4ZseBZLhfEqRJRMAqQ2cmvfifGXOmUxoo0dVNqBCo7pJKO6iuY1DOWJnCsFaQJMnvKaVRVL08EgrY95EoSILUwNeml8RhPGTyLOI35W8oFgieDJMyXFvu8LbbpRHux5vhOhuC7LIiruZ2X3wVpX4O6COqO3GzIrCO76p%2BRpvy8a3DQPy%2BGig3Lkyrql9IfLbTOh0bqTCjBe%2Bw3N%2Fx4orvphcaP4u0Te3cIWazopbKPVhoybxr5dOpA%2BoNaywYD4fxDvpEEdcCiJ823FnxeXfwA%3D&RelayState=nSCgVyRhnF54Cleh', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '53668', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108b92990>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLTsMwEEX3fIXlTVdp7EChsZqgQoWoxCOigQU715lQS6ldPE6hf4%2BbFhAIVWLnGd3rOfMYnb8vG7IGh9qarMf7rEfAKFtp85L1HsuraNg7z49GBpkYt35hHuC1BfQk2AyKkM5o64ywEnUI5RJQeCVm49sbkfSZWDnrrbIN%2FTLwwwaJCM4HGErGn89La7BdgpuBW2sFjw83GV14vxJx3Fglm4VFL4ZseBZLhfEqRJRMAqQ2cmvfifGXOmUxoo0dVNqBCo7pJKO6iuY1DOWJnCsFaQJMnvKaVRVL08EgrY95EoSILUwNeml8RhPGTyLOI35W8oFgieDJMyXFvu8LbbpRHux5vhOhuC7LIiruZ2X3wVpX4O6COqO3GzIrCO76p%2BRpvy8a3DQPy%2BGig3Lkyrql9IfLbTOh0bqTCjBe%2Bw3N%2Fx4orvphcaP4u0Te3cIWazopbKPVhoybxr5dOpA%2BoNaywYD4fxDvpEEdcCiJ823FnxeXfwA%3D&RelayState=nSCgVyRhnF54Cleh', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:02:19,275 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-17 16:02:19,276 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-17 16:02:19,277 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-bfe8a4abcce92e0a61f0dd099559f312" IssueInstant="2014-11-17T15:02:12Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:02:19,280 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-bfe8a4abcce92e0a61f0dd099559f312" IssueInstant="2014-11-17T15:02:12Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:02:19,282 saml2.entity:DEBUG Loaded request
2014-11-17 16:02:19,283 saml2.entity:DEBUG Verified request
2014-11-17 16:02:19,284 front:INFO parsed OK
2014-11-17 16:02:19,286 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-bfe8a4abcce92e0a61f0dd099559f312" IssueInstant="2014-11-17T15:02:12Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:02:19,286 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:02:19,287 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:02:19,288 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-17 16:02:19,289 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:02:19,289 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:02:49,245 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLTsMwEEX3fIXlTVdp7EChsZqgQoWoxCOigQU715lQS6ldPE6hf4%2BbFhAIVWLnGd3rOfMYnb8vG7IGh9qarMf7rEfAKFtp85L1HsuraNg7z49GBpkYt35hHuC1BfQk2AyKkM5o64ywEnUI5RJQeCVm49sbkfSZWDnrrbIN%2FTLwwwaJCM4HGErGn89La7BdgpuBW2sFjw83GV14vxJx3Fglm4VFL4ZseBZLhfEqRJRMAqQ2cmvfifGXOmUxoo0dVNqBCo7pJKO6iuY1DOWJnCsFaQJMnvKaVRVL08EgrY95EoSILUwNeml8RhPGTyLOI35W8oFgieDJMyXFvu8LbbpRHux5vhOhuC7LIiruZ2X3wVpX4O6COqO3GzIrCO76p%2BRpvy8a3DQPy%2BGig3Lkyrql9IfLbTOh0bqTCjBe%2Bw3N%2Fx4orvphcaP4u0Te3cIWazopbKPVhoybxr5dOpA%2BoNaywYD4fxDvpEEdcCiJ823FnxeXfwA%3D&RelayState=nSCgVyRhnF54Cleh', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '53668', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108b92990>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLTsMwEEX3fIXlTVdp7EChsZqgQoWoxCOigQU715lQS6ldPE6hf4%2BbFhAIVWLnGd3rOfMYnb8vG7IGh9qarMf7rEfAKFtp85L1HsuraNg7z49GBpkYt35hHuC1BfQk2AyKkM5o64ywEnUI5RJQeCVm49sbkfSZWDnrrbIN%2FTLwwwaJCM4HGErGn89La7BdgpuBW2sFjw83GV14vxJx3Fglm4VFL4ZseBZLhfEqRJRMAqQ2cmvfifGXOmUxoo0dVNqBCo7pJKO6iuY1DOWJnCsFaQJMnvKaVRVL08EgrY95EoSILUwNeml8RhPGTyLOI35W8oFgieDJMyXFvu8LbbpRHux5vhOhuC7LIiruZ2X3wVpX4O6COqO3GzIrCO76p%2BRpvy8a3DQPy%2BGig3Lkyrql9IfLbTOh0bqTCjBe%2Bw3N%2Fx4orvphcaP4u0Te3cIWazopbKPVhoybxr5dOpA%2BoNaywYD4fxDvpEEdcCiJ823FnxeXfwA%3D&RelayState=nSCgVyRhnF54Cleh', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:02:49,247 back:DEBUG --- SSO ---
2014-11-17 16:02:55,933 root:ERROR 'authn_request'
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 166, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 129, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/front.py", line 109, in handle_authn_request
    return self.incomming(_dict, self, self.environ, self.start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 47, in incomming
    state = inst.store_state(info["authn_request"])
KeyError: 'authn_request'
2014-11-17 16:03:15,466 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaaxnIaNgIQogkoAsML7wra5Emo8WeDuXfWwZqNIbEu56T9%2B15zkd%2F8L4r0UFaUEYnDdokDSR1YYTSL0ljlU%2BCuDFIb%2FoaCBtWbqsX8rWS4JC3aWA%2BneDKamY4KB%2FynQTmCrYczmes1SRsb40zhSnxl4FeN3AAaZ2HwWj4%2BRwZDdVO2qW0B1XI1WKW4K1zexaGpSl4uTXgWEzibsgLCPc%2BwmjsIZXmJ%2FtZDL%2FUPRICmNBKoawsvGM6TrASQU%2BsiegJLmhEW%2B3bdbyJI9GL26LdiTqcRF4IUMmpBse1S3CL0HZAaUC7Oe0wEjFKnzHKLn3fKV2P8mrP67MI2H2eZ0H2uMzrDw5KSPvg1QmeH9EyQ3DuH6Ony76wd%2BPUL4eyGsqiibE77q6XO2V8o5tayqR2yh1x%2BvdAYd%2F0i%2BuH3yXS%2BhZOWNNxZkpVHNGwLM3byEruPOqGl%2BAR%2Fw%2FiLNegPA5GYXqq%2BPPi0g8%3D&RelayState=pKwjEVrEYOxYzqVK', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '54065', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108b9ab10>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaaxnIaNgIQogkoAsML7wra5Emo8WeDuXfWwZqNIbEu56T9%2B15zkd%2F8L4r0UFaUEYnDdokDSR1YYTSL0ljlU%2BCuDFIb%2FoaCBtWbqsX8rWS4JC3aWA%2BneDKamY4KB%2FynQTmCrYczmes1SRsb40zhSnxl4FeN3AAaZ2HwWj4%2BRwZDdVO2qW0B1XI1WKW4K1zexaGpSl4uTXgWEzibsgLCPc%2BwmjsIZXmJ%2FtZDL%2FUPRICmNBKoawsvGM6TrASQU%2BsiegJLmhEW%2B3bdbyJI9GL26LdiTqcRF4IUMmpBse1S3CL0HZAaUC7Oe0wEjFKnzHKLn3fKV2P8mrP67MI2H2eZ0H2uMzrDw5KSPvg1QmeH9EyQ3DuH6Ony76wd%2BPUL4eyGsqiibE77q6XO2V8o5tayqR2yh1x%2BvdAYd%2F0i%2BuH3yXS%2BhZOWNNxZkpVHNGwLM3byEruPOqGl%2BAR%2Fw%2FiLNegPA5GYXqq%2BPPi0g8%3D&RelayState=pKwjEVrEYOxYzqVK', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:03:16,578 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-17 16:03:16,578 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-17 16:03:16,579 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-9db0d9dad131246b8f83d984d4535a03" IssueInstant="2014-11-17T15:03:11Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:03:16,583 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-9db0d9dad131246b8f83d984d4535a03" IssueInstant="2014-11-17T15:03:11Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:03:16,584 saml2.entity:DEBUG Loaded request
2014-11-17 16:03:16,585 saml2.entity:DEBUG Verified request
2014-11-17 16:03:16,586 front:INFO parsed OK
2014-11-17 16:03:16,588 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-9db0d9dad131246b8f83d984d4535a03" IssueInstant="2014-11-17T15:03:11Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:03:16,588 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:03:16,589 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:03:16,590 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-17 16:03:16,590 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:03:16,591 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:03:52,523 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:03:52,591 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 16:03:52,598 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:03:52,646 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 16:03:52,647 service:DEBUG ENVIRON: None
2014-11-17 16:03:52,648 saml2:INFO Logging started
2014-11-17 16:03:52,650 back:DEBUG --- SSO ---
2014-11-17 16:03:52,651 service:DEBUG ENVIRON: None
2014-11-17 16:03:52,672 root:INFO Server starting
2014-11-17 16:04:09,718 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga6xg41rAZhBBJQBeZXnhXylGajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2BDq%2FdNRXZgURmdtaI2axHQ0qyUfslaD%2BUk6Leu8ouBRsaHtVvre3itAR3xNo3cpzNaW82NQOVDsQHkTvLFcD7jnTbjW2uckaaiX4bovEEggnUehpLh53NkNNYbsAuwOyXh4X6W0bVzWx6GlZGiWht0vM%2F6SSgkhlsfUTL2kEqLg%2F0oxl%2FqlIWIJrSwUhakd0zHGVWrIO2moitlspTLNI6XwOIeyI5Mkk4MaZxeeiFiDVONTmiX0Q6LukEUBVFSRj3Oupz1nigpTn1fK92M8mzPy6MI%2BU1ZFkFxtyibD3ZqBfbWqzM635NFQfDYPyWPp31R76a5X07EGyhLJsZuhDtf7pDxjT43Ug7aKben%2Bd8DxW3bL24QfpfIm1s4YE3HhamU3JNhVZm3kQXhPOqzqNAj%2Fh%2FEWaFReRxKwvxQ8efF5R8%3D&RelayState=1e8mrVByxNTNDWTI', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '54433', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a929d0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga6xg41rAZhBBJQBeZXnhXylGajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2BDq%2FdNRXZgURmdtaI2axHQ0qyUfslaD%2BUk6Leu8ouBRsaHtVvre3itAR3xNo3cpzNaW82NQOVDsQHkTvLFcD7jnTbjW2uckaaiX4bovEEggnUehpLh53NkNNYbsAuwOyXh4X6W0bVzWx6GlZGiWht0vM%2F6SSgkhlsfUTL2kEqLg%2F0oxl%2FqlIWIJrSwUhakd0zHGVWrIO2moitlspTLNI6XwOIeyI5Mkk4MaZxeeiFiDVONTmiX0Q6LukEUBVFSRj3Oupz1nigpTn1fK92M8mzPy6MI%2BU1ZFkFxtyibD3ZqBfbWqzM635NFQfDYPyWPp31R76a5X07EGyhLJsZuhDtf7pDxjT43Ug7aKben%2Bd8DxW3bL24QfpfIm1s4YE3HhamU3JNhVZm3kQXhPOqzqNAj%2Fh%2FEWaFReRxKwvxQ8efF5R8%3D&RelayState=1e8mrVByxNTNDWTI', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:04:10,929 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-17 16:04:10,930 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-17 16:04:10,931 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-949a4cc7bcb933be035ec2c7723e9396" IssueInstant="2014-11-17T15:04:05Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:04:10,935 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-949a4cc7bcb933be035ec2c7723e9396" IssueInstant="2014-11-17T15:04:05Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:04:10,937 saml2.entity:DEBUG Loaded request
2014-11-17 16:04:10,938 saml2.entity:DEBUG Verified request
2014-11-17 16:04:10,939 front:INFO parsed OK
2014-11-17 16:04:10,941 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-949a4cc7bcb933be035ec2c7723e9396" IssueInstant="2014-11-17T15:04:05Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:04:10,941 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:04:10,942 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:04:10,943 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-17 16:04:10,943 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:04:10,944 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:04:16,292 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga6xg41rAZhBBJQBeZXnhXylGajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2BDq%2FdNRXZgURmdtaI2axHQ0qyUfslaD%2BUk6Leu8ouBRsaHtVvre3itAR3xNo3cpzNaW82NQOVDsQHkTvLFcD7jnTbjW2uckaaiX4bovEEggnUehpLh53NkNNYbsAuwOyXh4X6W0bVzWx6GlZGiWht0vM%2F6SSgkhlsfUTL2kEqLg%2F0oxl%2FqlIWIJrSwUhakd0zHGVWrIO2moitlspTLNI6XwOIeyI5Mkk4MaZxeeiFiDVONTmiX0Q6LukEUBVFSRj3Oupz1nigpTn1fK92M8mzPy6MI%2BU1ZFkFxtyibD3ZqBfbWqzM635NFQfDYPyWPp31R76a5X07EGyhLJsZuhDtf7pDxjT43Ug7aKben%2Bd8DxW3bL24QfpfIm1s4YE3HhamU3JNhVZm3kQXhPOqzqNAj%2Fh%2FEWaFReRxKwvxQ8efF5R8%3D&RelayState=1e8mrVByxNTNDWTI', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '54433', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a929d0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga6xg41rAZhBBJQBeZXnhXylGajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2BDq%2FdNRXZgURmdtaI2axHQ0qyUfslaD%2BUk6Leu8ouBRsaHtVvre3itAR3xNo3cpzNaW82NQOVDsQHkTvLFcD7jnTbjW2uckaaiX4bovEEggnUehpLh53NkNNYbsAuwOyXh4X6W0bVzWx6GlZGiWht0vM%2F6SSgkhlsfUTL2kEqLg%2F0oxl%2FqlIWIJrSwUhakd0zHGVWrIO2moitlspTLNI6XwOIeyI5Mkk4MaZxeeiFiDVONTmiX0Q6LukEUBVFSRj3Oupz1nigpTn1fK92M8mzPy6MI%2BU1ZFkFxtyibD3ZqBfbWqzM635NFQfDYPyWPp31R76a5X07EGyhLJsZuhDtf7pDxjT43Ug7aKben%2Bd8DxW3bL24QfpfIm1s4YE3HhamU3JNhVZm3kQXhPOqzqNAj%2Fh%2FEWaFReRxKwvxQ8efF5R8%3D&RelayState=1e8mrVByxNTNDWTI', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:04:16,294 back:DEBUG --- SSO ---
2014-11-17 16:04:17,163 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga6xg41rAZhBBJQBeZXnhXylGajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2BDq%2FdNRXZgURmdtaI2axHQ0qyUfslaD%2BUk6Leu8ouBRsaHtVvre3itAR3xNo3cpzNaW82NQOVDsQHkTvLFcD7jnTbjW2uckaaiX4bovEEggnUehpLh53NkNNYbsAuwOyXh4X6W0bVzWx6GlZGiWht0vM%2F6SSgkhlsfUTL2kEqLg%2F0oxl%2FqlIWIJrSwUhakd0zHGVWrIO2moitlspTLNI6XwOIeyI5Mkk4MaZxeeiFiDVONTmiX0Q6LukEUBVFSRj3Oupz1nigpTn1fK92M8mzPy6MI%2BU1ZFkFxtyibD3ZqBfbWqzM635NFQfDYPyWPp31R76a5X07EGyhLJsZuhDtf7pDxjT43Ug7aKben%2Bd8DxW3bL24QfpfIm1s4YE3HhamU3JNhVZm3kQXhPOqzqNAj%2Fh%2FEWaFReRxKwvxQ8efF5R8%3D&RelayState=1e8mrVByxNTNDWTI'
2014-11-17 16:04:22,221 root:ERROR 'dict' object has no attribute 'outstanding_queries'
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 166, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 129, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/front.py", line 109, in handle_authn_request
    return self.incomming(_dict, self, self.environ, self.start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 47, in incomming
    state = inst.store_state(info["authn_req"])
  File "/Users/rolandh/code/s2sproxy/back.py", line 68, in store_state
    self.cache.outstanding_queries[state] = authn_req
AttributeError: 'dict' object has no attribute 'outstanding_queries'
2014-11-17 16:04:54,934 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNTwIxEIbv%2FoqmF07LtsiXDbsGJUQS0I2sHryV7iBNlhY7XZR%2Fb3fxIxpD4q0zed%2FOMx%2Bjy7dtSfbgUFuTtHibtQgYZQttnpPWQz6Nhq3L9GxkkIlx5TfmHl4qQE%2BCzaAI6YRWzggrUYdQbgGFV2I5XsxFp83EzllvlS3pl4GfNkhEcD7AUDL%2BfF5bg9UW3BLcXit4uJ8ndOP9TsRxaZUsNxa9GLLhIJYK412IKJkESG1kbT%2BK8Zf6gsWINnZQaAcqOGaThOoiWitYFZ11d3DOQKrBBe%2BupVL9FS%2BGK9Yv%2BkGIWMHMoJfGJ7TDeDfiPOKDnPcE64oef6Ik%2B%2Bj7SptmlCd7Xh1FKG7yPIuyu2XefLDXBbjboE7o4kCWGcFj%2F5Q8fuyLBjdNw3K4aKAcmVq3lf50uTpTN9pIBRiv%2FYGmfw8Ud%2B2wuFH8XSJtbqHGmk0yW2p1IOOytK%2FXDqQPqGtZYkD8P4h30qAOOJTEaV3x58Wl7w%3D%3D&RelayState=zxrGbVi6BxMlGwt5', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '54742', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a9bb50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07LtsiXDbsGJUQS0I2sHryV7iBNlhY7XZR%2Fb3fxIxpD4q0zed%2FOMx%2Bjy7dtSfbgUFuTtHibtQgYZQttnpPWQz6Nhq3L9GxkkIlx5TfmHl4qQE%2BCzaAI6YRWzggrUYdQbgGFV2I5XsxFp83EzllvlS3pl4GfNkhEcD7AUDL%2BfF5bg9UW3BLcXit4uJ8ndOP9TsRxaZUsNxa9GLLhIJYK412IKJkESG1kbT%2BK8Zf6gsWINnZQaAcqOGaThOoiWitYFZ11d3DOQKrBBe%2BupVL9FS%2BGK9Yv%2BkGIWMHMoJfGJ7TDeDfiPOKDnPcE64oef6Ik%2B%2Bj7SptmlCd7Xh1FKG7yPIuyu2XefLDXBbjboE7o4kCWGcFj%2F5Q8fuyLBjdNw3K4aKAcmVq3lf50uTpTN9pIBRiv%2FYGmfw8Ud%2B2wuFH8XSJtbqHGmk0yW2p1IOOytK%2FXDqQPqGtZYkD8P4h30qAOOJTEaV3x58Wl7w%3D%3D&RelayState=zxrGbVi6BxMlGwt5', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:04:55,993 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-17 16:04:55,994 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-17 16:04:55,995 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-fcebd2f4730eac7914facc6b1d8b06d6" IssueInstant="2014-11-17T15:04:51Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:04:55,999 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-fcebd2f4730eac7914facc6b1d8b06d6" IssueInstant="2014-11-17T15:04:51Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:04:56,001 saml2.entity:DEBUG Loaded request
2014-11-17 16:04:56,002 saml2.entity:DEBUG Verified request
2014-11-17 16:04:56,003 front:INFO parsed OK
2014-11-17 16:04:56,005 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-fcebd2f4730eac7914facc6b1d8b06d6" IssueInstant="2014-11-17T15:04:51Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:04:56,005 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:04:56,006 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:04:56,007 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-17 16:04:56,007 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:04:56,008 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:04:59,570 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNTwIxEIbv%2FoqmF07LtsiXDbsGJUQS0I2sHryV7iBNlhY7XZR%2Fb3fxIxpD4q0zed%2FOMx%2Bjy7dtSfbgUFuTtHibtQgYZQttnpPWQz6Nhq3L9GxkkIlx5TfmHl4qQE%2BCzaAI6YRWzggrUYdQbgGFV2I5XsxFp83EzllvlS3pl4GfNkhEcD7AUDL%2BfF5bg9UW3BLcXit4uJ8ndOP9TsRxaZUsNxa9GLLhIJYK412IKJkESG1kbT%2BK8Zf6gsWINnZQaAcqOGaThOoiWitYFZ11d3DOQKrBBe%2BupVL9FS%2BGK9Yv%2BkGIWMHMoJfGJ7TDeDfiPOKDnPcE64oef6Ik%2B%2Bj7SptmlCd7Xh1FKG7yPIuyu2XefLDXBbjboE7o4kCWGcFj%2F5Q8fuyLBjdNw3K4aKAcmVq3lf50uTpTN9pIBRiv%2FYGmfw8Ud%2B2wuFH8XSJtbqHGmk0yW2p1IOOytK%2FXDqQPqGtZYkD8P4h30qAOOJTEaV3x58Wl7w%3D%3D&RelayState=zxrGbVi6BxMlGwt5', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '54742', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a9bb50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07LtsiXDbsGJUQS0I2sHryV7iBNlhY7XZR%2Fb3fxIxpD4q0zed%2FOMx%2Bjy7dtSfbgUFuTtHibtQgYZQttnpPWQz6Nhq3L9GxkkIlx5TfmHl4qQE%2BCzaAI6YRWzggrUYdQbgGFV2I5XsxFp83EzllvlS3pl4GfNkhEcD7AUDL%2BfF5bg9UW3BLcXit4uJ8ndOP9TsRxaZUsNxa9GLLhIJYK412IKJkESG1kbT%2BK8Zf6gsWINnZQaAcqOGaThOoiWitYFZ11d3DOQKrBBe%2BupVL9FS%2BGK9Yv%2BkGIWMHMoJfGJ7TDeDfiPOKDnPcE64oef6Ik%2B%2Bj7SptmlCd7Xh1FKG7yPIuyu2XefLDXBbjboE7o4kCWGcFj%2F5Q8fuyLBjdNw3K4aKAcmVq3lf50uTpTN9pIBRiv%2FYGmfw8Ud%2B2wuFH8XSJtbqHGmk0yW2p1IOOytK%2FXDqQPqGtZYkD8P4h30qAOOJTEaV3x58Wl7w%3D%3D&RelayState=zxrGbVi6BxMlGwt5', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:04:59,572 back:DEBUG --- SSO ---
2014-11-17 16:07:06,028 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:07:06,095 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 16:07:06,102 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:07:06,148 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 16:07:06,149 service:DEBUG ENVIRON: None
2014-11-17 16:07:06,150 saml2:INFO Logging started
2014-11-17 16:07:06,152 back:DEBUG --- SSO ---
2014-11-17 16:07:06,153 service:DEBUG ENVIRON: None
2014-11-17 16:07:06,176 root:INFO Server starting
2014-11-17 16:07:14,796 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaW3GE0bARhBBJQBcYXnjXdZ002Vrs6VD%2BvWWgRmNIvOs5ed%2Be53yMxu91hQ7CgNQq7pBu0EFCcV1I9RJ3ttncizrj5GakIKCTxu7UWrw2AixyNgXUpWPcGEU1A%2BlCVgugltPNZLWkvW5A90ZbzXWFvwzkuoEBCGMdDEaTz%2BdUK2hqYTbCHCQX2%2FUyxjtr99T3K81ZtdNgaRREA59x8PcuwmjmIKViJ%2FtZDL%2FUw8AH0L4RhTSCO8diFmNZeHk07PeLshz0QlIWUV8UvXxIWM6LkN%2FmIXdCgEYsFFimbIx7AQk9QjwyyEifBgNKgmeM0kvfd1K1o7zac34WAb3PstRLHzdZ%2B8FBFsI8OHWMV0e0SRGc%2B8fo6bIv7Nw4ccshtIUyaK5Nzez1cqeMa7RspVQoK%2B0RJ38PFPZdt7iR%2F10iaW%2FhhLWYpbqS%2FIgmVaXfpkYw61BLVoFD%2FD%2BINUyBdDgY%2Bcmp4s%2BLSz4A&RelayState=1FE5f23gwohllWsX', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55671', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a92990>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaW3GE0bARhBBJQBcYXnjXdZ002Vrs6VD%2BvWWgRmNIvOs5ed%2Be53yMxu91hQ7CgNQq7pBu0EFCcV1I9RJ3ttncizrj5GakIKCTxu7UWrw2AixyNgXUpWPcGEU1A%2BlCVgugltPNZLWkvW5A90ZbzXWFvwzkuoEBCGMdDEaTz%2BdUK2hqYTbCHCQX2%2FUyxjtr99T3K81ZtdNgaRREA59x8PcuwmjmIKViJ%2FtZDL%2FUw8AH0L4RhTSCO8diFmNZeHk07PeLshz0QlIWUV8UvXxIWM6LkN%2FmIXdCgEYsFFimbIx7AQk9QjwyyEifBgNKgmeM0kvfd1K1o7zac34WAb3PstRLHzdZ%2B8FBFsI8OHWMV0e0SRGc%2B8fo6bIv7Nw4ccshtIUyaK5Nzez1cqeMa7RspVQoK%2B0RJ38PFPZdt7iR%2F10iaW%2FhhLWYpbqS%2FIgmVaXfpkYw61BLVoFD%2FD%2BINUyBdDgY%2Bcmp4s%2BLSz4A&RelayState=1FE5f23gwohllWsX', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:07:16,035 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-17 16:07:16,036 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-17 16:07:16,037 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-b8955dff7241fd85ed2b91abcd4c3b4c" IssueInstant="2014-11-17T15:07:10Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:07:16,041 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-b8955dff7241fd85ed2b91abcd4c3b4c" IssueInstant="2014-11-17T15:07:10Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:07:16,043 saml2.entity:DEBUG Loaded request
2014-11-17 16:07:16,044 saml2.entity:DEBUG Verified request
2014-11-17 16:07:16,045 front:INFO parsed OK
2014-11-17 16:07:16,047 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-b8955dff7241fd85ed2b91abcd4c3b4c" IssueInstant="2014-11-17T15:07:10Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:07:16,047 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:07:16,048 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:07:16,049 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-17 16:07:16,049 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:07:16,050 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:07:19,955 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaW3GE0bARhBBJQBcYXnjXdZ002Vrs6VD%2BvWWgRmNIvOs5ed%2Be53yMxu91hQ7CgNQq7pBu0EFCcV1I9RJ3ttncizrj5GakIKCTxu7UWrw2AixyNgXUpWPcGEU1A%2BlCVgugltPNZLWkvW5A90ZbzXWFvwzkuoEBCGMdDEaTz%2BdUK2hqYTbCHCQX2%2FUyxjtr99T3K81ZtdNgaRREA59x8PcuwmjmIKViJ%2FtZDL%2FUw8AH0L4RhTSCO8diFmNZeHk07PeLshz0QlIWUV8UvXxIWM6LkN%2FmIXdCgEYsFFimbIx7AQk9QjwyyEifBgNKgmeM0kvfd1K1o7zac34WAb3PstRLHzdZ%2B8FBFsI8OHWMV0e0SRGc%2B8fo6bIv7Nw4ccshtIUyaK5Nzez1cqeMa7RspVQoK%2B0RJ38PFPZdt7iR%2F10iaW%2FhhLWYpbqS%2FIgmVaXfpkYw61BLVoFD%2FD%2BINUyBdDgY%2Bcmp4s%2BLSz4A&RelayState=1FE5f23gwohllWsX', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55671', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a92990>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaW3GE0bARhBBJQBcYXnjXdZ002Vrs6VD%2BvWWgRmNIvOs5ed%2Be53yMxu91hQ7CgNQq7pBu0EFCcV1I9RJ3ttncizrj5GakIKCTxu7UWrw2AixyNgXUpWPcGEU1A%2BlCVgugltPNZLWkvW5A90ZbzXWFvwzkuoEBCGMdDEaTz%2BdUK2hqYTbCHCQX2%2FUyxjtr99T3K81ZtdNgaRREA59x8PcuwmjmIKViJ%2FtZDL%2FUw8AH0L4RhTSCO8diFmNZeHk07PeLshz0QlIWUV8UvXxIWM6LkN%2FmIXdCgEYsFFimbIx7AQk9QjwyyEifBgNKgmeM0kvfd1K1o7zac34WAb3PstRLHzdZ%2B8FBFsI8OHWMV0e0SRGc%2B8fo6bIv7Nw4ccshtIUyaK5Nzez1cqeMa7RspVQoK%2B0RJ38PFPZdt7iR%2F10iaW%2FhhLWYpbqS%2FIgmVaXfpkYw61BLVoFD%2FD%2BINUyBdDgY%2Bcmp4s%2BLSz4A&RelayState=1FE5f23gwohllWsX', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:07:19,956 back:DEBUG --- SSO ---
2014-11-17 16:07:21,207 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaW3GE0bARhBBJQBcYXnjXdZ002Vrs6VD%2BvWWgRmNIvOs5ed%2Be53yMxu91hQ7CgNQq7pBu0EFCcV1I9RJ3ttncizrj5GakIKCTxu7UWrw2AixyNgXUpWPcGEU1A%2BlCVgugltPNZLWkvW5A90ZbzXWFvwzkuoEBCGMdDEaTz%2BdUK2hqYTbCHCQX2%2FUyxjtr99T3K81ZtdNgaRREA59x8PcuwmjmIKViJ%2FtZDL%2FUw8AH0L4RhTSCO8diFmNZeHk07PeLshz0QlIWUV8UvXxIWM6LkN%2FmIXdCgEYsFFimbIx7AQk9QjwyyEifBgNKgmeM0kvfd1K1o7zac34WAb3PstRLHzdZ%2B8FBFsI8OHWMV0e0SRGc%2B8fo6bIv7Nw4ccshtIUyaK5Nzez1cqeMa7RspVQoK%2B0RJ38PFPZdt7iR%2F10iaW%2FhhLWYpbqS%2FIgmVaXfpkYw61BLVoFD%2FD%2BINUyBdDgY%2Bcmp4s%2BLSz4A&RelayState=1FE5f23gwohllWsX'
2014-11-17 16:07:28,173 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-17 16:07:28,175 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-17 16:07:28,176 saml2.mdstore:ERROR Unknown system entity: http://localhost:8088/idp.xml
2014-11-17 16:07:28,177 back:ERROR http://localhost:8088/idp.xml
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/back.py", line 102, in authn_request
    entity_id=entity_id)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/entity.py", line 255, in pick_binding
    srvs = sfunc(entity_id, binding, descr_type)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 745, in single_sign_on_service
    "single_sign_on_service", binding)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 721, in service
    raise UnknownSystemEntity(entity_id)
UnknownSystemEntity: http://localhost:8088/idp.xml
2014-11-17 16:08:14,172 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa5GPrWEzKDGSgC4wvfCu64o0GS32dCj%2F3m6gRmNIvOs5ed%2Be53yMr963FdpLC8ropEO7pIOkFqZU%2BiXpPOa3QdS5Si%2FGGgib1G6jl%2FK1luCQt2lgPp3g2mpmOCgf8q0E5gRbTRZz1usStrPGGWEq%2FGWg5w0cQFrnYTCafD5vjIZ6K%2B1K2r0S8nE5T%2FDGuR0Lw8oIXm0MOBaRaBRyAeHORxhNPaTSvLEfxfBLHZMQwIRWlspK4R2zaYJVGRSDASeiV9B1se7LfnxZEFEOoyKOhlHMeeyFALWcaXBcuwT3CO0HlAZ0lNMBIxGj5Bmj7NT3tdLtKM%2F2XBxFwO7yPAuyh1XefrBXpbT3Xp3gxQGtMgTH%2FjF6Ou0LezdO%2FXIoa6EsujV2y935ck3GN7pupUxqp9wBp38PFHZdv7hx%2BF0ibW%2BhwZpNM1MpcUCTqjJvN1Zy51HXvAKP%2BH8QZ7kG5XEwCtOm4s%2BLSz8A&RelayState=kDxYO8gkdVNDRuMC', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56087', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10772be50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa5GPrWEzKDGSgC4wvfCu64o0GS32dCj%2F3m6gRmNIvOs5ed%2Be53yMr963FdpLC8ropEO7pIOkFqZU%2BiXpPOa3QdS5Si%2FGGgib1G6jl%2FK1luCQt2lgPp3g2mpmOCgf8q0E5gRbTRZz1usStrPGGWEq%2FGWg5w0cQFrnYTCafD5vjIZ6K%2B1K2r0S8nE5T%2FDGuR0Lw8oIXm0MOBaRaBRyAeHORxhNPaTSvLEfxfBLHZMQwIRWlspK4R2zaYJVGRSDASeiV9B1se7LfnxZEFEOoyKOhlHMeeyFALWcaXBcuwT3CO0HlAZ0lNMBIxGj5Bmj7NT3tdLtKM%2F2XBxFwO7yPAuyh1XefrBXpbT3Xp3gxQGtMgTH%2FjF6Ou0LezdO%2FXIoa6EsujV2y935ck3GN7pupUxqp9wBp38PFHZdv7hx%2BF0ibW%2BhwZpNM1MpcUCTqjJvN1Zy51HXvAKP%2BH8QZ7kG5XEwCtOm4s%2BLSz8A&RelayState=kDxYO8gkdVNDRuMC', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:08:14,180 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNj9owEIbv%2FRWWL5xCHD66iUWCKAgViW2jJfTQm3GGYinY1OPQ8u87hO2udlUh9eYZva%2FnmY%2FJ9PexYWfwaJzNe0lf9BhY7Wpjf%2BS9bbWM0t60%2BDCxKOSsDQf7BD9bwMDIZlFSOuett9IpNBSqI6AMWm5mj2s56At58i447Rr%2BYkjuGxQi%2BEAwnM3%2BPufOYnsEvwF%2FNhq2T%2BucH0I4yThunFbNwWGQqUgfYqUxPlHE2YIgjVVX%2B02M79SZiBFd7KE2HjQ5VoucmzoaQQrpfgiD4WinsiGIsQJByazOxE7vMhIitrCyGJQNOR%2BIZBQlSZQ8VMlYilSKj985K5%2F7%2FmRsN8q7Pe9uIpSfq6qMyq%2BbqvvgbGrwX0id88cL25QMb%2F1z9u15X5zcvKDlJLKD8mzp%2FFGF%2B%2BWuGWp030kl2GDChRf%2FHiie%2BrS4Sfxaouhu4Yq1WpSuMfrCZk3jfs09qECoe9UgIf4%2FSPDKoiEczuLiWvHtxRV%2FAA%3D%3D&RelayState=VjKMtA1QfGxd2aMd', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56061', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10772b6d0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNj9owEIbv%2FRWWL5xCHD66iUWCKAgViW2jJfTQm3GGYinY1OPQ8u87hO2udlUh9eYZva%2FnmY%2FJ9PexYWfwaJzNe0lf9BhY7Wpjf%2BS9bbWM0t60%2BDCxKOSsDQf7BD9bwMDIZlFSOuett9IpNBSqI6AMWm5mj2s56At58i447Rr%2BYkjuGxQi%2BEAwnM3%2BPufOYnsEvwF%2FNhq2T%2BucH0I4yThunFbNwWGQqUgfYqUxPlHE2YIgjVVX%2B02M79SZiBFd7KE2HjQ5VoucmzoaQQrpfgiD4WinsiGIsQJByazOxE7vMhIitrCyGJQNOR%2BIZBQlSZQ8VMlYilSKj985K5%2F7%2FmRsN8q7Pe9uIpSfq6qMyq%2BbqvvgbGrwX0id88cL25QMb%2F1z9u15X5zcvKDlJLKD8mzp%2FFGF%2B%2BWuGWp030kl2GDChRf%2FHiie%2BrS4Sfxaouhu4Yq1WpSuMfrCZk3jfs09qECoe9UgIf4%2FSPDKoiEczuLiWvHtxRV%2FAA%3D%3D&RelayState=VjKMtA1QfGxd2aMd', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:08:14,986 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-17 16:08:14,987 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-17 16:08:14,989 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-17 16:08:14,990 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-17 16:08:14,992 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-b55a0c2b1fbf4e493b0cd68b98689aa9" IssueInstant="2014-11-17T15:08:10Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:08:14,994 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-4e8e8f3e234ba93e05ae04e89d90bcb9" IssueInstant="2014-11-17T15:08:06Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:08:14,999 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-b55a0c2b1fbf4e493b0cd68b98689aa9" IssueInstant="2014-11-17T15:08:10Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:08:15,004 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-4e8e8f3e234ba93e05ae04e89d90bcb9" IssueInstant="2014-11-17T15:08:06Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:08:15,006 saml2.entity:DEBUG Loaded request
2014-11-17 16:08:15,008 saml2.entity:DEBUG Loaded request
2014-11-17 16:08:15,009 saml2.entity:DEBUG Verified request
2014-11-17 16:08:15,011 front:INFO parsed OK
2014-11-17 16:08:15,014 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-b55a0c2b1fbf4e493b0cd68b98689aa9" IssueInstant="2014-11-17T15:08:10Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:08:15,011 saml2.entity:DEBUG Verified request
2014-11-17 16:08:15,016 front:INFO parsed OK
2014-11-17 16:08:15,015 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:08:15,018 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-4e8e8f3e234ba93e05ae04e89d90bcb9" IssueInstant="2014-11-17T15:08:06Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-17 16:08:15,018 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:08:15,020 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-17 16:08:15,019 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:08:15,021 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:08:15,022 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:08:15,024 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-17 16:08:15,023 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:08:15,024 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-17 16:08:15,026 saml2.mdstore:DEBUG service => [{'index': '2', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-17 16:08:20,700 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNj9owEIbv%2FRWWL5xCHD66iUWCKAgViW2jJfTQm3GGYinY1OPQ8u87hO2udlUh9eYZva%2FnmY%2FJ9PexYWfwaJzNe0lf9BhY7Wpjf%2BS9bbWM0t60%2BDCxKOSsDQf7BD9bwMDIZlFSOuett9IpNBSqI6AMWm5mj2s56At58i447Rr%2BYkjuGxQi%2BEAwnM3%2BPufOYnsEvwF%2FNhq2T%2BucH0I4yThunFbNwWGQqUgfYqUxPlHE2YIgjVVX%2B02M79SZiBFd7KE2HjQ5VoucmzoaQQrpfgiD4WinsiGIsQJByazOxE7vMhIitrCyGJQNOR%2BIZBQlSZQ8VMlYilSKj985K5%2F7%2FmRsN8q7Pe9uIpSfq6qMyq%2BbqvvgbGrwX0id88cL25QMb%2F1z9u15X5zcvKDlJLKD8mzp%2FFGF%2B%2BWuGWp030kl2GDChRf%2FHiie%2BrS4Sfxaouhu4Yq1WpSuMfrCZk3jfs09qECoe9UgIf4%2FSPDKoiEczuLiWvHtxRV%2FAA%3D%3D&RelayState=VjKMtA1QfGxd2aMd', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56061', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10772b6d0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNj9owEIbv%2FRWWL5xCHD66iUWCKAgViW2jJfTQm3GGYinY1OPQ8u87hO2udlUh9eYZva%2FnmY%2FJ9PexYWfwaJzNe0lf9BhY7Wpjf%2BS9bbWM0t60%2BDCxKOSsDQf7BD9bwMDIZlFSOuett9IpNBSqI6AMWm5mj2s56At58i447Rr%2BYkjuGxQi%2BEAwnM3%2BPufOYnsEvwF%2FNhq2T%2BucH0I4yThunFbNwWGQqUgfYqUxPlHE2YIgjVVX%2B02M79SZiBFd7KE2HjQ5VoucmzoaQQrpfgiD4WinsiGIsQJByazOxE7vMhIitrCyGJQNOR%2BIZBQlSZQ8VMlYilSKj985K5%2F7%2FmRsN8q7Pe9uIpSfq6qMyq%2BbqvvgbGrwX0id88cL25QMb%2F1z9u15X5zcvKDlJLKD8mzp%2FFGF%2B%2BWuGWp030kl2GDChRf%2FHiie%2BrS4Sfxaouhu4Yq1WpSuMfrCZk3jfs09qECoe9UgIf4%2FSPDKoiEczuLiWvHtxRV%2FAA%3D%3D&RelayState=VjKMtA1QfGxd2aMd', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:08:20,702 back:DEBUG --- SSO ---
2014-11-17 16:08:21,505 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJNj9owEIbv%2FRWWL5xCHD66iUWCKAgViW2jJfTQm3GGYinY1OPQ8u87hO2udlUh9eYZva%2FnmY%2FJ9PexYWfwaJzNe0lf9BhY7Wpjf%2BS9bbWM0t60%2BDCxKOSsDQf7BD9bwMDIZlFSOuett9IpNBSqI6AMWm5mj2s56At58i447Rr%2BYkjuGxQi%2BEAwnM3%2BPufOYnsEvwF%2FNhq2T%2BucH0I4yThunFbNwWGQqUgfYqUxPlHE2YIgjVVX%2B02M79SZiBFd7KE2HjQ5VoucmzoaQQrpfgiD4WinsiGIsQJByazOxE7vMhIitrCyGJQNOR%2BIZBQlSZQ8VMlYilSKj985K5%2F7%2FmRsN8q7Pe9uIpSfq6qMyq%2BbqvvgbGrwX0id88cL25QMb%2F1z9u15X5zcvKDlJLKD8mzp%2FFGF%2B%2BWuGWp030kl2GDChRf%2FHiie%2BrS4Sfxaouhu4Yq1WpSuMfrCZk3jfs09qECoe9UgIf4%2FSPDKoiEczuLiWvHtxRV%2FAA%3D%3D&RelayState=VjKMtA1QfGxd2aMd'
2014-11-17 16:08:38,009 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-17 16:08:38,010 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-17 16:08:38,011 saml2.mdstore:ERROR Unknown system entity: http://localhost:8088/idp.xml
2014-11-17 16:10:20,282 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa5GPrWEzKDGSgC4wvfCu64o0GS32dCj%2F3m6gRmNIvOs5ed%2Be53yMr963FdpLC8ropEO7pIOkFqZU%2BiXpPOa3QdS5Si%2FGGgib1G6jl%2FK1luCQt2lgPp3g2mpmOCgf8q0E5gRbTRZz1usStrPGGWEq%2FGWg5w0cQFrnYTCafD5vjIZ6K%2B1K2r0S8nE5T%2FDGuR0Lw8oIXm0MOBaRaBRyAeHORxhNPaTSvLEfxfBLHZMQwIRWlspK4R2zaYJVGRSDASeiV9B1se7LfnxZEFEOoyKOhlHMeeyFALWcaXBcuwT3CO0HlAZ0lNMBIxGj5Bmj7NT3tdLtKM%2F2XBxFwO7yPAuyh1XefrBXpbT3Xp3gxQGtMgTH%2FjF6Ou0LezdO%2FXIoa6EsujV2y935ck3GN7pupUxqp9wBp38PFHZdv7hx%2BF0ibW%2BhwZpNM1MpcUCTqjJvN1Zy51HXvAKP%2BH8QZ7kG5XEwCtOm4s%2BLSz8A&RelayState=kDxYO8gkdVNDRuMC', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '56087', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10772be50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa5GPrWEzKDGSgC4wvfCu64o0GS32dCj%2F3m6gRmNIvOs5ed%2Be53yMr963FdpLC8ropEO7pIOkFqZU%2BiXpPOa3QdS5Si%2FGGgib1G6jl%2FK1luCQt2lgPp3g2mpmOCgf8q0E5gRbTRZz1usStrPGGWEq%2FGWg5w0cQFrnYTCafD5vjIZ6K%2B1K2r0S8nE5T%2FDGuR0Lw8oIXm0MOBaRaBRyAeHORxhNPaTSvLEfxfBLHZMQwIRWlspK4R2zaYJVGRSDASeiV9B1se7LfnxZEFEOoyKOhlHMeeyFALWcaXBcuwT3CO0HlAZ0lNMBIxGj5Bmj7NT3tdLtKM%2F2XBxFwO7yPAuyh1XefrBXpbT3Xp3gxQGtMgTH%2FjF6Ou0LezdO%2FXIoa6EsujV2y935ck3GN7pupUxqp9wBp38PFHZdv7hx%2BF0ibW%2BhwZpNM1MpcUCTqjJvN1Zy51HXvAKP%2BH8QZ7kG5XEwCtOm4s%2BLSz8A&RelayState=kDxYO8gkdVNDRuMC', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-17 16:10:20,282 back:ERROR http://localhost:8088/idp.xml
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/back.py", line 102, in authn_request
    entity_id=entity_id)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/entity.py", line 255, in pick_binding
    srvs = sfunc(entity_id, binding, descr_type)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 745, in single_sign_on_service
    "single_sign_on_service", binding)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 721, in service
    raise UnknownSystemEntity(entity_id)
UnknownSystemEntity: http://localhost:8088/idp.xml
2014-11-17 16:10:20,288 back:DEBUG --- SSO ---
2014-11-17 16:10:20,289 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa5GPrWEzKDGSgC4wvfCu64o0GS32dCj%2F3m6gRmNIvOs5ed%2Be53yMr963FdpLC8ropEO7pIOkFqZU%2BiXpPOa3QdS5Si%2FGGgib1G6jl%2FK1luCQt2lgPp3g2mpmOCgf8q0E5gRbTRZz1usStrPGGWEq%2FGWg5w0cQFrnYTCafD5vjIZ6K%2B1K2r0S8nE5T%2FDGuR0Lw8oIXm0MOBaRaBRyAeHORxhNPaTSvLEfxfBLHZMQwIRWlspK4R2zaYJVGRSDASeiV9B1se7LfnxZEFEOoyKOhlHMeeyFALWcaXBcuwT3CO0HlAZ0lNMBIxGj5Bmj7NT3tdLtKM%2F2XBxFwO7yPAuyh1XefrBXpbT3Xp3gxQGtMgTH%2FjF6Ou0LezdO%2FXIoa6EsujV2y935ck3GN7pupUxqp9wBp38PFHZdv7hx%2BF0ibW%2BhwZpNM1MpcUCTqjJvN1Zy51HXvAKP%2BH8QZ7kG5XEwCtOm4s%2BLSz8A&RelayState=kDxYO8gkdVNDRuMC'
2014-11-17 16:11:22,173 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-17 16:11:32,178 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-17 16:19:11,769 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:19:11,836 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 16:20:57,075 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:26:51,279 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 16:37:19,218 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:38:23,641 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 16:38:25,408 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:43:39,113 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 16:45:29,623 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:46:10,473 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:46:48,105 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 16:46:51,146 service:DEBUG ENVIRON: None
2014-11-17 16:46:51,148 saml2:INFO Logging started
2014-11-17 16:46:51,151 back:DEBUG --- SSO ---
2014-11-17 16:46:51,152 service:DEBUG ENVIRON: None
2014-11-17 16:46:51,183 root:INFO Server starting
2014-11-17 16:47:12,007 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:48:41,502 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:49:49,250 saml2.mdstore:INFO Entity descriptor (entity id:http://localhost:8088/idp.xml) to old
2014-11-17 16:50:07,173 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-17 16:50:12,080 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:05:37,972 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:05:54,464 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:07:32,589 service:DEBUG ENVIRON: None
2014-11-18 09:07:32,590 saml2:INFO Logging started
2014-11-18 09:07:32,598 back:DEBUG --- SSO ---
2014-11-18 09:07:32,599 service:DEBUG ENVIRON: None
2014-11-18 09:07:32,644 root:INFO Server starting
2014-11-18 09:08:09,555 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga%2B4Cx0bARhBBJUBcYXnhXuk6ajBZ7OpR%2FbzdQozEkJr1oT9635zkfo%2FH7vkJHrkEomXT8rtdBXDJVCPmSdDb53Ik74%2FRmJMEjk9rs5Iq%2F1hwMsjYJxIYTXGtJFAVhn3TPgRhG1pP7JQm6HjloZRRTFf4y%2BNcNFIBrY2Ewmnxep0pCved6zfVRML5ZLRO8M%2BZAXLdSjFY7BYbEXhy5lIF7sC%2BMZhZSSNrYz2L4pR56LoByNS%2BE5sw6FrMEi8KJwqI3CMNhSMuoz4IoGoZbtg0GvbIceAH1rRCg5gsJhkqT4MDz%2B47vO36cezFpTviMUXap%2B1bItpVXa96eRUDu8jxzssd13n5wFAXXD1ad4PsTWmcIzvVj9HSZF7ZunNrh%2BKSF0miu9J6a6%2BmaiC20bKWESyPMCad%2FNxQOXTu4kfudIm13ocFazDJVCXZCk6pSb1PNqbGoJa3AIv4fxGgqQVgcjNy0yfhz49IP&RelayState=aYW4ahZppMMV1zZL', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49783', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a83b50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga%2B4Cx0bARhBBJUBcYXnhXuk6ajBZ7OpR%2FbzdQozEkJr1oT9635zkfo%2FH7vkJHrkEomXT8rtdBXDJVCPmSdDb53Ik74%2FRmJMEjk9rs5Iq%2F1hwMsjYJxIYTXGtJFAVhn3TPgRhG1pP7JQm6HjloZRRTFf4y%2BNcNFIBrY2Ewmnxep0pCved6zfVRML5ZLRO8M%2BZAXLdSjFY7BYbEXhy5lIF7sC%2BMZhZSSNrYz2L4pR56LoByNS%2BE5sw6FrMEi8KJwqI3CMNhSMuoz4IoGoZbtg0GvbIceAH1rRCg5gsJhkqT4MDz%2B47vO36cezFpTviMUXap%2B1bItpVXa96eRUDu8jxzssd13n5wFAXXD1ad4PsTWmcIzvVj9HSZF7ZunNrh%2BKSF0miu9J6a6%2BmaiC20bKWESyPMCad%2FNxQOXTu4kfudIm13ocFazDJVCXZCk6pSb1PNqbGoJa3AIv4fxGgqQVgcjNy0yfhz49IP&RelayState=aYW4ahZppMMV1zZL', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:08:09,556 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga63BfNGwEIUQSPxaZXnhXuiJNRos9Hcq%2Ftxuo0RgSk160J%2B%2Fb85yP0fh9W6O9MCC1ynpBn%2FSQUFxXUr1kvcdy7qW9cX4xUkDopLEb9SBeGwEWOZsC6sIZboyimoF0T7YVQC2ny8ntDR30Cd0ZbTXXNf4yBOcNDEAY62Awmnxep1pBsxVmKcxecvH4cJPhjbU76vu15qzeaLA0JWniMw7%2Bzr0wmjlIqVhrP4rhl3pIfADtG1FJI7hzLGYZlpU3TJOwimNyyUORVFHEYhJH8TAcxlEaJsnKCQEasVBgmbIZHpAg9ILAC9KSpLQ90TNGxanuK6m6Vp6teXUUAb0uy8Ir7pdl98FeVsLcOXWGbw9oWSA41o%2FR02le2Llx7oYT0A7KoLk2W2bPp2sjrtB1J6VCWWkPOP%2B7obDru8GN%2FO8UebcLLdZiVuha8gOa1LV%2BmxrBrENdsxoc4v9BrGEKpMPByM%2FbjD83Lv8A&RelayState=8NayLtwHYJVHu6SQ', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49787', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a8add0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga63BfNGwEIUQSPxaZXnhXuiJNRos9Hcq%2Ftxuo0RgSk160J%2B%2Fb85yP0fh9W6O9MCC1ynpBn%2FSQUFxXUr1kvcdy7qW9cX4xUkDopLEb9SBeGwEWOZsC6sIZboyimoF0T7YVQC2ny8ntDR30Cd0ZbTXXNf4yBOcNDEAY62Awmnxep1pBsxVmKcxecvH4cJPhjbU76vu15qzeaLA0JWniMw7%2Bzr0wmjlIqVhrP4rhl3pIfADtG1FJI7hzLGYZlpU3TJOwimNyyUORVFHEYhJH8TAcxlEaJsnKCQEasVBgmbIZHpAg9ILAC9KSpLQ90TNGxanuK6m6Vp6teXUUAb0uy8Ir7pdl98FeVsLcOXWGbw9oWSA41o%2FR02le2Llx7oYT0A7KoLk2W2bPp2sjrtB1J6VCWWkPOP%2B7obDru8GN%2FO8UebcLLdZiVuha8gOa1LV%2BmxrBrENdsxoc4v9BrGEKpMPByM%2FbjD83Lv8A&RelayState=8NayLtwHYJVHu6SQ', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:08:10,609 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:08:10,610 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:08:10,610 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:08:10,612 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:08:10,613 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-75d365595af74c27795bcb263ff602a1" IssueInstant="2014-11-18T08:08:05Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:08:10,614 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-9874d6603c4e7d55a60656949658477b" IssueInstant="2014-11-18T08:08:05Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:08:10,618 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-75d365595af74c27795bcb263ff602a1" IssueInstant="2014-11-18T08:08:05Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:08:10,622 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-9874d6603c4e7d55a60656949658477b" IssueInstant="2014-11-18T08:08:05Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:08:10,624 saml2.entity:DEBUG Loaded request
2014-11-18 09:08:10,626 saml2.entity:DEBUG Loaded request
2014-11-18 09:08:10,627 saml2.entity:DEBUG Verified request
2014-11-18 09:08:10,630 front:INFO parsed OK
2014-11-18 09:08:10,629 saml2.entity:DEBUG Verified request
2014-11-18 09:08:10,632 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-75d365595af74c27795bcb263ff602a1" IssueInstant="2014-11-18T08:08:05Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:08:10,633 front:INFO parsed OK
2014-11-18 09:08:10,636 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-9874d6603c4e7d55a60656949658477b" IssueInstant="2014-11-18T08:08:05Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:08:10,633 saml2.mdstore:ERROR Unknown system entity: http://localhost:8087/sp.xml
2014-11-18 09:08:10,637 front:ERROR Couldn't find receiver endpoint: http://localhost:8087/sp.xml
2014-11-18 09:08:10,636 saml2.mdstore:ERROR Unknown system entity: http://localhost:8087/sp.xml
2014-11-18 09:08:10,638 front:ERROR Couldn't find receiver endpoint: http://localhost:8087/sp.xml
2014-11-18 09:08:10,658 root:ERROR http://localhost:8087/sp.xml
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 167, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 130, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/front.py", line 89, in handle_authn_request
    _dict = self.verify_request(_request["SAMLRequest"], _binding_in)
  File "/Users/rolandh/code/s2sproxy/front.py", line 54, in verify_request
    entity_id=_authn_req.issuer.text, request=_authn_req)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/entity.py", line 255, in pick_binding
    srvs = sfunc(entity_id, binding, descr_type)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 814, in assertion_consumer_service
    "assertion_consumer_service", binding)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 721, in service
    raise UnknownSystemEntity(entity_id)
UnknownSystemEntity: http://localhost:8087/sp.xml
2014-11-18 09:08:10,659 root:ERROR http://localhost:8087/sp.xml
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 167, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 130, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/front.py", line 89, in handle_authn_request
    _dict = self.verify_request(_request["SAMLRequest"], _binding_in)
  File "/Users/rolandh/code/s2sproxy/front.py", line 54, in verify_request
    entity_id=_authn_req.issuer.text, request=_authn_req)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/entity.py", line 255, in pick_binding
    srvs = sfunc(entity_id, binding, descr_type)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 814, in assertion_consumer_service
    "assertion_consumer_service", binding)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 721, in service
    raise UnknownSystemEntity(entity_id)
UnknownSystemEntity: http://localhost:8087/sp.xml
2014-11-18 09:08:59,738 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:08:59,748 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:09:12,432 service:DEBUG ENVIRON: None
2014-11-18 09:09:12,433 saml2:INFO Logging started
2014-11-18 09:09:12,435 back:DEBUG --- SSO ---
2014-11-18 09:09:12,436 service:DEBUG ENVIRON: None
2014-11-18 09:09:12,461 root:INFO Server starting
2014-11-18 09:09:42,558 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga65CPtWEjCCGSgC4wvPCudEWajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2F9wfuuRAdpQRmdNKImaSCphSmUfkkaq3wSxI1BetPXQNiwclu9kK%2BVBIe8TQPz6QRXVjPDQfmQ7yQwJ9hyOJ%2BxVpOwvTXOCFPiL0N03cABpHUeBqPh53NkNFQ7aZfSHpSQq8UswVvn9iwMSyN4uTXgWEziXsgFhHsfYTT2kErzk%2F0shl9qSkIAE1pZKCuFd0zHCVZFIHhB27SzjknEe52uoJt4I3vdglMuKKXcCwEqOdXguHYJbpGoHURREMU5iRmh7Lb3jFF26ftO6XqUV3ten0XA7vM8C7LHZV5%2FcFCFtA9eneD5ES0zBOf%2BMXq67At7N079ciJWQ1k0MXbH3fVyp4xvdFNLmdROuSNO%2Fx4o7Jt%2Bcf3wu0Ra38IJazrOTKnEEQ3L0ryNrOTOo254CR7x%2FyDOcg3K42AUpqeKPy8u%2FQA%3D&RelayState=hePLqfHTzwwKieIk', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50404', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x107b86ad0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga65CPtWEjCCGSgC4wvPCudEWajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2F9wfuuRAdpQRmdNKImaSCphSmUfkkaq3wSxI1BetPXQNiwclu9kK%2BVBIe8TQPz6QRXVjPDQfmQ7yQwJ9hyOJ%2BxVpOwvTXOCFPiL0N03cABpHUeBqPh53NkNFQ7aZfSHpSQq8UswVvn9iwMSyN4uTXgWEziXsgFhHsfYTT2kErzk%2F0shl9qSkIAE1pZKCuFd0zHCVZFIHhB27SzjknEe52uoJt4I3vdglMuKKXcCwEqOdXguHYJbpGoHURREMU5iRmh7Lb3jFF26ftO6XqUV3ten0XA7vM8C7LHZV5%2FcFCFtA9eneD5ES0zBOf%2BMXq67At7N079ciJWQ1k0MXbH3fVyp4xvdFNLmdROuSNO%2Fx4o7Jt%2Bcf3wu0Ra38IJazrOTKnEEQ3L0ryNrOTOo254CR7x%2FyDOcg3K42AUpqeKPy8u%2FQA%3D&RelayState=hePLqfHTzwwKieIk', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:09:42,559 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNTwIxEIbv%2FoqmF07LtoiwNOwShBhJ%2FNjI6sFb6Q7SZGmx00X595YFNRpD4q0zed%2FOMx%2FD0fu6IltwqK1JW7zNWgSMsqU2L2nrsbiKktYoOxsaZGJc%2B5V5gNca0JNgMyhCOqW1M8JK1CGUa0DhlZiPb29Ep83Exllvla3ol4GfNkhEcD7AUDL%2BfE6swXoNbg5uqxU8PtykdOX9RsRxZZWsVha9SFjSj6XCeBMiSqYBUhu5tx%2FE%2BEs9YDGijR2U2oEKjtk0pbqMoAS46PWA90o%2B6F%2F0S85K2V3IDiykWvZUECLWMDPopfEp7TDejTiPeFKwRLCBOO8%2BU5If%2B77UphnlyZ4XBxGK66LIo%2Fx%2BXjQfbHUJ7i6oU3q7I%2FOc4KF%2FSp6O%2B6LBTbOwHC4aKEeurFtLf7rcPhMaXTZSAcZrv6PZ3wPFTTssbhh%2Fl8iaW9hjzaa5rbTakXFV2beJA%2BkD6lJWGBD%2FD%2BKdNKgDDiVxtq%2F48%2BKyDw%3D%3D&RelayState=00YCx1nGmZiWYbPY', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '50379', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c8ccd0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07LtoiwNOwShBhJ%2FNjI6sFb6Q7SZGmx00X595YFNRpD4q0zed%2FOMx%2FD0fu6IltwqK1JW7zNWgSMsqU2L2nrsbiKktYoOxsaZGJc%2B5V5gNca0JNgMyhCOqW1M8JK1CGUa0DhlZiPb29Ep83Exllvla3ol4GfNkhEcD7AUDL%2BfE6swXoNbg5uqxU8PtykdOX9RsRxZZWsVha9SFjSj6XCeBMiSqYBUhu5tx%2FE%2BEs9YDGijR2U2oEKjtk0pbqMoAS46PWA90o%2B6F%2F0S85K2V3IDiykWvZUECLWMDPopfEp7TDejTiPeFKwRLCBOO8%2BU5If%2B77UphnlyZ4XBxGK66LIo%2Fx%2BXjQfbHUJ7i6oU3q7I%2FOc4KF%2FSp6O%2B6LBTbOwHC4aKEeurFtLf7rcPhMaXTZSAcZrv6PZ3wPFTTssbhh%2Fl8iaW9hjzaa5rbTakXFV2beJA%2BkD6lJWGBD%2FD%2BKdNKgDDiVxtq%2F48%2BKyDw%3D%3D&RelayState=00YCx1nGmZiWYbPY', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:09:55,423 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:09:55,425 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:09:55,426 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-edee566e16d19757d10da4ba2ebacf6c" IssueInstant="2014-11-18T08:09:34Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:09:55,429 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-edee566e16d19757d10da4ba2ebacf6c" IssueInstant="2014-11-18T08:09:34Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:09:55,431 saml2.entity:DEBUG Loaded request
2014-11-18 09:09:55,432 saml2.entity:DEBUG Verified request
2014-11-18 09:09:55,433 front:INFO parsed OK
2014-11-18 09:09:55,434 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-edee566e16d19757d10da4ba2ebacf6c" IssueInstant="2014-11-18T08:09:34Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:09:55,435 saml2.mdstore:ERROR Unknown system entity: http://localhost:8087/sp.xml
2014-11-18 09:09:55,436 front:ERROR Couldn't find receiver endpoint: http://localhost:8087/sp.xml
2014-11-18 09:12:32,720 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:12:32,721 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:12:32,722 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-cad9495b801a756c9f8fe76da9ac999a" IssueInstant="2014-11-18T08:09:37Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:12:32,727 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-cad9495b801a756c9f8fe76da9ac999a" IssueInstant="2014-11-18T08:09:37Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:12:32,729 saml2.entity:DEBUG Loaded request
2014-11-18 09:12:32,730 saml2.entity:DEBUG Verified request
2014-11-18 09:12:32,731 front:INFO parsed OK
2014-11-18 09:12:32,733 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-cad9495b801a756c9f8fe76da9ac999a" IssueInstant="2014-11-18T08:09:37Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:12:32,734 saml2.mdstore:ERROR Unknown system entity: http://localhost:8087/sp.xml
2014-11-18 09:12:32,735 front:ERROR Couldn't find receiver endpoint: http://localhost:8087/sp.xml
2014-11-18 09:12:32,745 root:ERROR http://localhost:8087/sp.xml
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 167, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 130, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/front.py", line 89, in handle_authn_request
    _dict = self.verify_request(_request["SAMLRequest"], _binding_in)
  File "/Users/rolandh/code/s2sproxy/front.py", line 54, in verify_request
    entity_id=_authn_req.issuer.text, request=_authn_req)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/entity.py", line 255, in pick_binding
    srvs = sfunc(entity_id, binding, descr_type)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 814, in assertion_consumer_service
    "assertion_consumer_service", binding)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 721, in service
    raise UnknownSystemEntity(entity_id)
UnknownSystemEntity: http://localhost:8087/sp.xml
2014-11-18 09:12:32,746 root:ERROR http://localhost:8087/sp.xml
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 167, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 130, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/front.py", line 89, in handle_authn_request
    _dict = self.verify_request(_request["SAMLRequest"], _binding_in)
  File "/Users/rolandh/code/s2sproxy/front.py", line 54, in verify_request
    entity_id=_authn_req.issuer.text, request=_authn_req)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/entity.py", line 255, in pick_binding
    srvs = sfunc(entity_id, binding, descr_type)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 814, in assertion_consumer_service
    "assertion_consumer_service", binding)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 721, in service
    raise UnknownSystemEntity(entity_id)
UnknownSystemEntity: http://localhost:8087/sp.xml
2014-11-18 09:12:58,665 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaWxngaNgISowkoItML7wr3UGajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2FD0fumIjuwqIxOW6wdtQhoaUqlX9LWY3ETJK1RdjHUGPFx7db6AV5rQEe8TSP36ZTWVnMjUPlQbAC5k3wxns94px3xrTXOSFPRLwM7bxCIYJ2HoWT8%2Bbw2GusN2AXYnZLw%2BDBL6dq5LQ%2FDykhRrQ06nkTJZSgkhlsfUTLxkEqLg%2F0oxl%2FqQRQimtBCqSxI75hOUqrKAGRcxnEnKXv9uNdj0WUJosuWpVyxAev3Yy9ErGGq0QntUtqJWDdgLGBJESWcdXiv%2B0xJfur7SulmlGd7Xh5FyG%2BLIg%2Fy%2B0XRfLBTJdg7r07pfE8WOcFj%2F5Q8nfZFvZtmfjmMN1CW3Bi7Ee58uUPGN7pqpBy0U25Ps78Hitu2X9ww%2FC6RNbdwwJpOclMpuSfjqjJv1xaE86grUaFH%2FD%2BIs0Kj8jiUhNmh4s%2BLyz4A&RelayState=HSYUGdWaUOuRBisW', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51741', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x107f2b390>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaWxngaNgISowkoItML7wr3UGajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2FD0fumIjuwqIxOW6wdtQhoaUqlX9LWY3ETJK1RdjHUGPFx7db6AV5rQEe8TSP36ZTWVnMjUPlQbAC5k3wxns94px3xrTXOSFPRLwM7bxCIYJ2HoWT8%2Bbw2GusN2AXYnZLw%2BDBL6dq5LQ%2FDykhRrQ06nkTJZSgkhlsfUTLxkEqLg%2F0oxl%2FqQRQimtBCqSxI75hOUqrKAGRcxnEnKXv9uNdj0WUJosuWpVyxAev3Yy9ErGGq0QntUtqJWDdgLGBJESWcdXiv%2B0xJfur7SulmlGd7Xh5FyG%2BLIg%2Fy%2B0XRfLBTJdg7r07pfE8WOcFj%2F5Q8nfZFvZtmfjmMN1CW3Bi7Ee58uUPGN7pqpBy0U25Ps78Hitu2X9ww%2FC6RNbdwwJpOclMpuSfjqjJv1xaE86grUaFH%2FD%2BIs0Kj8jiUhNmh4s%2BLyz4A&RelayState=HSYUGdWaUOuRBisW', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:13:10,339 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:13:10,340 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:13:10,341 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-ec3d3328d56355107dea41bdcf191663" IssueInstant="2014-11-18T08:12:54Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:13:10,345 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-ec3d3328d56355107dea41bdcf191663" IssueInstant="2014-11-18T08:12:54Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:13:10,347 saml2.entity:DEBUG Loaded request
2014-11-18 09:13:10,348 saml2.entity:DEBUG Verified request
2014-11-18 09:13:10,349 front:INFO parsed OK
2014-11-18 09:13:10,351 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-ec3d3328d56355107dea41bdcf191663" IssueInstant="2014-11-18T08:12:54Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:13:10,351 saml2.mdstore:ERROR Unknown system entity: http://localhost:8087/sp.xml
2014-11-18 09:13:10,352 front:ERROR Couldn't find receiver endpoint: http://localhost:8087/sp.xml
2014-11-18 09:13:29,211 root:ERROR http://localhost:8087/sp.xml
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 167, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 130, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/front.py", line 89, in handle_authn_request
    _dict = self.verify_request(_request["SAMLRequest"], _binding_in)
  File "/Users/rolandh/code/s2sproxy/front.py", line 54, in verify_request
    entity_id=_authn_req.issuer.text, request=_authn_req)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/entity.py", line 255, in pick_binding
    srvs = sfunc(entity_id, binding, descr_type)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 814, in assertion_consumer_service
    "assertion_consumer_service", binding)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/mdstore.py", line 721, in service
    raise UnknownSystemEntity(entity_id)
UnknownSystemEntity: http://localhost:8087/sp.xml
2014-11-18 09:13:51,826 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa8dks2EjKDGSgC4yvPCubJ00GS32dCj%2F3m6gRmNIvOs5ed%2Be53yMxu%2FbGu2FAalV0qN90kNCFbqU6iXprfJbL%2B6N04uRAsImjd2oR%2FHaCLDI2RQwl05wYxTTHKQL%2BVYAswVbThZzFvQJ2xltdaFr%2FGWg5w0cQBjrYDCafD5vtIJmK8xSmL0sxOpxnuCNtTvm%2B7UueL3RYFlM4sjnBfg7F2E0dZBS8dZ%2BFMMv9RXxAbRvRCmNKJxjNk2wLD0yJOQqDqohGfB1MBxEkQhCSgbhZVhGVbV2QoBGzBRYrmyCA0JDj1KPxjmJGR2wMHrGKDv1fS1VN8qzPa%2BPImB3eZ552cMy7z7Yy1KYe6dO8OKAlhmCY%2F8YPZ32hZ0bp245lHVQBt1qs%2BX2fLk24xqtOikTykp7wOnfA4Vd3y1u5H%2BXSLtbaLFm00zXsjigSV3rtxsjuHWoFa%2FBIf4fxBquQDocjPy0rfjz4tIP&RelayState=ITTbRvtak6mHJLCf', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52095', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x107f2b3d0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa8dks2EjKDGSgC4yvPCubJ00GS32dCj%2F3m6gRmNIvOs5ed%2Be53yMxu%2FbGu2FAalV0qN90kNCFbqU6iXprfJbL%2B6N04uRAsImjd2oR%2FHaCLDI2RQwl05wYxTTHKQL%2BVYAswVbThZzFvQJ2xltdaFr%2FGWg5w0cQBjrYDCafD5vtIJmK8xSmL0sxOpxnuCNtTvm%2B7UueL3RYFlM4sjnBfg7F2E0dZBS8dZ%2BFMMv9RXxAbRvRCmNKJxjNk2wLD0yJOQqDqohGfB1MBxEkQhCSgbhZVhGVbV2QoBGzBRYrmyCA0JDj1KPxjmJGR2wMHrGKDv1fS1VN8qzPa%2BPImB3eZ552cMy7z7Yy1KYe6dO8OKAlhmCY%2F8YPZ32hZ0bp245lHVQBt1qs%2BX2fLk24xqtOikTykp7wOnfA4Vd3y1u5H%2BXSLtbaLFm00zXsjigSV3rtxsjuHWoFa%2FBIf4fxBquQDocjPy0rfjz4tIP&RelayState=ITTbRvtak6mHJLCf', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:13:51,827 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhMVASLBJEi6oi9RGV0EV3xpkUS8GmHoeWv68JfahVhdSdZ3Sv58xjPHnb1GQHFpXRaYd1ow4BLU2p9HPaWRZXQdKZZGdjjRGfNm6tH%2BClAXTE2zRyn05pYzU3ApUPxQaQO8kX09sb3utGfGuNM9LU9MvAThsEIljnYSiZfj4vjcZmA3YBdqckLB9uUrp2bsvDsDZS1GuDjidREodCYrj1ESUzD6m0ONiPYvylHkUhogktlMqC9I75LKWqDOKhHEIMw0HcG7FRFctBIquV7JfJqFeds3MvRGxgrtEJ7VLai9ggYCxgSRElnPX5IH6iJP%2Fo%2B0LpdpQne14dRciviyIP8vtF0X6wUyXYO69O6e2eLHKCx%2F4pefzYF%2FVumvnlMN5CWXJl7Ea40%2BUOGd9o1Uo5aKfcnmZ%2FDxS3Xb%2B4cfhdImtv4YA1n%2BWmVnJPpnVtXi8tCOdRK1GjR%2Fw%2FiLNCo%2FI4lITZoeLPi8veAQ%3D%3D&RelayState=XeG22eOsBvAGJeqo', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52099', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x107b86a90>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLbsIwEEX3%2FQrLG1YhMVASLBJEi6oi9RGV0EV3xpkUS8GmHoeWv68JfahVhdSdZ3Sv58xjPHnb1GQHFpXRaYd1ow4BLU2p9HPaWRZXQdKZZGdjjRGfNm6tH%2BClAXTE2zRyn05pYzU3ApUPxQaQO8kX09sb3utGfGuNM9LU9MvAThsEIljnYSiZfj4vjcZmA3YBdqckLB9uUrp2bsvDsDZS1GuDjidREodCYrj1ESUzD6m0ONiPYvylHkUhogktlMqC9I75LKWqDOKhHEIMw0HcG7FRFctBIquV7JfJqFeds3MvRGxgrtEJ7VLai9ggYCxgSRElnPX5IH6iJP%2Fo%2B0LpdpQne14dRciviyIP8vtF0X6wUyXYO69O6e2eLHKCx%2F4pefzYF%2FVumvnlMN5CWXJl7Ea40%2BUOGd9o1Uo5aKfcnmZ%2FDxS3Xb%2B4cfhdImtv4YA1n%2BWmVnJPpnVtXi8tCOdRK1GjR%2Fw%2FiLNCo%2FI4lITZoeLPi8veAQ%3D%3D&RelayState=XeG22eOsBvAGJeqo', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:14:04,466 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:14:04,467 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:14:04,468 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-0600982f603ab26377e24103454d7ffb" IssueInstant="2014-11-18T08:13:47Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:14:04,471 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-0600982f603ab26377e24103454d7ffb" IssueInstant="2014-11-18T08:13:47Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:14:04,473 saml2.entity:DEBUG Loaded request
2014-11-18 09:14:04,474 saml2.entity:DEBUG Verified request
2014-11-18 09:14:24,391 front:INFO parsed OK
2014-11-18 09:14:40,858 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-0600982f603ab26377e24103454d7ffb" IssueInstant="2014-11-18T08:13:47Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:18:55,016 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:18:55,026 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:19:31,950 service:DEBUG ENVIRON: None
2014-11-18 09:19:31,951 saml2:INFO Logging started
2014-11-18 09:19:31,953 back:DEBUG --- SSO ---
2014-11-18 09:19:31,954 service:DEBUG ENVIRON: None
2014-11-18 09:19:31,974 root:INFO Server starting
2014-11-18 09:20:11,837 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:20:11,848 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:20:11,930 service:DEBUG ENVIRON: None
2014-11-18 09:20:11,931 saml2:INFO Logging started
2014-11-18 09:20:11,933 back:DEBUG --- SSO ---
2014-11-18 09:20:11,934 service:DEBUG ENVIRON: None
2014-11-18 09:20:11,955 root:INFO Server starting
2014-11-18 09:20:37,385 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaaweO0rARhBBJ%2FFhgeOFd2Yo0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4Gw%2FdthfbSgjI6adE2aSGpC1Mq%2FZK0lvk0YK1hejXQQPiodhs9l6%2B1BIe8TQP36QTXVnMjQPlQbCVwV%2FDF6P6OR23Cd9Y4U5gKfxnoZYMAkNZ5GIxGn8%2Bx0VBvpV1Iu1eFXM7vErxxbsfDsDKFqDYGHGeE9UJRQLjzEUYTD6m0ONpPYvil7pMQwIRWlsrKwjtmkwSrMuh1KOl3SlbGsez3I9Zh1zEVq7jLVl3R7V17IUAtZxqc0C7BEaHdgNKAspwwHhEexc8YZee%2Bb5RuRnmx59VJBPw2z7Mge1zkzQd7VUr74NUJvj%2BgRYbg1D9GT%2Bd9Ye%2FGqV8O5Q2URVNjt8JdLnfM%2BEbXjZRL7ZQ74PTvgcKu7Rc3CL9LpM0tHLFmk8xUqjigUVWZt7GVwnnUtajAI%2F4fxFmhQXkcjML0WPHnxaUf&RelayState=aOSahoWeI3IlSmRi', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '54752', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c8cd50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaaweO0rARhBBJ%2FFhgeOFd2Yo0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4Gw%2FdthfbSgjI6adE2aSGpC1Mq%2FZK0lvk0YK1hejXQQPiodhs9l6%2B1BIe8TQP36QTXVnMjQPlQbCVwV%2FDF6P6OR23Cd9Y4U5gKfxnoZYMAkNZ5GIxGn8%2Bx0VBvpV1Iu1eFXM7vErxxbsfDsDKFqDYGHGeE9UJRQLjzEUYTD6m0ONpPYvil7pMQwIRWlsrKwjtmkwSrMuh1KOl3SlbGsez3I9Zh1zEVq7jLVl3R7V17IUAtZxqc0C7BEaHdgNKAspwwHhEexc8YZee%2Bb5RuRnmx59VJBPw2z7Mge1zkzQd7VUr74NUJvj%2BgRYbg1D9GT%2Bd9Ye%2FGqV8O5Q2URVNjt8JdLnfM%2BEbXjZRL7ZQ74PTvgcKu7Rc3CL9LpM0tHLFmk8xUqjigUVWZt7GVwnnUtajAI%2F4fxFmhQXkcjML0WPHnxaUf&RelayState=aOSahoWeI3IlSmRi', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:20:37,386 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNb%2BIwEIbv%2ByssXziFfJRtEoukoqCqSO02grCHvRl7UiwFm%2FU4dPn364R2V60qpN48o%2Ff1PPMxvfmzb8kRLCqji1E8jkYEtDBS6editKnvgmx0U36baozYrHM7vYLfHaAj3qaR%2BXRBO6uZ4ah8yPeAzAm2nj0%2BsGQcsYM1zgjT0n%2BG%2BLKBI4J1HoaS2dtzbjR2e7BrsEclYLN6KOjOuQMLw9YI3u4MOpZFWRpygeHBR5QsPKTSvLefxfhBnUchogktSGVBeMdyUVAlg6bJ0jxPJ0kjt1eQQyPgmku5zb%2FLq%2FQ6lV6I2MFSo%2BPaFTSJ4kkQx0Gc1VHGkogl%2BS9Kqte%2Bb5UeRnmx5%2B1ZhOy%2BrqugelrXwwdHJcH%2B8OqCPp7IuiJ47p%2BSn6%2F7ot5NS7%2BcmA1QltwZu%2Bfucrk%2B0zc6SBlop9yJlp8PFA9jv7hp%2BL9EOdxCj7VcVKZV4kRmbWte5ha486gNb9Ejfh3EWa5ReRxKwrKv%2BP7iyr8%3D&RelayState=Wxh7dlR47ldrazIO', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '54774', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c94fd0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNb%2BIwEIbv%2ByssXziFfJRtEoukoqCqSO02grCHvRl7UiwFm%2FU4dPn364R2V60qpN48o%2Ff1PPMxvfmzb8kRLCqji1E8jkYEtDBS6editKnvgmx0U36baozYrHM7vYLfHaAj3qaR%2BXRBO6uZ4ah8yPeAzAm2nj0%2BsGQcsYM1zgjT0n%2BG%2BLKBI4J1HoaS2dtzbjR2e7BrsEclYLN6KOjOuQMLw9YI3u4MOpZFWRpygeHBR5QsPKTSvLefxfhBnUchogktSGVBeMdyUVAlg6bJ0jxPJ0kjt1eQQyPgmku5zb%2FLq%2FQ6lV6I2MFSo%2BPaFTSJ4kkQx0Gc1VHGkogl%2BS9Kqte%2Bb5UeRnmx5%2B1ZhOy%2BrqugelrXwwdHJcH%2B8OqCPp7IuiJ47p%2BSn6%2F7ot5NS7%2BcmA1QltwZu%2Bfucrk%2B0zc6SBlop9yJlp8PFA9jv7hp%2BL9EOdxCj7VcVKZV4kRmbWte5ha486gNb9Ejfh3EWa5ReRxKwrKv%2BP7iyr8%3D&RelayState=Wxh7dlR47ldrazIO', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:20:42,987 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:20:42,988 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:20:42,989 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-ff8799742fdb3e9efce6addb95d3767d" IssueInstant="2014-11-18T08:20:29Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:20:42,993 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-ff8799742fdb3e9efce6addb95d3767d" IssueInstant="2014-11-18T08:20:29Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:20:42,995 saml2.entity:DEBUG Loaded request
2014-11-18 09:20:42,996 saml2.entity:DEBUG Verified request
2014-11-18 09:20:42,996 front:INFO parsed OK
2014-11-18 09:20:42,998 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-ff8799742fdb3e9efce6addb95d3767d" IssueInstant="2014-11-18T08:20:29Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:20:42,999 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:20:42,999 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:20:43,001 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 09:20:43,001 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:20:43,002 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:20:48,539 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:20:48,540 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:20:48,541 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-731093d8d66e992838561ab648b4a475" IssueInstant="2014-11-18T08:20:26Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:20:48,545 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-731093d8d66e992838561ab648b4a475" IssueInstant="2014-11-18T08:20:26Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:20:48,547 saml2.entity:DEBUG Loaded request
2014-11-18 09:20:48,548 saml2.entity:DEBUG Verified request
2014-11-18 09:20:48,549 front:INFO parsed OK
2014-11-18 09:20:48,550 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-731093d8d66e992838561ab648b4a475" IssueInstant="2014-11-18T08:20:26Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:20:48,551 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:20:48,552 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:20:48,553 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 09:20:48,554 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:20:48,555 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:20:52,313 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNb%2BIwEIbv%2ByssXziFfJRtEoukoqCqSO02grCHvRl7UiwFm%2FU4dPn364R2V60qpN48o%2Ff1PPMxvfmzb8kRLCqji1E8jkYEtDBS6editKnvgmx0U36baozYrHM7vYLfHaAj3qaR%2BXRBO6uZ4ah8yPeAzAm2nj0%2BsGQcsYM1zgjT0n%2BG%2BLKBI4J1HoaS2dtzbjR2e7BrsEclYLN6KOjOuQMLw9YI3u4MOpZFWRpygeHBR5QsPKTSvLefxfhBnUchogktSGVBeMdyUVAlg6bJ0jxPJ0kjt1eQQyPgmku5zb%2FLq%2FQ6lV6I2MFSo%2BPaFTSJ4kkQx0Gc1VHGkogl%2BS9Kqte%2Bb5UeRnmx5%2B1ZhOy%2BrqugelrXwwdHJcH%2B8OqCPp7IuiJ47p%2BSn6%2F7ot5NS7%2BcmA1QltwZu%2Bfucrk%2B0zc6SBlop9yJlp8PFA9jv7hp%2BL9EOdxCj7VcVKZV4kRmbWte5ha486gNb9Ejfh3EWa5ReRxKwrKv%2BP7iyr8%3D&RelayState=Wxh7dlR47ldrazIO', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '54774', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c94fd0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNb%2BIwEIbv%2ByssXziFfJRtEoukoqCqSO02grCHvRl7UiwFm%2FU4dPn364R2V60qpN48o%2Ff1PPMxvfmzb8kRLCqji1E8jkYEtDBS6editKnvgmx0U36baozYrHM7vYLfHaAj3qaR%2BXRBO6uZ4ah8yPeAzAm2nj0%2BsGQcsYM1zgjT0n%2BG%2BLKBI4J1HoaS2dtzbjR2e7BrsEclYLN6KOjOuQMLw9YI3u4MOpZFWRpygeHBR5QsPKTSvLefxfhBnUchogktSGVBeMdyUVAlg6bJ0jxPJ0kjt1eQQyPgmku5zb%2FLq%2FQ6lV6I2MFSo%2BPaFTSJ4kkQx0Gc1VHGkogl%2BS9Kqte%2Bb5UeRnmx5%2B1ZhOy%2BrqugelrXwwdHJcH%2B8OqCPp7IuiJ47p%2BSn6%2F7ot5NS7%2BcmA1QltwZu%2Bfucrk%2B0zc6SBlop9yJlp8PFA9jv7hp%2BL9EOdxCj7VcVKZV4kRmbWte5ha486gNb9Ejfh3EWa5ReRxKwrKv%2BP7iyr8%3D&RelayState=Wxh7dlR47ldrazIO', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:20:52,315 back:DEBUG --- SSO ---
2014-11-18 09:20:52,315 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJNb%2BIwEIbv%2ByssXziFfJRtEoukoqCqSO02grCHvRl7UiwFm%2FU4dPn364R2V60qpN48o%2Ff1PPMxvfmzb8kRLCqji1E8jkYEtDBS6editKnvgmx0U36baozYrHM7vYLfHaAj3qaR%2BXRBO6uZ4ah8yPeAzAm2nj0%2BsGQcsYM1zgjT0n%2BG%2BLKBI4J1HoaS2dtzbjR2e7BrsEclYLN6KOjOuQMLw9YI3u4MOpZFWRpygeHBR5QsPKTSvLefxfhBnUchogktSGVBeMdyUVAlg6bJ0jxPJ0kjt1eQQyPgmku5zb%2FLq%2FQ6lV6I2MFSo%2BPaFTSJ4kkQx0Gc1VHGkogl%2BS9Kqte%2Bb5UeRnmx5%2B1ZhOy%2BrqugelrXwwdHJcH%2B8OqCPp7IuiJ47p%2BSn6%2F7ot5NS7%2BcmA1QltwZu%2Bfucrk%2B0zc6SBlop9yJlp8PFA9jv7hp%2BL9EOdxCj7VcVKZV4kRmbWte5ha486gNb9Ejfh3EWa5ReRxKwrKv%2BP7iyr8%3D&RelayState=Wxh7dlR47ldrazIO'
2014-11-18 09:21:10,221 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaaweO0rARhBBJ%2FFhgeOFd2Yo0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4Gw%2FdthfbSgjI6adE2aSGpC1Mq%2FZK0lvk0YK1hejXQQPiodhs9l6%2B1BIe8TQP36QTXVnMjQPlQbCVwV%2FDF6P6OR23Cd9Y4U5gKfxnoZYMAkNZ5GIxGn8%2Bx0VBvpV1Iu1eFXM7vErxxbsfDsDKFqDYGHGeE9UJRQLjzEUYTD6m0ONpPYvil7pMQwIRWlsrKwjtmkwSrMuh1KOl3SlbGsez3I9Zh1zEVq7jLVl3R7V17IUAtZxqc0C7BEaHdgNKAspwwHhEexc8YZee%2Bb5RuRnmx59VJBPw2z7Mge1zkzQd7VUr74NUJvj%2BgRYbg1D9GT%2Bd9Ye%2FGqV8O5Q2URVNjt8JdLnfM%2BEbXjZRL7ZQ74PTvgcKu7Rc3CL9LpM0tHLFmk8xUqjigUVWZt7GVwnnUtajAI%2F4fxFmhQXkcjML0WPHnxaUf&RelayState=aOSahoWeI3IlSmRi', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '54752', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c8cd50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaaweO0rARhBBJ%2FFhgeOFd2Yo0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4Gw%2FdthfbSgjI6adE2aSGpC1Mq%2FZK0lvk0YK1hejXQQPiodhs9l6%2B1BIe8TQP36QTXVnMjQPlQbCVwV%2FDF6P6OR23Cd9Y4U5gKfxnoZYMAkNZ5GIxGn8%2Bx0VBvpV1Iu1eFXM7vErxxbsfDsDKFqDYGHGeE9UJRQLjzEUYTD6m0ONpPYvil7pMQwIRWlsrKwjtmkwSrMuh1KOl3SlbGsez3I9Zh1zEVq7jLVl3R7V17IUAtZxqc0C7BEaHdgNKAspwwHhEexc8YZee%2Bb5RuRnmx59VJBPw2z7Mge1zkzQd7VUr74NUJvj%2BgRYbg1D9GT%2Bd9Ye%2FGqV8O5Q2URVNjt8JdLnfM%2BEbXjZRL7ZQ74PTvgcKu7Rc3CL9LpM0tHLFmk8xUqjigUVWZt7GVwnnUtajAI%2F4fxFmhQXkcjML0WPHnxaUf&RelayState=aOSahoWeI3IlSmRi', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:21:10,222 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:21:10,224 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:21:10,225 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 09:21:10,226 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 09:21:10,229 back:DEBUG --- SSO ---
2014-11-18 09:21:10,230 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaaweO0rARhBBJ%2FFhgeOFd2Yo0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4Gw%2FdthfbSgjI6adE2aSGpC1Mq%2FZK0lvk0YK1hejXQQPiodhs9l6%2B1BIe8TQP36QTXVnMjQPlQbCVwV%2FDF6P6OR23Cd9Y4U5gKfxnoZYMAkNZ5GIxGn8%2Bx0VBvpV1Iu1eFXM7vErxxbsfDsDKFqDYGHGeE9UJRQLjzEUYTD6m0ONpPYvil7pMQwIRWlsrKwjtmkwSrMuh1KOl3SlbGsez3I9Zh1zEVq7jLVl3R7V17IUAtZxqc0C7BEaHdgNKAspwwHhEexc8YZee%2Bb5RuRnmx59VJBPw2z7Mge1zkzQd7VUr74NUJvj%2BgRYbg1D9GT%2Bd9Ye%2FGqV8O5Q2URVNjt8JdLnfM%2BEbXjZRL7ZQ74PTvgcKu7Rc3CL9LpM0tHLFmk8xUqjigUVWZt7GVwnnUtajAI%2F4fxFmhQXkcjML0WPHnxaUf&RelayState=aOSahoWeI3IlSmRi'
2014-11-18 09:21:10,228 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-b8757a6e9a888bc1da6435df6a86da11" IssueInstant="2014-11-18T08:21:10Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:21:10,232 saml2.entity:INFO HTTP REDIRECT
2014-11-18 09:21:10,234 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC27RT5Kw65BCJEEdSOrB2%2BlO0iTpcVOF%2BHfWxA1msjBW2fy3sx78zq42q0rsgWH2pq0wZpJg4BRttTmJW08FpOIN66yi4HBRAxrvzIP8FoDehJoBkVop7R2RliJOpRyDSi8EvPh7Uy0monYOOutshX9IrDzBIkIzgcxlAw%2FnyNrsF6Dm4PbagWPD7OUrrzfoIjjyipZrSx6wZN%2BEkuF8SZUlIyDSm3kgf%2BB%2FgXmPEa0sYNSO1CBMB2nVJfRgvc6PdmFvuScLxQrZbd92SmXXcm7pWQsABFrmBr00viUthLWjhiLGC8SLlpMsOSZkvzk%2B1qb4ynPel58gFDcFEUe5ffzgpKnUyQ0AGgW7s%2FEca8jE%2BvW0p%2BfeOgEL8sjVIDx2u9p9sfNQka7fTPkM4i%2F12THyO%2FCnOk4t5VWezKsKvs2ciA9pHQpKwT6DzHeSYM6SKIkzg4bf36s7B0%3D&RelayState=-7593225062951492312')], 'data': [], 'method': 'GET'}
2014-11-18 09:21:12,884 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:21:12,885 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:21:12,886 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 09:21:12,886 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 09:21:12,888 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-202d72add49a25f401534da8f0383334" IssueInstant="2014-11-18T08:21:12Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:21:12,890 saml2.entity:INFO HTTP REDIRECT
2014-11-18 09:21:12,891 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVJdT8IwFH33VzR92dNou404GjaCECIJ6gLDB9%2FqVqTJaLG3Q%2Fn3lg81msiDb70359x7zj3tD943DdpJC8roLGAdGiCpK1Mr%2FZIFy3ISpsEgv%2BproHzYurWey9dWgkOepoH7doZbq7kRoHwpNhK4q%2FhieDfjUYfyrTXOVKbBXwR2mSAApHVeDEbDz%2BfIaGg30i6k3alKLuezDK%2Bd2wInpDGVaNYGHE9pjxJRAdn6CqOxV6m0OPBP6F%2FgNCUAhlhZKysrT5iOM6zqMKJRfR2Juk56IuquEsq6cVKLdEXjNI7jxAMBWjnV4IR2GY4oS0LGQpaWNOUR4yx6wqg4%2B75R%2BnjKi56fTyDgt2VZhMXDosTo8RwJ9gCc%2B%2Fszftxr0cTYjXCXJx463svqCOVSO%2BX2OP%2FjZj6j933H59Mn32vyY%2BT3fs50XJhGVXs0bBrzNrJSOJnhlWhA4n%2BIcVZoUF4SRiQ%2FbPz5sfIP&RelayState=1311695433457813850')], 'data': [], 'method': 'GET'}
2014-11-18 09:22:30,814 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="VEx3U2lJd1dGMndzbEZxV0hTNWVFZE9kOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3913', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '55391', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?id=TLwSiIwWF2wslFqWHS5eEdOd&key=b01fa85220879d3ea6107b5fa3f590cf277f8619', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c94550>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:22:30,816 back:DEBUG --- SSO ---
2014-11-18 09:22:33,153 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLWU2YjQ2OGRlNTBiMWYwNTUyMGY3ZGZlYWY5OGU4NGRiIiBJblJlc3BvbnNlVG89ImlkLWI4NzU3YTZlOWE4ODhiYzFkYTY0MzVkZjZhODZkYTExIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MjE6NTdaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLTBjY2QxZjNiN2VjOTVjNTE5NGQ5ZGIxODRlNGU1N2JhIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MjE6NTdaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC1iODc1N2E2ZTlhODg4YmMxZGE2NDM1ZGY2YTg2ZGExMSIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjM2OjU3WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA4OjIxOjU3WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjM2OjU3WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MjE6NTdaIiBTZXNzaW9uSW5kZXg9ImlkLTVmZTM0NDllY2Q1M2E3M2YxMjAyYzJlOGM0MDY3NTQ4Ij48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['-7593225062951492312']}
2014-11-18 09:22:33,153 saml2.client_base:ERROR XML parse error: Don't know how to handle 'post'
2014-11-18 09:25:00,658 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:25:00,670 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:25:00,750 service:DEBUG ENVIRON: None
2014-11-18 09:25:00,751 saml2:INFO Logging started
2014-11-18 09:25:00,753 back:DEBUG --- SSO ---
2014-11-18 09:25:00,754 service:DEBUG ENVIRON: None
2014-11-18 09:25:00,777 root:INFO Server starting
2014-11-18 09:25:50,453 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:25:50,464 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:25:50,543 service:DEBUG ENVIRON: None
2014-11-18 09:25:50,544 saml2:INFO Logging started
2014-11-18 09:25:50,547 back:DEBUG --- SSO ---
2014-11-18 09:25:50,548 service:DEBUG ENVIRON: None
2014-11-18 09:25:50,568 root:INFO Server starting
2014-11-18 09:26:08,091 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="VEx3U2lJd1dGMndzbEZxV0hTNWVFZE9kOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ldolgadg1CCGSgG5k9eCtdAdpsrTY6aL8e8uCGo0h8daZvG%2FnmY%2FB9fumIjtwqK1JW0mbtQgYZUttXtLWYzGJeOs6uxgYZGJY%2B7V5gNca0JNgMyhCOqW1M8JK1CGUG0DhlVgM5zPRaTOxddZbZSv6ZUjOGyQiOB9gKBl%2BPkfWYL0BtwC30woeH2YpXXu%2FFXFcWSWrtUUvOONXsVQYb0NEyThAaiMP9qMYf6n7LEa0sYNSO1DBMR2nVJeR6nb5Si5LvuRcLnnZAd6HkknZT1S3t%2BoFIWINU4NeGp%2FSDksuoySJEl4wLjo9wS6fKclPfd9o04zybM%2FLowjFbVHkUX6%2FKJoPdroEdxfUKZ3vySIneOyfkqfTvmhw0ywsJxENlCMT6zbSny93yIRGV41UgPHa72n290Bx2w6LG8TfJbLmFg5Y03FuK632ZFhV9m3kQPqAupIVBsT%2Fg3gnDeqAQ0mcHSr%2BvLjsAw%3D%3D&RelayState=omTyl0dhsdIj3EPi', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '57050', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108b94f90>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ldolgadg1CCGSgG5k9eCtdAdpsrTY6aL8e8uCGo0h8daZvG%2FnmY%2FB9fumIjtwqK1JW0mbtQgYZUttXtLWYzGJeOs6uxgYZGJY%2B7V5gNca0JNgMyhCOqW1M8JK1CGUG0DhlVgM5zPRaTOxddZbZSv6ZUjOGyQiOB9gKBl%2BPkfWYL0BtwC30woeH2YpXXu%2FFXFcWSWrtUUvOONXsVQYb0NEyThAaiMP9qMYf6n7LEa0sYNSO1DBMR2nVJeR6nb5Si5LvuRcLnnZAd6HkknZT1S3t%2BoFIWINU4NeGp%2FSDksuoySJEl4wLjo9wS6fKclPfd9o04zybM%2FLowjFbVHkUX6%2FKJoPdroEdxfUKZ3vySIneOyfkqfTvmhw0ywsJxENlCMT6zbSny93yIRGV41UgPHa72n290Bx2w6LG8TfJbLmFg5Y03FuK632ZFhV9m3kQPqAupIVBsT%2Fg3gnDeqAQ0mcHSr%2BvLjsAw%3D%3D&RelayState=omTyl0dhsdIj3EPi', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:26:08,092 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="VEx3U2lJd1dGMndzbEZxV0hTNWVFZE9kOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa%2FlyNGwEIUQS0AWGF951XZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEbHDdokDSS1MIXSL3FjnU2DqDFMbgYaCBtVbquX8rWS4JC3aWA%2BHePKamY4KB%2FynQTmBFuNFnPWahK2t8YZYUr8ZaDXDRxAWudhMBp9PsdGQ7WTdiXtQQm5Xs5jvHVuz8KwNIKXWwOORSS6DbmAcO8jjCYeUml%2Bsp%2FF8EvdJyGACa0slJXCO2aTGKsiyLt5TjnlUb8lSaef99qbbkS6ot0jRXHbpV4IUMmZBse1i3GL0E5AaUCjjESs1WOEPmOUXvq%2BU7oe5dWe87MI2H2WpUH6uMrqDw6qkPbBq2O8OKJViuDcP0ZPl31h78aJXw5lNZRFU2N33F0vd8r4Rje1lEntlDvi5O%2BBwr7pFzcIv0sk9S2csGaT1JRKHNGoLM3b2EruPOqGl%2BAR%2Fw%2FiLNegPA5GYXKq%2BPPikg8%3D&RelayState=PemKXjOKkrws3Cd4', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '57030', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108b8cd50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa%2FlyNGwEIUQS0AWGF951XZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEbHDdokDSS1MIXSL3FjnU2DqDFMbgYaCBtVbquX8rWS4JC3aWA%2BHePKamY4KB%2FynQTmBFuNFnPWahK2t8YZYUr8ZaDXDRxAWudhMBp9PsdGQ7WTdiXtQQm5Xs5jvHVuz8KwNIKXWwOORSS6DbmAcO8jjCYeUml%2Bsp%2FF8EvdJyGACa0slJXCO2aTGKsiyLt5TjnlUb8lSaef99qbbkS6ot0jRXHbpV4IUMmZBse1i3GL0E5AaUCjjESs1WOEPmOUXvq%2BU7oe5dWe87MI2H2WpUH6uMrqDw6qkPbBq2O8OKJViuDcP0ZPl31h78aJXw5lNZRFU2N33F0vd8r4Rje1lEntlDvi5O%2BBwr7pFzcIv0sk9S2csGaT1JRKHNGoLM3b2EruPOqGl%2BAR%2Fw%2FiLNegPA5GYXKq%2BPPikg8%3D&RelayState=PemKXjOKkrws3Cd4', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:26:16,345 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:26:16,346 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:26:16,347 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-c558fabd8b88ab8d2e89ed0aa91c56f6" IssueInstant="2014-11-18T08:26:04Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:26:16,350 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-c558fabd8b88ab8d2e89ed0aa91c56f6" IssueInstant="2014-11-18T08:26:04Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:26:16,352 saml2.entity:DEBUG Loaded request
2014-11-18 09:26:16,352 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:26:16,354 saml2.entity:DEBUG Verified request
2014-11-18 09:26:16,356 front:INFO parsed OK
2014-11-18 09:26:16,358 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-c558fabd8b88ab8d2e89ed0aa91c56f6" IssueInstant="2014-11-18T08:26:04Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:26:16,355 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:26:16,358 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:26:16,359 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-b5bb1a1a892e049b63f5805c360dd751" IssueInstant="2014-11-18T08:26:01Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:26:16,361 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:26:16,366 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 09:26:16,365 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-b5bb1a1a892e049b63f5805c360dd751" IssueInstant="2014-11-18T08:26:01Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:26:16,366 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:26:16,368 saml2.entity:DEBUG Loaded request
2014-11-18 09:26:16,369 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:26:16,371 saml2.entity:DEBUG Verified request
2014-11-18 09:26:16,372 front:INFO parsed OK
2014-11-18 09:26:16,374 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-b5bb1a1a892e049b63f5805c360dd751" IssueInstant="2014-11-18T08:26:01Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:26:16,374 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:26:16,375 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:26:16,376 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 09:26:16,377 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:26:16,378 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:26:21,524 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="VEx3U2lJd1dGMndzbEZxV0hTNWVFZE9kOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa%2FlyNGwEIUQS0AWGF951XZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEbHDdokDSS1MIXSL3FjnU2DqDFMbgYaCBtVbquX8rWS4JC3aWA%2BHePKamY4KB%2FynQTmBFuNFnPWahK2t8YZYUr8ZaDXDRxAWudhMBp9PsdGQ7WTdiXtQQm5Xs5jvHVuz8KwNIKXWwOORSS6DbmAcO8jjCYeUml%2Bsp%2FF8EvdJyGACa0slJXCO2aTGKsiyLt5TjnlUb8lSaef99qbbkS6ot0jRXHbpV4IUMmZBse1i3GL0E5AaUCjjESs1WOEPmOUXvq%2BU7oe5dWe87MI2H2WpUH6uMrqDw6qkPbBq2O8OKJViuDcP0ZPl31h78aJXw5lNZRFU2N33F0vd8r4Rje1lEntlDvi5O%2BBwr7pFzcIv0sk9S2csGaT1JRKHNGoLM3b2EruPOqGl%2BAR%2Fw%2FiLNegPA5GYXKq%2BPPikg8%3D&RelayState=PemKXjOKkrws3Cd4', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '57030', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108b8cd50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa%2FlyNGwEIUQS0AWGF951XZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEbHDdokDSS1MIXSL3FjnU2DqDFMbgYaCBtVbquX8rWS4JC3aWA%2BHePKamY4KB%2FynQTmBFuNFnPWahK2t8YZYUr8ZaDXDRxAWudhMBp9PsdGQ7WTdiXtQQm5Xs5jvHVuz8KwNIKXWwOORSS6DbmAcO8jjCYeUml%2Bsp%2FF8EvdJyGACa0slJXCO2aTGKsiyLt5TjnlUb8lSaef99qbbkS6ot0jRXHbpV4IUMmZBse1i3GL0E5AaUCjjESs1WOEPmOUXvq%2BU7oe5dWe87MI2H2WpUH6uMrqDw6qkPbBq2O8OKJViuDcP0ZPl31h78aJXw5lNZRFU2N33F0vd8r4Rje1lEntlDvi5O%2BBwr7pFzcIv0sk9S2csGaT1JRKHNGoLM3b2EruPOqGl%2BAR%2Fw%2FiLNegPA5GYXKq%2BPPikg8%3D&RelayState=PemKXjOKkrws3Cd4', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:26:21,525 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="VEx3U2lJd1dGMndzbEZxV0hTNWVFZE9kOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ldolgadg1CCGSgG5k9eCtdAdpsrTY6aL8e8uCGo0h8daZvG%2FnmY%2FB9fumIjtwqK1JW0mbtQgYZUttXtLWYzGJeOs6uxgYZGJY%2B7V5gNca0JNgMyhCOqW1M8JK1CGUG0DhlVgM5zPRaTOxddZbZSv6ZUjOGyQiOB9gKBl%2BPkfWYL0BtwC30woeH2YpXXu%2FFXFcWSWrtUUvOONXsVQYb0NEyThAaiMP9qMYf6n7LEa0sYNSO1DBMR2nVJeR6nb5Si5LvuRcLnnZAd6HkknZT1S3t%2BoFIWINU4NeGp%2FSDksuoySJEl4wLjo9wS6fKclPfd9o04zybM%2FLowjFbVHkUX6%2FKJoPdroEdxfUKZ3vySIneOyfkqfTvmhw0ywsJxENlCMT6zbSny93yIRGV41UgPHa72n290Bx2w6LG8TfJbLmFg5Y03FuK632ZFhV9m3kQPqAupIVBsT%2Fg3gnDeqAQ0mcHSr%2BvLjsAw%3D%3D&RelayState=omTyl0dhsdIj3EPi', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '57050', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108b94f90>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ldolgadg1CCGSgG5k9eCtdAdpsrTY6aL8e8uCGo0h8daZvG%2FnmY%2FB9fumIjtwqK1JW0mbtQgYZUttXtLWYzGJeOs6uxgYZGJY%2B7V5gNca0JNgMyhCOqW1M8JK1CGUG0DhlVgM5zPRaTOxddZbZSv6ZUjOGyQiOB9gKBl%2BPkfWYL0BtwC30woeH2YpXXu%2FFXFcWSWrtUUvOONXsVQYb0NEyThAaiMP9qMYf6n7LEa0sYNSO1DBMR2nVJeR6nb5Si5LvuRcLnnZAd6HkknZT1S3t%2BoFIWINU4NeGp%2FSDksuoySJEl4wLjo9wS6fKclPfd9o04zybM%2FLowjFbVHkUX6%2FKJoPdroEdxfUKZ3vySIneOyfkqfTvmhw0ywsJxENlCMT6zbSny93yIRGV41UgPHa72n290Bx2w6LG8TfJbLmFg5Y03FuK632ZFhV9m3kQPqAupIVBsT%2Fg3gnDeqAQ0mcHSr%2BvLjsAw%3D%3D&RelayState=omTyl0dhsdIj3EPi', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:26:21,530 back:DEBUG --- SSO ---
2014-11-18 09:26:21,531 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa%2FlyNGwEIUQS0AWGF951XZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEbHDdokDSS1MIXSL3FjnU2DqDFMbgYaCBtVbquX8rWS4JC3aWA%2BHePKamY4KB%2FynQTmBFuNFnPWahK2t8YZYUr8ZaDXDRxAWudhMBp9PsdGQ7WTdiXtQQm5Xs5jvHVuz8KwNIKXWwOORSS6DbmAcO8jjCYeUml%2Bsp%2FF8EvdJyGACa0slJXCO2aTGKsiyLt5TjnlUb8lSaef99qbbkS6ot0jRXHbpV4IUMmZBse1i3GL0E5AaUCjjESs1WOEPmOUXvq%2BU7oe5dWe87MI2H2WpUH6uMrqDw6qkPbBq2O8OKJViuDcP0ZPl31h78aJXw5lNZRFU2N33F0vd8r4Rje1lEntlDvi5O%2BBwr7pFzcIv0sk9S2csGaT1JRKHNGoLM3b2EruPOqGl%2BAR%2Fw%2FiLNegPA5GYXKq%2BPPikg8%3D&RelayState=PemKXjOKkrws3Cd4'
2014-11-18 09:26:21,533 back:DEBUG --- SSO ---
2014-11-18 09:26:21,533 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ldolgadg1CCGSgG5k9eCtdAdpsrTY6aL8e8uCGo0h8daZvG%2FnmY%2FB9fumIjtwqK1JW0mbtQgYZUttXtLWYzGJeOs6uxgYZGJY%2B7V5gNca0JNgMyhCOqW1M8JK1CGUG0DhlVgM5zPRaTOxddZbZSv6ZUjOGyQiOB9gKBl%2BPkfWYL0BtwC30woeH2YpXXu%2FFXFcWSWrtUUvOONXsVQYb0NEyThAaiMP9qMYf6n7LEa0sYNSO1DBMR2nVJeR6nb5Si5LvuRcLnnZAd6HkknZT1S3t%2BoFIWINU4NeGp%2FSDksuoySJEl4wLjo9wS6fKclPfd9o04zybM%2FLowjFbVHkUX6%2FKJoPdroEdxfUKZ3vySIneOyfkqfTvmhw0ywsJxENlCMT6zbSny93yIRGV41UgPHa72n290Bx2w6LG8TfJbLmFg5Y03FuK632ZFhV9m3kQPqAupIVBsT%2Fg3gnDeqAQ0mcHSr%2BvLjsAw%3D%3D&RelayState=omTyl0dhsdIj3EPi'
2014-11-18 09:26:24,422 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:26:24,423 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:26:24,424 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:26:24,425 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:26:24,426 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 09:26:24,428 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 09:26:24,428 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 09:26:24,431 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-32742534d30a7a0a0825f98264518dcf" IssueInstant="2014-11-18T08:26:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:26:24,432 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 09:26:24,434 saml2.entity:INFO HTTP REDIRECT
2014-11-18 09:26:24,436 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-0609feccc7ad4fe7d038d0a1b19679c3" IssueInstant="2014-11-18T08:26:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:26:24,438 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVLLbsIwELz3KyxfOIU4IYCxSBAFoSLRNoLQQ2%2BuY4qlYFOvQ%2BHvax5t1Url0Jt3NbM7s%2BP%2BYL%2Bp0E5aUEanjahJGkhqYUqlX9PGspgEtDHIbvoaCBvWbq3n8q2W4JCnaWC%2BneLaamY4KF%2FyjQTmBFsM72csbhK2tcYZYSr8RYiuEziAtM6LwWj4%2BRwZDfVG2oW0OyXkcj5L8dq5LbAwrIzg1dqAY5T0SMgFhFtfYTT2KpXmR%2F4Z%2FQtMaQhgQitLZaXwhOk4xaoMWnE3idutpGwR3uWEExq3Vz0ad5J2REux8kCAWk41OK5dimMSJUEUBREtCGVxh8XJM0b5xfet0qdTXvX8cgYBuyuKPMgfFwVGT5dIsAfgzN8%2FYqe9Fk2M3XB3feKx472sTlAmtVPugLM%2FbuYz2h%2BaPp9%2B%2BL0mO0X%2B4OdMx7mplDigYVWZ95GV3MkUr3gFEv9DjLNcg%2FKSMAqz48afHyv7AA%3D%3D&RelayState=1014256532705328245')], 'data': [], 'method': 'GET'}
2014-11-18 09:26:24,440 saml2.entity:INFO HTTP REDIRECT
2014-11-18 09:26:24,442 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC3bAoGlYZcghEiCSmDx4K10B2mytNjpovx7y4caTeTgrTN5b%2Ba9ee3137cl2YNDbU1a43VWI2CULbR5SWvLfBwltX520zPIxKDyGzOH1wrQk0AzKEI7pZUzwkrUoZRbQOGVWAzup6JRZ2LnrLfKlvSLwK8TJCI4H8RQMvh8Dq3BagtuAW6vFSzn05RuvN%2BhiOPSKlluLHqRsC6LpcJ4FypKRkGlNvLIP6N%2FgZMkRrSxg0I7UIEwGaVUFxFrs%2B4alFIdWbTW0ClYMymY5CvebXe6qhmAiBVMDHppfEobjLciziOe5CwRjbZotJ4pmV1832pzOuVVz6szCMVdns%2Bi2eMip%2BTpEgkNAJqF%2B3Nx2uvI2Lqt9NcnHjvBy%2FoEFWC89gea%2FXGzkNH7oR7y6cXfa7JT5A9hzmQ0s6VWBzIoS%2Fs2dCA9pHQtSwT6DzHeSYM6SKIkzo4bf36s7AM%3D&RelayState=2166621449308542049')], 'data': [], 'method': 'GET'}
2014-11-18 09:27:48,248 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="a3EwcUZZMHZLV2dmNmVDcHhJZzdHWGZkOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3912', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '57050', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?id=kq0qFY0vKWgf6eCpxIg7GXfd&key=b1dbd05f0901f348adb6217a7a63a9082b67fc99', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108b8cd50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:27:52,619 back:DEBUG --- SSO ---
2014-11-18 09:28:15,589 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTlmMTViMTBhMGViZDcxNjJmNzY5OTk2M2RhYjAzNmUwIiBJblJlc3BvbnNlVG89ImlkLTMyNzQyNTM0ZDMwYTdhMGEwODI1Zjk4MjY0NTE4ZGNmIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MjY6MzJaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLTliMzkwZmM0NzlhOTMxZTlkYjBlYTdkMzIwMDljNzA4IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MjY6MzJaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC0zMjc0MjUzNGQzMGE3YTBhMDgyNWY5ODI2NDUxOGRjZiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjQxOjMyWiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA4OjI2OjMyWiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjQxOjMyWiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MjY6MzJaIiBTZXNzaW9uSW5kZXg9ImlkLWE3ZTdkMGM1ZjQ0MWY5NGE4MGZkZmJlYjI2ZjdlNzI2Ij48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['1014256532705328245']}
2014-11-18 09:28:25,618 saml2.client_base:ERROR XML parse error: Don't know how to handle 'post'
2014-11-18 09:29:33,794 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="a3EwcUZZMHZLV2dmNmVDcHhJZzdHWGZkOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ltivo2rBrEGIkAd3I6sFb6Q7SZGmx00X595bFj2gMibfO5H07z3wMLt%2FWNdmCQ21N1uFd1iFglK20ec46D%2BV1lHYu85OBQSaGjV%2BZe3hpAD0JNoMipDPaOCOsRB1CuQYUXon5cDYVSZeJjbPeKlvTLwM%2FbpCI4HyAoWT4%2BRxZg80a3BzcVit4uJ9mdOX9RsRxbZWsVxa9SFl6HkuF8SZElIwDpDZybz%2BI8Zf6gsWINnZQaQcqOCbjjOoqqlQ%2F5ae8v1wk8qyXsNMlAyn52QJ4qpJFPwgRG5gY9NL4jCaM9yLOI56WLBXJhUjYEyXFR99X2rSjPNrz4iBCcVOWRVTczcv2g62uwN0GdUZnOzIvCB76p%2BTxY180uGkelsNFC%2BXItXVr6Y%2BX22dCo8tWKsB47Xc0%2F3uguOmGxQ3i7xJ5ewt7rMm4sLVWOzKsa%2Fs6ciB9QF3KGgPi%2F0G8kwZ1wKEkzvcVf15c%2Fg4%3D&RelayState=BHNYyGK1xg5G0oBq', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '58350', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106b2b190>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ltivo2rBrEGIkAd3I6sFb6Q7SZGmx00X595bFj2gMibfO5H07z3wMLt%2FWNdmCQ21N1uFd1iFglK20ec46D%2BV1lHYu85OBQSaGjV%2BZe3hpAD0JNoMipDPaOCOsRB1CuQYUXon5cDYVSZeJjbPeKlvTLwM%2FbpCI4HyAoWT4%2BRxZg80a3BzcVit4uJ9mdOX9RsRxbZWsVxa9SFl6HkuF8SZElIwDpDZybz%2BI8Zf6gsWINnZQaQcqOCbjjOoqqlQ%2F5ae8v1wk8qyXsNMlAyn52QJ4qpJFPwgRG5gY9NL4jCaM9yLOI56WLBXJhUjYEyXFR99X2rSjPNrz4iBCcVOWRVTczcv2g62uwN0GdUZnOzIvCB76p%2BTxY180uGkelsNFC%2BXItXVr6Y%2BX22dCo8tWKsB47Xc0%2F3uguOmGxQ3i7xJ5ewt7rMm4sLVWOzKsa%2Fs6ciB9QF3KGgPi%2F0G8kwZ1wKEkzvcVf15c%2Fg4%3D&RelayState=BHNYyGK1xg5G0oBq', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:29:33,795 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="a3EwcUZZMHZLV2dmNmVDcHhJZzdHWGZkOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga6waO0bAZhBhJRBeZXnhXu4M0GS32dCj%2F3jJQozEk3vWcvG%2FPcz5GF%2B%2FrmmzBojI660Rd1iGgpamUfsk6D%2BVVkHYu8rORRsbHjVvpe3htAB3xNo3cpzPaWM2NQOVDsQbkTvLFeH7D4y7jG2uckaamX4botEEggnUehpLx53NiNDZrsAuwWyXh4f4moyvnNjwMayNFvTLoeMrSQSgkhhsfUTL1kEqLvf0gxl%2FqIQsRTWihUhakd8ymGVVVkCQyfYZ%2Bb5jGySBOekLEMSRVD2TC2LI690LEBmYandAuozGL%2BkEUBVFaspTHQx73nigpjn1fKt2O8mTPzwcR8uuyLILiblG2H2xVBfbWqzM635FFQfDQPyWPx31R76a5X07EWyhLroxdC3e63D7jG122Ug7aKbej%2Bd8DxU3XL24UfpfI21vYY82mhamV3JFxXZu3iQXhPOpS1OgR%2Fw%2FirNCoPA4lYb6v%2BPPi8g8%3D&RelayState=kRyiAKtKjwcccpku', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '58371', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108b94dd0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga6waO0bAZhBhJRBeZXnhXu4M0GS32dCj%2F3jJQozEk3vWcvG%2FPcz5GF%2B%2FrmmzBojI660Rd1iGgpamUfsk6D%2BVVkHYu8rORRsbHjVvpe3htAB3xNo3cpzPaWM2NQOVDsQbkTvLFeH7D4y7jG2uckaamX4botEEggnUehpLx53NiNDZrsAuwWyXh4f4moyvnNjwMayNFvTLoeMrSQSgkhhsfUTL1kEqLvf0gxl%2FqIQsRTWihUhakd8ymGVVVkCQyfYZ%2Bb5jGySBOekLEMSRVD2TC2LI690LEBmYandAuozGL%2BkEUBVFaspTHQx73nigpjn1fKt2O8mTPzwcR8uuyLILiblG2H2xVBfbWqzM635FFQfDQPyWPx31R76a5X07EWyhLroxdC3e63D7jG122Ug7aKbej%2Bd8DxU3XL24UfpfI21vYY82mhamV3JFxXZu3iQXhPOpS1OgR%2Fw%2FirNCoPA4lYb6v%2BPPi8g8%3D&RelayState=kRyiAKtKjwcccpku', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:29:36,414 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:29:36,415 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:29:36,416 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-66c8be4398267263aa22e6d3ec600fd5" IssueInstant="2014-11-18T08:29:23Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:29:36,417 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:29:36,421 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-66c8be4398267263aa22e6d3ec600fd5" IssueInstant="2014-11-18T08:29:23Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:29:36,422 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:29:36,424 saml2.entity:DEBUG Loaded request
2014-11-18 09:29:36,425 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-dc581315fb2a64203f0eaa16be18c2b5" IssueInstant="2014-11-18T08:29:20Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:29:36,426 saml2.entity:DEBUG Verified request
2014-11-18 09:29:36,431 front:INFO parsed OK
2014-11-18 09:29:36,430 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-dc581315fb2a64203f0eaa16be18c2b5" IssueInstant="2014-11-18T08:29:20Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:29:36,433 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-66c8be4398267263aa22e6d3ec600fd5" IssueInstant="2014-11-18T08:29:23Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:29:36,434 saml2.entity:DEBUG Loaded request
2014-11-18 09:29:36,435 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:29:36,437 saml2.entity:DEBUG Verified request
2014-11-18 09:29:36,438 front:INFO parsed OK
2014-11-18 09:29:36,440 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-dc581315fb2a64203f0eaa16be18c2b5" IssueInstant="2014-11-18T08:29:20Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:29:36,437 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:29:36,442 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 09:29:36,441 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:29:36,442 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:29:36,443 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:29:36,444 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:29:36,445 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 09:29:36,447 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:29:36,447 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:29:39,619 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="a3EwcUZZMHZLV2dmNmVDcHhJZzdHWGZkOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ltivo2rBrEGIkAd3I6sFb6Q7SZGmx00X595bFj2gMibfO5H07z3wMLt%2FWNdmCQ21N1uFd1iFglK20ec46D%2BV1lHYu85OBQSaGjV%2BZe3hpAD0JNoMipDPaOCOsRB1CuQYUXon5cDYVSZeJjbPeKlvTLwM%2FbpCI4HyAoWT4%2BRxZg80a3BzcVit4uJ9mdOX9RsRxbZWsVxa9SFl6HkuF8SZElIwDpDZybz%2BI8Zf6gsWINnZQaQcqOCbjjOoqqlQ%2F5ae8v1wk8qyXsNMlAyn52QJ4qpJFPwgRG5gY9NL4jCaM9yLOI56WLBXJhUjYEyXFR99X2rSjPNrz4iBCcVOWRVTczcv2g62uwN0GdUZnOzIvCB76p%2BTxY180uGkelsNFC%2BXItXVr6Y%2BX22dCo8tWKsB47Xc0%2F3uguOmGxQ3i7xJ5ewt7rMm4sLVWOzKsa%2Fs6ciB9QF3KGgPi%2F0G8kwZ1wKEkzvcVf15c%2Fg4%3D&RelayState=BHNYyGK1xg5G0oBq', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '58350', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106b2b190>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ltivo2rBrEGIkAd3I6sFb6Q7SZGmx00X595bFj2gMibfO5H07z3wMLt%2FWNdmCQ21N1uFd1iFglK20ec46D%2BV1lHYu85OBQSaGjV%2BZe3hpAD0JNoMipDPaOCOsRB1CuQYUXon5cDYVSZeJjbPeKlvTLwM%2FbpCI4HyAoWT4%2BRxZg80a3BzcVit4uJ9mdOX9RsRxbZWsVxa9SFl6HkuF8SZElIwDpDZybz%2BI8Zf6gsWINnZQaQcqOCbjjOoqqlQ%2F5ae8v1wk8qyXsNMlAyn52QJ4qpJFPwgRG5gY9NL4jCaM9yLOI56WLBXJhUjYEyXFR99X2rSjPNrz4iBCcVOWRVTczcv2g62uwN0GdUZnOzIvCB76p%2BTxY180uGkelsNFC%2BXItXVr6Y%2BX22dCo8tWKsB47Xc0%2F3uguOmGxQ3i7xJ5ewt7rMm4sLVWOzKsa%2Fs6ciB9QF3KGgPi%2F0G8kwZ1wKEkzvcVf15c%2Fg4%3D&RelayState=BHNYyGK1xg5G0oBq', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:29:39,621 back:DEBUG --- SSO ---
2014-11-18 09:29:39,622 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="a3EwcUZZMHZLV2dmNmVDcHhJZzdHWGZkOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga6waO0bAZhBhJRBeZXnhXu4M0GS32dCj%2F3jJQozEk3vWcvG%2FPcz5GF%2B%2FrmmzBojI660Rd1iGgpamUfsk6D%2BVVkHYu8rORRsbHjVvpe3htAB3xNo3cpzPaWM2NQOVDsQbkTvLFeH7D4y7jG2uckaamX4botEEggnUehpLx53NiNDZrsAuwWyXh4f4moyvnNjwMayNFvTLoeMrSQSgkhhsfUTL1kEqLvf0gxl%2FqIQsRTWihUhakd8ymGVVVkCQyfYZ%2Bb5jGySBOekLEMSRVD2TC2LI690LEBmYandAuozGL%2BkEUBVFaspTHQx73nigpjn1fKt2O8mTPzwcR8uuyLILiblG2H2xVBfbWqzM635FFQfDQPyWPx31R76a5X07EWyhLroxdC3e63D7jG122Ug7aKbej%2Bd8DxU3XL24UfpfI21vYY82mhamV3JFxXZu3iQXhPOpS1OgR%2Fw%2FirNCoPA4lYb6v%2BPPi8g8%3D&RelayState=kRyiAKtKjwcccpku', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '58371', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108b94dd0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga6waO0bAZhBhJRBeZXnhXu4M0GS32dCj%2F3jJQozEk3vWcvG%2FPcz5GF%2B%2FrmmzBojI660Rd1iGgpamUfsk6D%2BVVkHYu8rORRsbHjVvpe3htAB3xNo3cpzPaWM2NQOVDsQbkTvLFeH7D4y7jG2uckaamX4botEEggnUehpLx53NiNDZrsAuwWyXh4f4moyvnNjwMayNFvTLoeMrSQSgkhhsfUTL1kEqLvf0gxl%2FqIQsRTWihUhakd8ymGVVVkCQyfYZ%2Bb5jGySBOekLEMSRVD2TC2LI690LEBmYandAuozGL%2BkEUBVFaspTHQx73nigpjn1fKt2O8mTPzwcR8uuyLILiblG2H2xVBfbWqzM635FFQfDQPyWPx31R76a5X07EWyhLroxdC3e63D7jG122Ug7aKbej%2Bd8DxU3XL24UfpfI21vYY82mhamV3JFxXZu3iQXhPOpS1OgR%2Fw%2FirNCoPA4lYb6v%2BPPi8g8%3D&RelayState=kRyiAKtKjwcccpku', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:29:39,622 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ltivo2rBrEGIkAd3I6sFb6Q7SZGmx00X595bFj2gMibfO5H07z3wMLt%2FWNdmCQ21N1uFd1iFglK20ec46D%2BV1lHYu85OBQSaGjV%2BZe3hpAD0JNoMipDPaOCOsRB1CuQYUXon5cDYVSZeJjbPeKlvTLwM%2FbpCI4HyAoWT4%2BRxZg80a3BzcVit4uJ9mdOX9RsRxbZWsVxa9SFl6HkuF8SZElIwDpDZybz%2BI8Zf6gsWINnZQaQcqOCbjjOoqqlQ%2F5ae8v1wk8qyXsNMlAyn52QJ4qpJFPwgRG5gY9NL4jCaM9yLOI56WLBXJhUjYEyXFR99X2rSjPNrz4iBCcVOWRVTczcv2g62uwN0GdUZnOzIvCB76p%2BTxY180uGkelsNFC%2BXItXVr6Y%2BX22dCo8tWKsB47Xc0%2F3uguOmGxQ3i7xJ5ewt7rMm4sLVWOzKsa%2Fs6ciB9QF3KGgPi%2F0G8kwZ1wKEkzvcVf15c%2Fg4%3D&RelayState=BHNYyGK1xg5G0oBq'
2014-11-18 09:29:39,625 back:DEBUG --- SSO ---
2014-11-18 09:29:39,626 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga6waO0bAZhBhJRBeZXnhXu4M0GS32dCj%2F3jJQozEk3vWcvG%2FPcz5GF%2B%2FrmmzBojI660Rd1iGgpamUfsk6D%2BVVkHYu8rORRsbHjVvpe3htAB3xNo3cpzPaWM2NQOVDsQbkTvLFeH7D4y7jG2uckaamX4botEEggnUehpLx53NiNDZrsAuwWyXh4f4moyvnNjwMayNFvTLoeMrSQSgkhhsfUTL1kEqLvf0gxl%2FqIQsRTWihUhakd8ymGVVVkCQyfYZ%2Bb5jGySBOekLEMSRVD2TC2LI690LEBmYandAuozGL%2BkEUBVFaspTHQx73nigpjn1fKt2O8mTPzwcR8uuyLILiblG2H2xVBfbWqzM635FFQfDQPyWPx31R76a5X07EWyhLroxdC3e63D7jG122Ug7aKbej%2Bd8DxU3XL24UfpfI21vYY82mhamV3JFxXZu3iQXhPOpS1OgR%2Fw%2FirNCoPA4lYb6v%2BPPi8g8%3D&RelayState=kRyiAKtKjwcccpku'
2014-11-18 09:29:43,264 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:29:43,265 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:29:43,266 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 09:29:43,267 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 09:29:43,269 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-bd9f0d935caf0a92588ba6318a1b602a" IssueInstant="2014-11-18T08:29:43Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:29:43,271 saml2.entity:INFO HTTP REDIRECT
2014-11-18 09:29:43,273 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC3bLh%2FpNuwShBBJUAksHryVbpEmS4udLsq%2Ft3yo0UQO3jqT92bem9de%2F31bob1yoK3JGrRJGkgZaUttXrLGshhHrNHPb3oGCB%2FUfmPm6rVW4FGgGeChneHaGW4F6FCKrQLuJV8M7qc8aRK%2Bc9ZbaSv8RaDXCQJAOR%2FEYDT4fA6tgXqr3EK5vZZqOZ9meOP9DngcV1aKamPBc0ZSEgsJ8S5UGI2CSm3EkX9G%2FwIzFgPY2KlSOyUDYTLKsC6jVZmuSZm2OlKsiUiTDmMr0W1RJuiqSxIRgAC1mhjwwvgMJ4S2I0ojygrCeJLydusZo9nF9602p1Ne9bw6g4DfFcUsmj0uCoyeLpHgAMB5uD%2Flp70Oja3bCn994rETvKxPUK6M1%2F6A8z9uFjJ6PzRDPr34e01%2BivwhzJmMZrbS8oAGVWXfhk4JrzK8FhUo%2FA8x3gkDOkjCKM6PG39%2BrPwD&RelayState=-8722097070847442539')], 'data': [], 'method': 'GET'}
2014-11-18 09:29:43,272 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:29:43,275 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:29:43,276 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 09:29:43,277 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 09:29:43,279 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-c302a411b7567216af2facdc1f4bb693" IssueInstant="2014-11-18T08:29:43Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:29:43,281 saml2.entity:INFO HTTP REDIRECT
2014-11-18 09:29:43,282 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVJBbsIwELz3FZYvOYXEgUKwSBAFoSLRFkHooTfHOMVSYlOvQ%2BH3NYG2aqVy6M27mtmd2fFgeKhKtBcGpFaJR1qhh4TieiPVa%2BKts6kfe8P0ZqAgpKPabtVSvNUCLHI0BdS1E1wbRTUD6UpWCaCW09XoYU6jVkh3RlvNdYm%2FCOQ6gQEIY50YjEafz7FWUFfCrITZSy7Wy3mCt9bugAZBqTkrtxosjcN%2BGDAOwc5VGE2cSqnYiX9G%2FwLHcQCgAyM20gjuCLNJguXG5%2B0wYh1C8t5ttxeRLiuigvENJ0Unz7v9tgMC1GKmwDJlExyFpOMT4pM4C2Ma9Wmn%2FYLR4uL7TqrmlFc952cQ0PssW%2FiLp1WG0fMlEuwAOHX3J7TZa9BUm4rZ6xNPHeelaKBUKCvtEad%2F3MxldDi2XD6D4HtN2kT%2B6ObMJgtdSn5Eo7LU72MjmBUJLlgJAv9DjDVMgXSSMArS08afHyv9AA%3D%3D&RelayState=2223907329123399132')], 'data': [], 'method': 'GET'}
2014-11-18 09:29:48,004 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="a3EwcUZZMHZLV2dmNmVDcHhJZzdHWGZkOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3912', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '58371', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=nVJBbsIwELz3FZYvOYXEgUKwSBAFoSLRFkHooTfHOMVSYlOvQ%2BH3NYG2aqVy6M27mtmd2fFgeKhKtBcGpFaJR1qhh4TieiPVa%2BKts6kfe8P0ZqAgpKPabtVSvNUCLHI0BdS1E1wbRTUD6UpWCaCW09XoYU6jVkh3RlvNdYm%2FCOQ6gQEIY50YjEafz7FWUFfCrITZSy7Wy3mCt9bugAZBqTkrtxosjcN%2BGDAOwc5VGE2cSqnYiX9G%2FwLHcQCgAyM20gjuCLNJguXG5%2B0wYh1C8t5ttxeRLiuigvENJ0Unz7v9tgMC1GKmwDJlExyFpOMT4pM4C2Ma9Wmn%2FYLR4uL7TqrmlFc952cQ0PssW%2FiLp1WG0fMlEuwAOHX3J7TZa9BUm4rZ6xNPHeelaKBUKCvtEad%2F3MxldDi2XD6D4HtN2kT%2B6ObMJgtdSn5Eo7LU72MjmBUJLlgJAv9DjDVMgXSSMArS08afHyv9AA%3D%3D&RelayState=2223907329123399132', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x106b35c90>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:29:48,006 back:DEBUG --- SSO ---
2014-11-18 09:29:50,278 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTFkMDlmYWZlOTE2NDAwZTdiNGRiYzcxMzZmYmU2MDNkIiBJblJlc3BvbnNlVG89ImlkLWMzMDJhNDExYjc1NjcyMTZhZjJmYWNkYzFmNGJiNjkzIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6Mjk6NDNaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLTI4NjlkZDRhODVjMjcwMjZlODg4MDdhNDIwOTU3NjE1IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6Mjk6NDNaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC1jMzAyYTQxMWI3NTY3MjE2YWYyZmFjZGMxZjRiYjY5MyIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjQ0OjQzWiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA4OjI5OjQzWiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjQ0OjQzWiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDg6Mjk6NDNaIiBTZXNzaW9uSW5kZXg9ImlkLTAyMGJkZjg5Njk1MGM5MGRlZDViZWYzZWVjYTM3NWUzIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['2223907329123399132']}
2014-11-18 09:33:00,648 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:33:00,660 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:33:00,731 service:DEBUG ENVIRON: None
2014-11-18 09:33:00,732 saml2:INFO Logging started
2014-11-18 09:33:00,734 back:DEBUG --- SSO ---
2014-11-18 09:33:00,736 service:DEBUG ENVIRON: None
2014-11-18 09:33:00,756 root:INFO Server starting
2014-11-18 09:33:28,099 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga25iw0bARhBBJUBcYXnhXu4M0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4Gw%2FdtRfZgUGqVtsJ20CKghC6leklbq2LqJa1hdjVQGLBRbTdqAa81oCXOppC5dEpro5jmKF3It4DMCrYc3c1Zpx2wndFWC13RL0N42cARwVgHQ8no8znWCustmCWYvRSwWsxTurF2x3y%2F0oJXG42WJUES%2B1ygv3MRJRMHKRU%2F2k9i%2FKXuBz6i9g2U0oBwjtkkpbL0uv2Sx1Gn7ELEgUc96ArejYN1EnfiqF%2F2nBCxhplCy5VNaScIr70w9MKkCBIWRSyMnyjJz33fSNWM8mLPzycRstuiyL38YVk0H%2BxlCebeqVN6dyDLnOCpf0oez%2Fuizk0zt5yQNVCGTLXZcnu53DHjGl03UgbKSnug2d8DxV3bLW7gf5fImls4Ys0mua6kOJBRVem3sQFuHeqaV%2BgQ%2Fw9iDVcoHQ4lfnas%2BPPisg8%3D&RelayState=Iuo17X2XgLQMC5Sl', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '59950', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c8cd10>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga25iw0bARhBBJUBcYXnhXu4M0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4Gw%2FdtRfZgUGqVtsJ20CKghC6leklbq2LqJa1hdjVQGLBRbTdqAa81oCXOppC5dEpro5jmKF3It4DMCrYc3c1Zpx2wndFWC13RL0N42cARwVgHQ8no8znWCustmCWYvRSwWsxTurF2x3y%2F0oJXG42WJUES%2B1ygv3MRJRMHKRU%2F2k9i%2FKXuBz6i9g2U0oBwjtkkpbL0uv2Sx1Gn7ELEgUc96ArejYN1EnfiqF%2F2nBCxhplCy5VNaScIr70w9MKkCBIWRSyMnyjJz33fSNWM8mLPzycRstuiyL38YVk0H%2BxlCebeqVN6dyDLnOCpf0oez%2Fuizk0zt5yQNVCGTLXZcnu53DHjGl03UgbKSnug2d8DxV3bLW7gf5fImls4Ys0mua6kOJBRVem3sQFuHeqaV%2BgQ%2Fw9iDVcoHQ4lfnas%2BPPisg8%3D&RelayState=Iuo17X2XgLQMC5Sl', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:33:28,100 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga2xiy0rAZlBBJQBeZXnhXtjNpMlrs6VD%2BvWWgRmNIvOs5ed%2Be53yMrt43NdmBQalV0gm7QYeAKnQp1UvSecynHutcpRcjhQEfN3atHuC1AbTE2RRyl05oYxTXAqULxQaQ24Ivx4s573UDvjXa6kLX9MsQnjcIRDDWwVAy%2FnzeaIXNBswSzE4W8PgwT%2Bja2i33%2FVoXol5rtJwFLPZFgf7WRZRMHKRU4mA%2FivGXehj4iNo3UEoDhXPMJgmVpTfsMzEYVowBxHHUX%2FXjUjC4rKJoVQ7iKnZCxAZmCq1QNqG9IOx7YeiFLA8YjyLei54pyU59X0vVjvJsz6ujCPltnmdedr%2FM2w92sgRz59QJXezJMiN47J%2BSp9O%2BqHPT1C0n5C2UIVNtNsKeL3fIuEarVspBWWn3NP17oLjtusWN%2FO8SaXsLB6zZJNO1LPZkXNf67caAsA61EjU6xP%2BDWCMUSodDiZ8eKv68uPQD&RelayState=oKFkUXa4oHWwEMEe', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '59993', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c94f90>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga2xiy0rAZlBBJQBeZXnhXtjNpMlrs6VD%2BvWWgRmNIvOs5ed%2Be53yMrt43NdmBQalV0gm7QYeAKnQp1UvSecynHutcpRcjhQEfN3atHuC1AbTE2RRyl05oYxTXAqULxQaQ24Ivx4s573UDvjXa6kLX9MsQnjcIRDDWwVAy%2FnzeaIXNBswSzE4W8PgwT%2Bja2i33%2FVoXol5rtJwFLPZFgf7WRZRMHKRU4mA%2FivGXehj4iNo3UEoDhXPMJgmVpTfsMzEYVowBxHHUX%2FXjUjC4rKJoVQ7iKnZCxAZmCq1QNqG9IOx7YeiFLA8YjyLei54pyU59X0vVjvJsz6ujCPltnmdedr%2FM2w92sgRz59QJXezJMiN47J%2BSp9O%2BqHPT1C0n5C2UIVNtNsKeL3fIuEarVspBWWn3NP17oLjtusWN%2FO8SaXsLB6zZJNO1LPZkXNf67caAsA61EjU6xP%2BDWCMUSodDiZ8eKv68uPQD&RelayState=oKFkUXa4oHWwEMEe', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:33:32,122 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:33:32,123 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:33:32,124 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:33:32,125 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:33:32,126 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-59da732d5e3aea36e5ca570f872739d6" IssueInstant="2014-11-18T08:33:17Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:33:32,131 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-948a69f88ee7734b47da8e5f33bd67f7" IssueInstant="2014-11-18T08:33:23Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:33:32,131 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-59da732d5e3aea36e5ca570f872739d6" IssueInstant="2014-11-18T08:33:17Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:33:32,136 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-948a69f88ee7734b47da8e5f33bd67f7" IssueInstant="2014-11-18T08:33:23Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:33:32,138 saml2.entity:DEBUG Loaded request
2014-11-18 09:33:32,140 saml2.entity:DEBUG Loaded request
2014-11-18 09:33:32,141 saml2.entity:DEBUG Verified request
2014-11-18 09:33:32,143 front:INFO parsed OK
2014-11-18 09:33:32,142 saml2.entity:DEBUG Verified request
2014-11-18 09:33:32,145 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-59da732d5e3aea36e5ca570f872739d6" IssueInstant="2014-11-18T08:33:17Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:33:32,146 front:INFO parsed OK
2014-11-18 09:33:32,149 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-948a69f88ee7734b47da8e5f33bd67f7" IssueInstant="2014-11-18T08:33:23Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:33:32,146 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:33:32,150 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:33:32,150 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:33:32,152 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 09:33:32,151 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:33:32,154 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 09:33:32,153 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:33:32,154 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:33:32,156 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:33:32,156 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:33:34,912 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga2xiy0rAZlBBJQBeZXnhXtjNpMlrs6VD%2BvWWgRmNIvOs5ed%2Be53yMrt43NdmBQalV0gm7QYeAKnQp1UvSecynHutcpRcjhQEfN3atHuC1AbTE2RRyl05oYxTXAqULxQaQ24Ivx4s573UDvjXa6kLX9MsQnjcIRDDWwVAy%2FnzeaIXNBswSzE4W8PgwT%2Bja2i33%2FVoXol5rtJwFLPZFgf7WRZRMHKRU4mA%2FivGXehj4iNo3UEoDhXPMJgmVpTfsMzEYVowBxHHUX%2FXjUjC4rKJoVQ7iKnZCxAZmCq1QNqG9IOx7YeiFLA8YjyLei54pyU59X0vVjvJsz6ujCPltnmdedr%2FM2w92sgRz59QJXezJMiN47J%2BSp9O%2BqHPT1C0n5C2UIVNtNsKeL3fIuEarVspBWWn3NP17oLjtusWN%2FO8SaXsLB6zZJNO1LPZkXNf67caAsA61EjU6xP%2BDWCMUSodDiZ8eKv68uPQD&RelayState=oKFkUXa4oHWwEMEe', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '59993', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c94f90>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga2xiy0rAZlBBJQBeZXnhXtjNpMlrs6VD%2BvWWgRmNIvOs5ed%2Be53yMrt43NdmBQalV0gm7QYeAKnQp1UvSecynHutcpRcjhQEfN3atHuC1AbTE2RRyl05oYxTXAqULxQaQ24Ivx4s573UDvjXa6kLX9MsQnjcIRDDWwVAy%2FnzeaIXNBswSzE4W8PgwT%2Bja2i33%2FVoXol5rtJwFLPZFgf7WRZRMHKRU4mA%2FivGXehj4iNo3UEoDhXPMJgmVpTfsMzEYVowBxHHUX%2FXjUjC4rKJoVQ7iKnZCxAZmCq1QNqG9IOx7YeiFLA8YjyLei54pyU59X0vVjvJsz6ujCPltnmdedr%2FM2w92sgRz59QJXezJMiN47J%2BSp9O%2BqHPT1C0n5C2UIVNtNsKeL3fIuEarVspBWWn3NP17oLjtusWN%2FO8SaXsLB6zZJNO1LPZkXNf67caAsA61EjU6xP%2BDWCMUSodDiZ8eKv68uPQD&RelayState=oKFkUXa4oHWwEMEe', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:33:34,913 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga25iw0bARhBBJUBcYXnhXu4M0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4Gw%2FdtRfZgUGqVtsJ20CKghC6leklbq2LqJa1hdjVQGLBRbTdqAa81oCXOppC5dEpro5jmKF3It4DMCrYc3c1Zpx2wndFWC13RL0N42cARwVgHQ8no8znWCustmCWYvRSwWsxTurF2x3y%2F0oJXG42WJUES%2B1ygv3MRJRMHKRU%2F2k9i%2FKXuBz6i9g2U0oBwjtkkpbL0uv2Sx1Gn7ELEgUc96ArejYN1EnfiqF%2F2nBCxhplCy5VNaScIr70w9MKkCBIWRSyMnyjJz33fSNWM8mLPzycRstuiyL38YVk0H%2BxlCebeqVN6dyDLnOCpf0oez%2Fuizk0zt5yQNVCGTLXZcnu53DHjGl03UgbKSnug2d8DxV3bLW7gf5fImls4Ys0mua6kOJBRVem3sQFuHeqaV%2BgQ%2Fw9iDVcoHQ4lfnas%2BPPisg8%3D&RelayState=Iuo17X2XgLQMC5Sl', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '59950', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c8cd10>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga25iw0bARhBBJUBcYXnhXu4M0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4Gw%2FdtRfZgUGqVtsJ20CKghC6leklbq2LqJa1hdjVQGLBRbTdqAa81oCXOppC5dEpro5jmKF3It4DMCrYc3c1Zpx2wndFWC13RL0N42cARwVgHQ8no8znWCustmCWYvRSwWsxTurF2x3y%2F0oJXG42WJUES%2B1ygv3MRJRMHKRU%2F2k9i%2FKXuBz6i9g2U0oBwjtkkpbL0uv2Sx1Gn7ELEgUc96ArejYN1EnfiqF%2F2nBCxhplCy5VNaScIr70w9MKkCBIWRSyMnyjJz33fSNWM8mLPzycRstuiyL38YVk0H%2BxlCebeqVN6dyDLnOCpf0oez%2Fuizk0zt5yQNVCGTLXZcnu53DHjGl03UgbKSnug2d8DxV3bLW7gf5fImls4Ys0mua6kOJBRVem3sQFuHeqaV%2BgQ%2Fw9iDVcoHQ4lfnas%2BPPisg8%3D&RelayState=Iuo17X2XgLQMC5Sl', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:33:34,917 back:DEBUG --- SSO ---
2014-11-18 09:33:34,918 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga25iw0bARhBBJUBcYXnhXu4M0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4Gw%2FdtRfZgUGqVtsJ20CKghC6leklbq2LqJa1hdjVQGLBRbTdqAa81oCXOppC5dEpro5jmKF3It4DMCrYc3c1Zpx2wndFWC13RL0N42cARwVgHQ8no8znWCustmCWYvRSwWsxTurF2x3y%2F0oJXG42WJUES%2B1ygv3MRJRMHKRU%2F2k9i%2FKXuBz6i9g2U0oBwjtkkpbL0uv2Sx1Gn7ELEgUc96ArejYN1EnfiqF%2F2nBCxhplCy5VNaScIr70w9MKkCBIWRSyMnyjJz33fSNWM8mLPzycRstuiyL38YVk0H%2BxlCebeqVN6dyDLnOCpf0oez%2Fuizk0zt5yQNVCGTLXZcnu53DHjGl03UgbKSnug2d8DxV3bLW7gf5fImls4Ys0mua6kOJBRVem3sQFuHeqaV%2BgQ%2Fw9iDVcoHQ4lfnas%2BPPisg8%3D&RelayState=Iuo17X2XgLQMC5Sl'
2014-11-18 09:33:34,919 back:DEBUG --- SSO ---
2014-11-18 09:33:34,921 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga2xiy0rAZlBBJQBeZXnhXtjNpMlrs6VD%2BvWWgRmNIvOs5ed%2Be53yMrt43NdmBQalV0gm7QYeAKnQp1UvSecynHutcpRcjhQEfN3atHuC1AbTE2RRyl05oYxTXAqULxQaQ24Ivx4s573UDvjXa6kLX9MsQnjcIRDDWwVAy%2FnzeaIXNBswSzE4W8PgwT%2Bja2i33%2FVoXol5rtJwFLPZFgf7WRZRMHKRU4mA%2FivGXehj4iNo3UEoDhXPMJgmVpTfsMzEYVowBxHHUX%2FXjUjC4rKJoVQ7iKnZCxAZmCq1QNqG9IOx7YeiFLA8YjyLei54pyU59X0vVjvJsz6ujCPltnmdedr%2FM2w92sgRz59QJXezJMiN47J%2BSp9O%2BqHPT1C0n5C2UIVNtNsKeL3fIuEarVspBWWn3NP17oLjtusWN%2FO8SaXsLB6zZJNO1LPZkXNf67caAsA61EjU6xP%2BDWCMUSodDiZ8eKv68uPQD&RelayState=oKFkUXa4oHWwEMEe'
2014-11-18 09:33:36,008 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:33:36,009 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:33:36,010 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:33:36,011 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:33:36,012 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 09:33:36,013 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 09:33:36,014 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 09:33:36,015 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 09:33:36,017 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-62b655998bad6b67ac9917e49eb2a95b" IssueInstant="2014-11-18T08:33:36Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:33:36,019 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-fde5ec3aa21255d710108e64501ea218" IssueInstant="2014-11-18T08:33:36Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:33:36,022 saml2.entity:INFO HTTP REDIRECT
2014-11-18 09:33:36,025 saml2.entity:INFO HTTP REDIRECT
2014-11-18 09:33:36,026 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVLLbsIwELz3KyxfOIUkPNLEIkEUhIpE2whCD705ZimWgk29DoW%2Fr3m0VSuVQ2%2Fe1czuzI57%2Ff2mIjswKLVKG2EzaBBQQi%2Blek0bi2LsxY1%2BdtNTGLBBbddqBm81oCWOppC5dkpro5jmKF3JN4DMCjYfPExZqxmwrdFWC13RL0J4ncARwVgnhpLB53OoFdYbMHMwOylgMZumdG3tFpnvV1rwaq3RsjhIAp8L9LeuomTkVErFj%2Fwz%2Bhc4jn1E7RtYSgPCESajlMqlF7XKqNtNkrjky6iMbrlIkvAWOgmULZ50SwdErGGi0HJlU9oKwo4Xhl4YF0HM2m3Wjl4oyS%2B%2B76Q6nfKq5%2FIMQnZfFLmXP80LSp4vkVAHoJm7f8hOew0Za7Ph9vrEY8d5WZ2gDJSV9kCzP27mMtofmi6fnv%2B9JjtF%2FujmTEa5rqQ4kEFV6fehAW4hpSteIdB%2FiLGGK5ROEiV%2Bdtz482NlHw%3D%3D&RelayState=7167524904829856840')], 'data': [], 'method': 'GET'}
2014-11-18 09:33:36,027 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC3b8uXasEsQQiRBJbB48Fa7gzRZWux0Ef695UONJnLw1pm8N%2FPevHZ7u3VJtuBQW5PWeJ3VCBhlC21e09oiH0VJrZdddQ0y0a%2F8yszgrQL0JNAMitBOaeWMsBJ1KOUaUHgl5v37iWjUmdg4662yJf0i8MsEiQjOBzGU9D%2BfA2uwWoObg9tqBYvZJKUr7zco4ri0SpYri14k7IbFUmG8CRUlw6BSG3ngn9C%2FwEkSI9rYQaEdqEAYD1Oqi2hZQBtUU8oGb7TbxTVnnCXQabUZh9BLAhCxgrFBL41PaYPxVsR5xJOcJaLZFM3OMyXTs%2B9bbY6nvOj55QRCcZfn02j6OM8peTpHQgOAZuH%2BXBz3OjKybi395YmHzsHLESrAeO33NPvjZiGj3b4e8unG32uyY%2BQPYc54OLWlVnvSL0v7PnAgPaR0KUsE%2Bg8x3kmDOkiiJM4OG39%2BrOwD&RelayState=6084358842803502225')], 'data': [], 'method': 'GET'}
2014-11-18 09:33:52,818 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="eDJPeDBaakR0Q3FVUmZ4b3MxRFNlZkgxOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3912', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '59993', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?id=x2Ox0ZjDtCqURfxos1DSefH1&key=a09a5504d1ebe94b5da9b0084aa06539a4e2414a', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c94e90>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:33:52,820 back:DEBUG --- SSO ---
2014-11-18 09:33:54,030 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLWU1MGFiYmU0YjNjNmVmMjU2MWM1ZTE0ZjVhYmRlNmJjIiBJblJlc3BvbnNlVG89ImlkLTYyYjY1NTk5OGJhZDZiNjdhYzk5MTdlNDllYjJhOTViIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MzM6NDRaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLWQ4OGY2YjRlODRkMmYxMDI0ZmYxYzc4NzgyNThmMTZhIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MzM6NDRaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC02MmI2NTU5OThiYWQ2YjY3YWM5OTE3ZTQ5ZWIyYTk1YiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjQ4OjQ0WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA4OjMzOjQ0WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjQ4OjQ0WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MzM6NDRaIiBTZXNzaW9uSW5kZXg9ImlkLWEwNWI1MDBlMGRiZmYzY2UxNGE1YWI1N2MwOGUwZmY3Ij48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['7167524904829856840']}
2014-11-18 09:33:54,031 service:DEBUG _dict: {'SAMLResponse': 'PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLWU1MGFiYmU0YjNjNmVmMjU2MWM1ZTE0ZjVhYmRlNmJjIiBJblJlc3BvbnNlVG89ImlkLTYyYjY1NTk5OGJhZDZiNjdhYzk5MTdlNDllYjJhOTViIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MzM6NDRaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLWQ4OGY2YjRlODRkMmYxMDI0ZmYxYzc4NzgyNThmMTZhIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MzM6NDRaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC02MmI2NTU5OThiYWQ2YjY3YWM5OTE3ZTQ5ZWIyYTk1YiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjQ4OjQ0WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA4OjMzOjQ0WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjQ4OjQ0WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MzM6NDRaIiBTZXNzaW9uSW5kZXg9ImlkLWEwNWI1MDBlMGRiZmYzY2UxNGE1YWI1N2MwOGUwZmY3Ij48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4=', 'RelayState': '7167524904829856840'}
2014-11-18 09:33:58,984 saml2.response:DEBUG xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-e50abbe4b3c6ef2561c5e14f5abde6bc" InResponseTo="id-62b655998bad6b67ac9917e49eb2a95b" IssueInstant="2014-11-18T08:33:44Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-d88f6b4e84d2f1024ff1c7878258f16a" IssueInstant="2014-11-18T08:33:44Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-62b655998bad6b67ac9917e49eb2a95b" NotOnOrAfter="2014-11-18T08:48:44Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T08:33:44Z" NotOnOrAfter="2014-11-18T08:48:44Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T08:33:44Z" SessionIndex="id-a05b500e0dbff3ce14a5ab57c08e0ff7"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 09:33:59,012 saml2.response:DEBUG response: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-e50abbe4b3c6ef2561c5e14f5abde6bc" InResponseTo="id-62b655998bad6b67ac9917e49eb2a95b" IssueInstant="2014-11-18T08:33:44Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-d88f6b4e84d2f1024ff1c7878258f16a" IssueInstant="2014-11-18T08:33:44Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-62b655998bad6b67ac9917e49eb2a95b" NotOnOrAfter="2014-11-18T08:48:44Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T08:33:44Z" NotOnOrAfter="2014-11-18T08:48:44Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T08:33:44Z" SessionIndex="id-a05b500e0dbff3ce14a5ab57c08e0ff7"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 09:33:59,018 saml2.entity:DEBUG XMLSTR: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-e50abbe4b3c6ef2561c5e14f5abde6bc" InResponseTo="id-62b655998bad6b67ac9917e49eb2a95b" IssueInstant="2014-11-18T08:33:44Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-d88f6b4e84d2f1024ff1c7878258f16a" IssueInstant="2014-11-18T08:33:44Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-62b655998bad6b67ac9917e49eb2a95b" NotOnOrAfter="2014-11-18T08:48:44Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T08:33:44Z" NotOnOrAfter="2014-11-18T08:48:44Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T08:33:44Z" SessionIndex="id-a05b500e0dbff3ce14a5ab57c08e0ff7"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 09:33:59,020 saml2.response:INFO status: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Status xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol"><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status>
2014-11-18 09:33:59,021 saml2.response:DEBUG ***Unencrypted assertion***
2014-11-18 09:33:59,021 saml2.response:DEBUG unsigned
2014-11-18 09:33:59,022 saml2.response:DEBUG assertion context: AuthnReq
2014-11-18 09:33:59,023 saml2.response:DEBUG assertion keys: ['authn_statement', 'attribute_statement', 'issue_instant', 'version', 'subject', 'conditions', 'id', 'issuer']
2014-11-18 09:33:59,024 saml2.response:DEBUG outstanding_queries: {7167524904829856840: <saml2.samlp.AuthnRequest object at 0x10742c0d0>, 6084358842803502225: <saml2.samlp.AuthnRequest object at 0x10742c810>, 'id-fde5ec3aa21255d710108e64501ea218': 6084358842803502225, 'id-62b655998bad6b67ac9917e49eb2a95b': 7167524904829856840}
2014-11-18 09:33:59,026 saml2.response:DEBUG conditions: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Conditions xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" NotBefore="2014-11-18T08:33:44Z" NotOnOrAfter="2014-11-18T08:48:44Z"><ns0:AudienceRestriction><ns0:Audience>https://localhost:8090/proxy.xml</ns0:Audience></ns0:AudienceRestriction></ns0:Conditions>
2014-11-18 09:33:59,027 saml2.response:DEBUG --- Getting Identity ---
2014-11-18 09:33:59,031 saml2.response:DEBUG Attribute Statement: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AttributeStatement xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><ns0:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Hedberg</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">one!for!all</ns0:AttributeValue></ns0:Attribute></ns0:AttributeStatement>
2014-11-18 09:33:59,032 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 09:33:59,033 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 09:33:59,033 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:basic
2014-11-18 09:33:59,034 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:uri
2014-11-18 09:33:59,035 saml2.response:DEBUG Converts name format: urn:mace:shibboleth:1.0:attributeNamespace:uri
2014-11-18 09:33:59,036 saml2.response:DEBUG --- AVA: {'eduPersonTargetedID': ['one!for!all'], 'givenName': ['Roland'], 'uid': ['roland'], 'sn': ['Hedberg']}
2014-11-18 09:33:59,037 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 09:33:59,038 saml2.client_base:INFO --- ADDED person info ----
2014-11-18 09:34:59,057 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:34:59,067 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:34:59,147 service:DEBUG ENVIRON: None
2014-11-18 09:34:59,148 saml2:INFO Logging started
2014-11-18 09:34:59,150 back:DEBUG --- SSO ---
2014-11-18 09:34:59,151 service:DEBUG ENVIRON: None
2014-11-18 09:34:59,172 root:INFO Server starting
2014-11-18 09:35:18,035 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="eDJPeDBaakR0Q3FVUmZ4b3MxRFNlZkgxOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ltoiw27BrEGIkQd3I6sFb7Q7SZGmx00X595bFj2gMibfO5H07z3yMzt%2FWNdmCQ21N1uFd1iFglK20ec469%2BVllHTO85ORQSbGjV%2BZO3hpAD0JNoMipDPaOCOsRB1CuQYUXonF%2BHouel0mNs56q2xNvwz8uEEigvMBhpLx53NiDTZrcAtwW63g%2Fm6e0ZX3GxHHtVWyXln0ImHJMJYK402IKJkGSG3k3n4Q4y91ymJEGzuotAMVHLNpRnUVJTJljPeWaZoOhqdymD5Jxs4kpL0BVGqoghCxgZlBL43PaI%2FxfsR5xJOSJeL0TPD%2BIyXFR98X2rSjPNrz00GE4qosi6i4XZTtB1tdgbsJ6oxe78iiIHjon5KHj33R4KZ5WA4XLZQjl9atpT9ebp8JjS5bqQDjtd%2FR%2FO%2BB4qYbFjeKv0vk7S3ssWbTwtZa7ci4ru3rxIH0AXUpawyI%2FwfxThrUAYeSON9X%2FHlx%2BTs%3D&RelayState=MKrxn1Bdxcnx9ZMd', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '60731', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a86d10>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ltoiw27BrEGIkQd3I6sFb7Q7SZGmx00X595bFj2gMibfO5H07z3yMzt%2FWNdmCQ21N1uFd1iFglK20ec469%2BVllHTO85ORQSbGjV%2BZO3hpAD0JNoMipDPaOCOsRB1CuQYUXonF%2BHouel0mNs56q2xNvwz8uEEigvMBhpLx53NiDTZrcAtwW63g%2Fm6e0ZX3GxHHtVWyXln0ImHJMJYK402IKJkGSG3k3n4Q4y91ymJEGzuotAMVHLNpRnUVJTJljPeWaZoOhqdymD5Jxs4kpL0BVGqoghCxgZlBL43PaI%2FxfsR5xJOSJeL0TPD%2BIyXFR98X2rSjPNrz00GE4qosi6i4XZTtB1tdgbsJ6oxe78iiIHjon5KHj33R4KZ5WA4XLZQjl9atpT9ebp8JjS5bqQDjtd%2FR%2FO%2BB4qYbFjeKv0vk7S3ssWbTwtZa7ci4ru3rxIH0AXUpawyI%2FwfxThrUAYeSON9X%2FHlx%2BTs%3D&RelayState=MKrxn1Bdxcnx9ZMd', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:35:19,311 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 09:35:19,312 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 09:35:19,313 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-8a90012f999673a79ba005ae926edc7c" IssueInstant="2014-11-18T08:35:14Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:35:19,316 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-8a90012f999673a79ba005ae926edc7c" IssueInstant="2014-11-18T08:35:14Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:35:19,318 saml2.entity:DEBUG Loaded request
2014-11-18 09:35:19,319 saml2.entity:DEBUG Verified request
2014-11-18 09:35:19,319 front:INFO parsed OK
2014-11-18 09:35:19,321 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-8a90012f999673a79ba005ae926edc7c" IssueInstant="2014-11-18T08:35:14Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:35:19,322 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:35:19,322 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:35:19,323 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 09:35:19,324 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 09:35:19,325 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 09:35:22,037 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="eDJPeDBaakR0Q3FVUmZ4b3MxRFNlZkgxOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ltoiw27BrEGIkQd3I6sFb7Q7SZGmx00X595bFj2gMibfO5H07z3yMzt%2FWNdmCQ21N1uFd1iFglK20ec469%2BVllHTO85ORQSbGjV%2BZO3hpAD0JNoMipDPaOCOsRB1CuQYUXonF%2BHouel0mNs56q2xNvwz8uEEigvMBhpLx53NiDTZrcAtwW63g%2Fm6e0ZX3GxHHtVWyXln0ImHJMJYK402IKJkGSG3k3n4Q4y91ymJEGzuotAMVHLNpRnUVJTJljPeWaZoOhqdymD5Jxs4kpL0BVGqoghCxgZlBL43PaI%2FxfsR5xJOSJeL0TPD%2BIyXFR98X2rSjPNrz00GE4qosi6i4XZTtB1tdgbsJ6oxe78iiIHjon5KHj33R4KZ5WA4XLZQjl9atpT9ebp8JjS5bqQDjtd%2FR%2FO%2BB4qYbFjeKv0vk7S3ssWbTwtZa7ci4ru3rxIH0AXUpawyI%2FwfxThrUAYeSON9X%2FHlx%2BTs%3D&RelayState=MKrxn1Bdxcnx9ZMd', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '60731', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a86d10>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ltoiw27BrEGIkQd3I6sFb7Q7SZGmx00X595bFj2gMibfO5H07z3yMzt%2FWNdmCQ21N1uFd1iFglK20ec469%2BVllHTO85ORQSbGjV%2BZO3hpAD0JNoMipDPaOCOsRB1CuQYUXonF%2BHouel0mNs56q2xNvwz8uEEigvMBhpLx53NiDTZrcAtwW63g%2Fm6e0ZX3GxHHtVWyXln0ImHJMJYK402IKJkGSG3k3n4Q4y91ymJEGzuotAMVHLNpRnUVJTJljPeWaZoOhqdymD5Jxs4kpL0BVGqoghCxgZlBL43PaI%2FxfsR5xJOSJeL0TPD%2BIyXFR98X2rSjPNrz00GE4qosi6i4XZTtB1tdgbsJ6oxe78iiIHjon5KHj33R4KZ5WA4XLZQjl9atpT9ebp8JjS5bqQDjtd%2FR%2FO%2BB4qYbFjeKv0vk7S3ssWbTwtZa7ci4ru3rxIH0AXUpawyI%2FwfxThrUAYeSON9X%2FHlx%2BTs%3D&RelayState=MKrxn1Bdxcnx9ZMd', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:35:22,039 back:DEBUG --- SSO ---
2014-11-18 09:35:22,039 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07Ltoiw27BrEGIkQd3I6sFb7Q7SZGmx00X595bFj2gMibfO5H07z3yMzt%2FWNdmCQ21N1uFd1iFglK20ec469%2BVllHTO85ORQSbGjV%2BZO3hpAD0JNoMipDPaOCOsRB1CuQYUXonF%2BHouel0mNs56q2xNvwz8uEEigvMBhpLx53NiDTZrcAtwW63g%2Fm6e0ZX3GxHHtVWyXln0ImHJMJYK402IKJkGSG3k3n4Q4y91ymJEGzuotAMVHLNpRnUVJTJljPeWaZoOhqdymD5Jxs4kpL0BVGqoghCxgZlBL43PaI%2FxfsR5xJOSJeL0TPD%2BIyXFR98X2rSjPNrz00GE4qosi6i4XZTtB1tdgbsJ6oxe78iiIHjon5KHj33R4KZ5WA4XLZQjl9atpT9ebp8JjS5bqQDjtd%2FR%2FO%2BB4qYbFjeKv0vk7S3ssWbTwtZa7ci4ru3rxIH0AXUpawyI%2FwfxThrUAYeSON9X%2FHlx%2BTs%3D&RelayState=MKrxn1Bdxcnx9ZMd'
2014-11-18 09:35:25,167 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:35:25,168 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 09:35:25,168 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 09:35:25,169 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 09:35:25,171 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-116b8e475e52434832c85437cc978673" IssueInstant="2014-11-18T08:35:25Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 09:35:25,173 saml2.entity:INFO HTTP REDIRECT
2014-11-18 09:35:25,174 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC37DbVhl6wSI4kfG1k9eKtlkCZLi50uyr%2B3IGo0kYO3zuS9mffmdTR%2BW7VkAxaV0UUv7kc9AlqaudLPRe%2B%2BuQhYb1yejDRGvOrcUt%2FBSwfoiKdp5L5d0M5qbgQqX4oVIHeSz6rrK570I762xhlpWvpFiI8TBCJY58VQUn0%2Bz43GbgV2BnajJNzfXRV06dwaeRi2Rop2adBxFp1GoZAYrn1FycSrVFrs%2BB%2FoX2DGQkQTWpgrC9ITppOCqnkQx4MnBtkwhzzJ0oyliWR5lg6lPB2ywTD1QMQOphqd0K6gSRRnnhTErIkYT3Oe5I%2BU1AffZ0rvT3nU89MHCPll09RBfTtrKHk4REI9gJb%2B%2FjHf77XkwtiVcMcn7jrey2IP5aCdclta%2FnEzn9Hbtu%2FzGYXfa8p95Dd%2BznRSm1bJLana1ryeWxAOCroQLQL9hxhnhUblJVESlruNPz9W%2BQ4%3D&RelayState=-6488968748603987205')], 'data': [], 'method': 'GET'}
2014-11-18 09:35:30,922 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="eDJPeDBaakR0Q3FVUmZ4b3MxRFNlZkgxOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3913', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '60806', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC37DbVhl6wSI4kfG1k9eKtlkCZLi50uyr%2B3IGo0kYO3zuS9mffmdTR%2BW7VkAxaV0UUv7kc9AlqaudLPRe%2B%2BuQhYb1yejDRGvOrcUt%2FBSwfoiKdp5L5d0M5qbgQqX4oVIHeSz6rrK570I762xhlpWvpFiI8TBCJY58VQUn0%2Bz43GbgV2BnajJNzfXRV06dwaeRi2Rop2adBxFp1GoZAYrn1FycSrVFrs%2BB%2FoX2DGQkQTWpgrC9ITppOCqnkQx4MnBtkwhzzJ0oyliWR5lg6lPB2ywTD1QMQOphqd0K6gSRRnnhTErIkYT3Oe5I%2BU1AffZ0rvT3nU89MHCPll09RBfTtrKHk4REI9gJb%2B%2FjHf77XkwtiVcMcn7jrey2IP5aCdclta%2FnEzn9Hbtu%2FzGYXfa8p95Dd%2BznRSm1bJLana1ryeWxAOCroQLQL9hxhnhUblJVESlruNPz9W%2BQ4%3D&RelayState=-6488968748603987205', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10802b410>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:35:30,924 back:DEBUG --- SSO ---
2014-11-18 09:35:33,277 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTFjNGU3YWNhOGEwNjMwYzEyMzEyMjg0YzJlZWZjNDdkIiBJblJlc3BvbnNlVG89ImlkLTExNmI4ZTQ3NWU1MjQzNDgzMmM4NTQzN2NjOTc4NjczIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MzU6MjVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLTk1ZGVhNjUzMjViNjk1MGZlZTFjMTE3MmY4ZDUyODViIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MzU6MjVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC0xMTZiOGU0NzVlNTI0MzQ4MzJjODU0MzdjYzk3ODY3MyIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjUwOjI1WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA4OjM1OjI1WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjUwOjI1WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MzU6MjVaIiBTZXNzaW9uSW5kZXg9ImlkLTVlNWFjMjIzNzViNzRmYTM1YzhhNmRhNGM2YmNmOGMzIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['-6488968748603987205']}
2014-11-18 09:35:33,277 service:DEBUG _dict: {'SAMLResponse': 'PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTFjNGU3YWNhOGEwNjMwYzEyMzEyMjg0YzJlZWZjNDdkIiBJblJlc3BvbnNlVG89ImlkLTExNmI4ZTQ3NWU1MjQzNDgzMmM4NTQzN2NjOTc4NjczIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MzU6MjVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLTk1ZGVhNjUzMjViNjk1MGZlZTFjMTE3MmY4ZDUyODViIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MzU6MjVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC0xMTZiOGU0NzVlNTI0MzQ4MzJjODU0MzdjYzk3ODY3MyIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjUwOjI1WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA4OjM1OjI1WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA4OjUwOjI1WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDg6MzU6MjVaIiBTZXNzaW9uSW5kZXg9ImlkLTVlNWFjMjIzNzViNzRmYTM1YzhhNmRhNGM2YmNmOGMzIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4=', 'RelayState': '-6488968748603987205'}
2014-11-18 09:35:36,971 saml2.response:DEBUG xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-1c4e7aca8a0630c12312284c2eefc47d" InResponseTo="id-116b8e475e52434832c85437cc978673" IssueInstant="2014-11-18T08:35:25Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-95dea65325b6950fee1c1172f8d5285b" IssueInstant="2014-11-18T08:35:25Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-116b8e475e52434832c85437cc978673" NotOnOrAfter="2014-11-18T08:50:25Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T08:35:25Z" NotOnOrAfter="2014-11-18T08:50:25Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T08:35:25Z" SessionIndex="id-5e5ac22375b74fa35c8a6da4c6bcf8c3"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 09:35:37,017 saml2.response:DEBUG response: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-1c4e7aca8a0630c12312284c2eefc47d" InResponseTo="id-116b8e475e52434832c85437cc978673" IssueInstant="2014-11-18T08:35:25Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-95dea65325b6950fee1c1172f8d5285b" IssueInstant="2014-11-18T08:35:25Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-116b8e475e52434832c85437cc978673" NotOnOrAfter="2014-11-18T08:50:25Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T08:35:25Z" NotOnOrAfter="2014-11-18T08:50:25Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T08:35:25Z" SessionIndex="id-5e5ac22375b74fa35c8a6da4c6bcf8c3"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 09:35:37,027 saml2.entity:DEBUG XMLSTR: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-1c4e7aca8a0630c12312284c2eefc47d" InResponseTo="id-116b8e475e52434832c85437cc978673" IssueInstant="2014-11-18T08:35:25Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-95dea65325b6950fee1c1172f8d5285b" IssueInstant="2014-11-18T08:35:25Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-116b8e475e52434832c85437cc978673" NotOnOrAfter="2014-11-18T08:50:25Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T08:35:25Z" NotOnOrAfter="2014-11-18T08:50:25Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T08:35:25Z" SessionIndex="id-5e5ac22375b74fa35c8a6da4c6bcf8c3"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 09:35:37,029 saml2.response:INFO status: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Status xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol"><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status>
2014-11-18 09:35:37,030 saml2.response:DEBUG ***Unencrypted assertion***
2014-11-18 09:35:37,031 saml2.response:DEBUG unsigned
2014-11-18 09:35:37,031 saml2.response:DEBUG assertion context: AuthnReq
2014-11-18 09:35:37,032 saml2.response:DEBUG assertion keys: ['authn_statement', 'attribute_statement', 'issue_instant', 'version', 'subject', 'conditions', 'id', 'issuer']
2014-11-18 09:35:37,034 saml2.response:DEBUG outstanding_queries: {'id-116b8e475e52434832c85437cc978673': -6488968748603987205, -6488968748603987205: <saml2.samlp.AuthnRequest object at 0x10802bd50>}
2014-11-18 09:35:37,036 saml2.response:DEBUG conditions: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Conditions xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" NotBefore="2014-11-18T08:35:25Z" NotOnOrAfter="2014-11-18T08:50:25Z"><ns0:AudienceRestriction><ns0:Audience>https://localhost:8090/proxy.xml</ns0:Audience></ns0:AudienceRestriction></ns0:Conditions>
2014-11-18 09:35:37,038 saml2.response:DEBUG --- Getting Identity ---
2014-11-18 09:35:37,041 saml2.response:DEBUG Attribute Statement: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AttributeStatement xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><ns0:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Hedberg</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">one!for!all</ns0:AttributeValue></ns0:Attribute></ns0:AttributeStatement>
2014-11-18 09:35:37,042 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 09:35:37,043 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 09:35:37,044 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:basic
2014-11-18 09:35:37,045 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:uri
2014-11-18 09:35:37,045 saml2.response:DEBUG Converts name format: urn:mace:shibboleth:1.0:attributeNamespace:uri
2014-11-18 09:35:37,046 saml2.response:DEBUG --- AVA: {'eduPersonTargetedID': ['one!for!all'], 'givenName': ['Roland'], 'uid': ['roland'], 'sn': ['Hedberg']}
2014-11-18 09:35:37,048 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 09:35:37,049 saml2.client_base:INFO --- ADDED person info ----
2014-11-18 09:55:03,007 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:55:03,018 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 09:55:03,089 service:DEBUG ENVIRON: None
2014-11-18 09:55:03,090 saml2:INFO Logging started
2014-11-18 09:55:03,092 back:DEBUG --- SSO ---
2014-11-18 09:55:03,093 service:DEBUG ENVIRON: None
2014-11-18 09:55:03,116 root:INFO Server starting
2014-11-18 09:55:48,082 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLTsMwEEX3fIXlTVdp4pAUYzWpAlVFJR4RDSzYuY5LLaV28TiF%2Fj1OykMgVImdZ3Sv58xjPHnbNGgnLSijswEZRgMktTC10s%2FZ4KGaBXQwyU%2FGGiJWtG6t7%2BVLK8Ehb9PAfDrDrdXMcFA%2B5BsJzAm2KG6uWTyM2NYaZ4Rp8JeBHDdwAGmdh8Go%2BHxeGg3tRtqFtDsl5MP9dYbXzm1ZGDZG8GZtwDEa0bOQCwi3PsJo6iGV5p39IIZf6vMoBDChlbWyUnjHfJphVQeC0vqMiiQhaU1iOjpdLuv4dJQuU0o4p%2BdeCNDKuQbHtctwHJEkICQgtIooS1MWJ08YlR99Xyjdj%2FJoz8uDCNhVVZVBebeo%2Bg92qpb21qszfLNHixLBoX%2BMHj%2F2hb0b5345hPVQFs2M3XB3vFyX8Y2ueimT2im3x%2FnfA4Xt0C9uHH6XyPtb6LDm09I0SuxR0TTm9dJK7jzqijfgEf8P4izXoDwORmHeVfx5cfk7&RelayState=DIcgJD0xG8CSvAIp', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52389', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108d8cd10>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLTsMwEEX3fIXlTVdp4pAUYzWpAlVFJR4RDSzYuY5LLaV28TiF%2Fj1OykMgVImdZ3Sv58xjPHnbNGgnLSijswEZRgMktTC10s%2FZ4KGaBXQwyU%2FGGiJWtG6t7%2BVLK8Ehb9PAfDrDrdXMcFA%2B5BsJzAm2KG6uWTyM2NYaZ4Rp8JeBHDdwAGmdh8Go%2BHxeGg3tRtqFtDsl5MP9dYbXzm1ZGDZG8GZtwDEa0bOQCwi3PsJo6iGV5p39IIZf6vMoBDChlbWyUnjHfJphVQeC0vqMiiQhaU1iOjpdLuv4dJQuU0o4p%2BdeCNDKuQbHtctwHJEkICQgtIooS1MWJ08YlR99Xyjdj%2FJoz8uDCNhVVZVBebeo%2Bg92qpb21qszfLNHixLBoX%2BMHj%2F2hb0b5345hPVQFs2M3XB3vFyX8Y2ueimT2im3x%2FnfA4Xt0C9uHH6XyPtb6LDm09I0SuxR0TTm9dJK7jzqijfgEf8P4izXoDwORmHeVfx5cfk7&RelayState=DIcgJD0xG8CSvAIp', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 09:55:48,086 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLJbsIwEIbvfQrLF04hS1mCRYIoCBUJ2qiEHnpzzKRYCjb1OLS8fU3oolYVUm%2Be0f97vlmGo7ddRQ5gUGqVtMJ20CKghN5I9Zy01vnMi1uj9GqoMGDj2m7VA7zUgJY4m0Lm0gmtjWKao3Qh3wEyK9hqvFywqB2wvdFWC13RL0N42cARwVgHQ8n48znRCusdmBWYgxSwflgkdGvtnvl%2BpQWvthoti4O473OB%2Ft5FlEwdpFT8ZD%2BL8Zd6EPiI2jewkQaEc8ynCZUbr4Bu0Sn7Ub%2FfgUHc63XLXiS4CAe9QVQU16UTItYwV2i5sgmNgrDjhaEXxnkQs26XRZ0nSrKPvm%2BkakZ5sefiLEJ2m%2BeZl92v8uaDg9yAuXPqhC6PZJURPPdPyePHvqhz09QtJ2QNlCEzbXbcXi53yrhGy0bKQFlpjzT9e6C4b7vFDf3vEmlzCyes%2BTTTlRRHMq4q%2FToxwK1DLXmFDvH%2FINZwhdLhUOKnp4o%2FLy59Bw%3D%3D&RelayState=kwG4rSQa4yIbnCB5', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '52393', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108d93f90>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLJbsIwEIbvfQrLF04hS1mCRYIoCBUJ2qiEHnpzzKRYCjb1OLS8fU3oolYVUm%2Be0f97vlmGo7ddRQ5gUGqVtMJ20CKghN5I9Zy01vnMi1uj9GqoMGDj2m7VA7zUgJY4m0Lm0gmtjWKao3Qh3wEyK9hqvFywqB2wvdFWC13RL0N42cARwVgHQ8n48znRCusdmBWYgxSwflgkdGvtnvl%2BpQWvthoti4O473OB%2Ft5FlEwdpFT8ZD%2BL8Zd6EPiI2jewkQaEc8ynCZUbr4Bu0Sn7Ub%2FfgUHc63XLXiS4CAe9QVQU16UTItYwV2i5sgmNgrDjhaEXxnkQs26XRZ0nSrKPvm%2BkakZ5sefiLEJ2m%2BeZl92v8uaDg9yAuXPqhC6PZJURPPdPyePHvqhz09QtJ2QNlCEzbXbcXi53yrhGy0bKQFlpjzT9e6C4b7vFDf3vEmlzCyes%2BTTTlRRHMq4q%2FToxwK1DLXmFDvH%2FINZwhdLhUOKnp4o%2FLy59Bw%3D%3D&RelayState=kwG4rSQa4yIbnCB5', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:07:21,649 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 10:07:21,659 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 10:07:21,729 service:DEBUG ENVIRON: None
2014-11-18 10:07:21,730 saml2:INFO Logging started
2014-11-18 10:07:21,732 back:DEBUG --- SSO ---
2014-11-18 10:07:21,733 service:DEBUG ENVIRON: None
2014-11-18 10:07:21,752 root:INFO Server starting
2014-11-18 10:07:40,204 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga65zKaNgMQogkoItML7wr3Zk0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4G1%2B%2FrmmzBojI67URd1iGgpSmVfkk7j8UkSDrX2dlAI%2BPDxq30A7w2gI54m0bu0yltrOZGoPKhWANyJ%2FliOJ%2Fx8y7jG2uckaamX4botEEggnUehpLh53NkNDZrsAuwWyXh8WGW0pVzGx6GtZGiXhl0PGFJLxQSw42PKBl7SKXF3n4Q4y91n4WIJrRQKgvSO6bjlKoygH4SV8BE2YOojBPBZF%2BIqlpexXHVY0vhhYgNTDU6oV1Kz1l0EURRECUF63PW4%2FHlMyX5se8bpdtRnux5eRAhvy2KPMjvF0X7wVaVYO%2B8OqXzHVnkBA%2F9U%2FJ03Bf1bpr55US8hbJkYuxauNPl9hnfaNVKOWin3I5mfw8UN12%2FuEH4XSJrb2GPNR3nplZyR4Z1bd5GFoTzqJWo0SP%2BH8RZoVF5HErCbF%2Fx58VlHw%3D%3D&RelayState=OxbJ4m5IUDTz7gZT', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '57285', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a86cd0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga65zKaNgMQogkoItML7wr3Zk0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4G1%2B%2FrmmzBojI67URd1iGgpSmVfkk7j8UkSDrX2dlAI%2BPDxq30A7w2gI54m0bu0yltrOZGoPKhWANyJ%2FliOJ%2Fx8y7jG2uckaamX4botEEggnUehpLh53NkNDZrsAuwWyXh8WGW0pVzGx6GtZGiXhl0PGFJLxQSw42PKBl7SKXF3n4Q4y91n4WIJrRQKgvSO6bjlKoygH4SV8BE2YOojBPBZF%2BIqlpexXHVY0vhhYgNTDU6oV1Kz1l0EURRECUF63PW4%2FHlMyX5se8bpdtRnux5eRAhvy2KPMjvF0X7wVaVYO%2B8OqXzHVnkBA%2F9U%2FJ03Bf1bpr55US8hbJkYuxauNPl9hnfaNVKOWin3I5mfw8UN12%2FuEH4XSJrb2GPNR3nplZyR4Z1bd5GFoTzqJWo0SP%2BH8RZoVF5HErCbF%2Fx58VlHw%3D%3D&RelayState=OxbJ4m5IUDTz7gZT', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:07:42,049 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 10:07:42,050 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 10:07:42,051 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-e983fe0ad7e1d38a0c9aaffb633f70ba" IssueInstant="2014-11-18T09:07:35Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:07:42,055 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-e983fe0ad7e1d38a0c9aaffb633f70ba" IssueInstant="2014-11-18T09:07:35Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:07:42,057 saml2.entity:DEBUG Loaded request
2014-11-18 10:07:42,058 saml2.entity:DEBUG Verified request
2014-11-18 10:07:42,059 front:INFO parsed OK
2014-11-18 10:07:42,060 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-e983fe0ad7e1d38a0c9aaffb633f70ba" IssueInstant="2014-11-18T09:07:35Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:07:42,061 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:07:42,061 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:07:42,062 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 10:07:42,063 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:07:42,063 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:07:52,663 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga65zKaNgMQogkoItML7wr3Zk0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4G1%2B%2FrmmzBojI67URd1iGgpSmVfkk7j8UkSDrX2dlAI%2BPDxq30A7w2gI54m0bu0yltrOZGoPKhWANyJ%2FliOJ%2Fx8y7jG2uckaamX4botEEggnUehpLh53NkNDZrsAuwWyXh8WGW0pVzGx6GtZGiXhl0PGFJLxQSw42PKBl7SKXF3n4Q4y91n4WIJrRQKgvSO6bjlKoygH4SV8BE2YOojBPBZF%2BIqlpexXHVY0vhhYgNTDU6oV1Kz1l0EURRECUF63PW4%2FHlMyX5se8bpdtRnux5eRAhvy2KPMjvF0X7wVaVYO%2B8OqXzHVnkBA%2F9U%2FJ03Bf1bpr55US8hbJkYuxauNPl9hnfaNVKOWin3I5mfw8UN12%2FuEH4XSJrb2GPNR3nplZyR4Z1bd5GFoTzqJWo0SP%2BH8RZoVF5HErCbF%2Fx58VlHw%3D%3D&RelayState=OxbJ4m5IUDTz7gZT', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '57285', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a86cd0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga65zKaNgMQogkoItML7wr3Zk0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4G1%2B%2FrmmzBojI67URd1iGgpSmVfkk7j8UkSDrX2dlAI%2BPDxq30A7w2gI54m0bu0yltrOZGoPKhWANyJ%2FliOJ%2Fx8y7jG2uckaamX4botEEggnUehpLh53NkNDZrsAuwWyXh8WGW0pVzGx6GtZGiXhl0PGFJLxQSw42PKBl7SKXF3n4Q4y91n4WIJrRQKgvSO6bjlKoygH4SV8BE2YOojBPBZF%2BIqlpexXHVY0vhhYgNTDU6oV1Kz1l0EURRECUF63PW4%2FHlMyX5se8bpdtRnux5eRAhvy2KPMjvF0X7wVaVYO%2B8OqXzHVnkBA%2F9U%2FJ03Bf1bpr55US8hbJkYuxauNPl9hnfaNVKOWin3I5mfw8UN12%2FuEH4XSJrb2GPNR3nplZyR4Z1bd5GFoTzqJWo0SP%2BH8RZoVF5HErCbF%2Fx58VlHw%3D%3D&RelayState=OxbJ4m5IUDTz7gZT', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:07:52,665 back:DEBUG --- SSO ---
2014-11-18 10:07:52,665 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga65zKaNgMQogkoItML7wr3Zk0GS32dCj%2F3jJQozEk3vWcvG%2FPcz4G1%2B%2FrmmzBojI67URd1iGgpSmVfkk7j8UkSDrX2dlAI%2BPDxq30A7w2gI54m0bu0yltrOZGoPKhWANyJ%2FliOJ%2Fx8y7jG2uckaamX4botEEggnUehpLh53NkNDZrsAuwWyXh8WGW0pVzGx6GtZGiXhl0PGFJLxQSw42PKBl7SKXF3n4Q4y91n4WIJrRQKgvSO6bjlKoygH4SV8BE2YOojBPBZF%2BIqlpexXHVY0vhhYgNTDU6oV1Kz1l0EURRECUF63PW4%2FHlMyX5se8bpdtRnux5eRAhvy2KPMjvF0X7wVaVYO%2B8OqXzHVnkBA%2F9U%2FJ03Bf1bpr55US8hbJkYuxauNPl9hnfaNVKOWin3I5mfw8UN12%2FuEH4XSJrb2GPNR3nplZyR4Z1bd5GFoTzqJWo0SP%2BH8RZoVF5HErCbF%2Fx58VlHw%3D%3D&RelayState=OxbJ4m5IUDTz7gZT'
2014-11-18 10:07:55,749 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:07:55,750 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:07:55,751 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 10:07:55,751 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 10:07:55,754 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-79e812317620702befcfe8c1721eaa87" IssueInstant="2014-11-18T09:07:55Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:07:55,757 saml2.entity:INFO HTTP REDIRECT
2014-11-18 10:07:55,758 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVLLTsMwELzzFZYvPaWxwyOp1aQqVIhKPKI2cODmultqKbGL1wH697ihgECiB27e1czuzI6Ho7emJi%2FgUFuT93if9QgYZZfaPOW9%2B%2Boyynqj4mhokIlx69dmBs8toCeBZlCEdk5bZ4SVqEMpG0DhlZiPb65F0mdi46y3ytb0i8APEyQiOB%2FEUDL%2BfF5Yg20Dbg7uRSu4n13ndO39BkUc11bJem3Ri4wNWCwVxptQUTIJKrWRO%2F4H%2Bhc4y2JEGztYagcqEKaTnOpllA4g48kxT88SlrJkASu1gkzxNOEgZZYGIGILU4NeGp%2FThPGTiPOIZxUbCJaK09NHSsq973NtulMe9Lz4AKG4qqoyKu%2FmFSUP%2B0hoANAi3J%2BLbq8jl9Y10h%2BeuOsEL6sOKsB47be0%2BONmIaO3bT%2FkM4y%2F1xRd5LdhznRS2lqrLRnXtX29cCA95HQlawT6DzHeSYM6SKIkLnYbf36s4h0%3D&RelayState=5316338572477096285')], 'data': [], 'method': 'GET'}
2014-11-18 10:08:11,740 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="NkZLMnNHVFZ0ZGZsNHhBVjRqZ2tMMU9GOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3912', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '57485', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?id=6FK2sGTVtdfl4xAV4jgkL1OF&key=0cbde7bd01fe066d6cabe6e03c6f7bea672dce1b', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a8dfd0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:08:11,742 back:DEBUG --- SSO ---
2014-11-18 10:08:20,496 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLWY5ZTJlNDA2ZTZmNzY3NTA2MmM0MDQ1MzY1NTYzNDhlIiBJblJlc3BvbnNlVG89ImlkLTc5ZTgxMjMxNzYyMDcwMmJlZmNmZThjMTcyMWVhYTg3IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MDg6MDVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLTk3YjkzZTcyNTFjNzZjNWY2ZGMwMGRhODhmMThiMWVhIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MDg6MDVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC03OWU4MTIzMTc2MjA3MDJiZWZjZmU4YzE3MjFlYWE4NyIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjIzOjA1WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjA4OjA1WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjIzOjA1WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MDg6MDVaIiBTZXNzaW9uSW5kZXg9ImlkLTk5NTQ4MTM3MDhkYmI5MTBlY2JmZGY0NmVmMTkxMTdmIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['5316338572477096285']}
2014-11-18 10:08:20,497 service:DEBUG _dict: {'SAMLResponse': 'PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLWY5ZTJlNDA2ZTZmNzY3NTA2MmM0MDQ1MzY1NTYzNDhlIiBJblJlc3BvbnNlVG89ImlkLTc5ZTgxMjMxNzYyMDcwMmJlZmNmZThjMTcyMWVhYTg3IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MDg6MDVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLTk3YjkzZTcyNTFjNzZjNWY2ZGMwMGRhODhmMThiMWVhIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MDg6MDVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC03OWU4MTIzMTc2MjA3MDJiZWZjZmU4YzE3MjFlYWE4NyIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjIzOjA1WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjA4OjA1WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjIzOjA1WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MDg6MDVaIiBTZXNzaW9uSW5kZXg9ImlkLTk5NTQ4MTM3MDhkYmI5MTBlY2JmZGY0NmVmMTkxMTdmIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4=', 'RelayState': '5316338572477096285'}
2014-11-18 10:08:24,271 saml2.response:DEBUG xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-f9e2e406e6f7675062c404536556348e" InResponseTo="id-79e812317620702befcfe8c1721eaa87" IssueInstant="2014-11-18T09:08:05Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-97b93e7251c76c5f6dc00da88f18b1ea" IssueInstant="2014-11-18T09:08:05Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-79e812317620702befcfe8c1721eaa87" NotOnOrAfter="2014-11-18T09:23:05Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:08:05Z" NotOnOrAfter="2014-11-18T09:23:05Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:08:05Z" SessionIndex="id-9954813708dbb910ecbfdf46ef19117f"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:08:24,294 saml2.response:DEBUG response: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-f9e2e406e6f7675062c404536556348e" InResponseTo="id-79e812317620702befcfe8c1721eaa87" IssueInstant="2014-11-18T09:08:05Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-97b93e7251c76c5f6dc00da88f18b1ea" IssueInstant="2014-11-18T09:08:05Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-79e812317620702befcfe8c1721eaa87" NotOnOrAfter="2014-11-18T09:23:05Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:08:05Z" NotOnOrAfter="2014-11-18T09:23:05Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:08:05Z" SessionIndex="id-9954813708dbb910ecbfdf46ef19117f"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:08:24,300 saml2.entity:DEBUG XMLSTR: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-f9e2e406e6f7675062c404536556348e" InResponseTo="id-79e812317620702befcfe8c1721eaa87" IssueInstant="2014-11-18T09:08:05Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-97b93e7251c76c5f6dc00da88f18b1ea" IssueInstant="2014-11-18T09:08:05Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-79e812317620702befcfe8c1721eaa87" NotOnOrAfter="2014-11-18T09:23:05Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:08:05Z" NotOnOrAfter="2014-11-18T09:23:05Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:08:05Z" SessionIndex="id-9954813708dbb910ecbfdf46ef19117f"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:08:24,302 saml2.response:INFO status: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Status xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol"><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status>
2014-11-18 10:08:24,303 saml2.response:DEBUG ***Unencrypted assertion***
2014-11-18 10:08:24,303 saml2.response:DEBUG unsigned
2014-11-18 10:08:24,304 saml2.response:DEBUG assertion context: AuthnReq
2014-11-18 10:08:24,305 saml2.response:DEBUG assertion keys: ['authn_statement', 'attribute_statement', 'issue_instant', 'version', 'subject', 'conditions', 'id', 'issuer']
2014-11-18 10:08:24,306 saml2.response:DEBUG outstanding_queries: {'id-79e812317620702befcfe8c1721eaa87': 5316338572477096285, 5316338572477096285: (<saml2.samlp.AuthnRequest object at 0x10532d210>, 'OxbJ4m5IUDTz7gZT')}
2014-11-18 10:08:24,307 saml2.response:DEBUG conditions: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Conditions xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" NotBefore="2014-11-18T09:08:05Z" NotOnOrAfter="2014-11-18T09:23:05Z"><ns0:AudienceRestriction><ns0:Audience>https://localhost:8090/proxy.xml</ns0:Audience></ns0:AudienceRestriction></ns0:Conditions>
2014-11-18 10:08:24,309 saml2.response:DEBUG --- Getting Identity ---
2014-11-18 10:08:24,313 saml2.response:DEBUG Attribute Statement: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AttributeStatement xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><ns0:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Hedberg</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">one!for!all</ns0:AttributeValue></ns0:Attribute></ns0:AttributeStatement>
2014-11-18 10:08:24,314 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:08:24,315 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:08:24,315 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:basic
2014-11-18 10:08:24,316 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:uri
2014-11-18 10:08:24,317 saml2.response:DEBUG Converts name format: urn:mace:shibboleth:1.0:attributeNamespace:uri
2014-11-18 10:08:24,317 saml2.response:DEBUG --- AVA: {'eduPersonTargetedID': ['one!for!all'], 'givenName': ['Roland'], 'uid': ['roland'], 'sn': ['Hedberg']}
2014-11-18 10:08:24,319 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:08:24,320 saml2.client_base:INFO --- ADDED person info ----
2014-11-18 10:08:27,988 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="NkZLMnNHVFZ0ZGZsNHhBVjRqZ2tMMU9GOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3912', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '57485', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?id=6FK2sGTVtdfl4xAV4jgkL1OF&key=0cbde7bd01fe066d6cabe6e03c6f7bea672dce1b', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a8dfd0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:08:37,790 root:ERROR 'int' object is not iterable
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 177, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 139, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/back.py", line 164, in authn_response
    return self.outgoing(_response, self)
  File "/Users/rolandh/code/s2sproxy/server.py", line 68, in outgoing
    orig_authn_req, relay_state = instance.sp.state[response.in_response_to]
TypeError: 'int' object is not iterable
2014-11-18 10:09:05,741 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="NkZLMnNHVFZ0ZGZsNHhBVjRqZ2tMMU9GOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa4fA1rAZlBhJQBeZXnhXuk6ajBZ7OpR%2Fbzf8iMaQmPSiPXnfnud8TC7etjXaSwvK6LRH%2B6SHpBamVPo57T0U10Hcu8jOJhoImzZuo%2B%2FlSyPBIW%2FTwHw4xY3VzHBQ%2Fsm3EpgTbDVdLljUJ2xnjTPC1PjLQE8bOIC0zsNgNP28XhkNzVbalbR7JeTD%2FSLFG%2Bd2LAxrI3i9MeBYTOJxyAWEO%2F%2FCaOYhleat%2FSiGX%2BqEhAAmtLJUVgrvmM9SrMogGg1HySCpSDysEiIH64RWJVmX0WAsIj7iXgjQyLkGx7VLcUToeUBpQOOCJKw99Amj%2FKPuS6W7Vp6seX0UAbspijzI71ZF98FeldLeenWKlwe0yhEc68fo8WNe2Ltx5odDWQdl0bWxW%2B5Op2sjvtCqkzKpnXIHnP3dUNj1%2FeAm4XeKrNuFFms%2By02txAFN69q8XlnJnUeteA0e8f8gznINyuNgFGZtxp8bl70D&RelayState=oOIIaywax05lyrhF', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '57852', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10531cbd0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa4fA1rAZlBhJQBeZXnhXuk6ajBZ7OpR%2Fbzf8iMaQmPSiPXnfnud8TC7etjXaSwvK6LRH%2B6SHpBamVPo57T0U10Hcu8jOJhoImzZuo%2B%2FlSyPBIW%2FTwHw4xY3VzHBQ%2Fsm3EpgTbDVdLljUJ2xnjTPC1PjLQE8bOIC0zsNgNP28XhkNzVbalbR7JeTD%2FSLFG%2Bd2LAxrI3i9MeBYTOJxyAWEO%2F%2FCaOYhleat%2FSiGX%2BqEhAAmtLJUVgrvmM9SrMogGg1HySCpSDysEiIH64RWJVmX0WAsIj7iXgjQyLkGx7VLcUToeUBpQOOCJKw99Amj%2FKPuS6W7Vp6seX0UAbspijzI71ZF98FeldLeenWKlwe0yhEc68fo8WNe2Ltx5odDWQdl0bWxW%2B5Op2sjvtCqkzKpnXIHnP3dUNj1%2FeAm4XeKrNuFFms%2By02txAFN69q8XlnJnUeteA0e8f8gznINyuNgFGZtxp8bl70D&RelayState=oOIIaywax05lyrhF', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:09:09,928 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 10:09:09,928 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 10:09:09,929 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-2656939f085f90e3b91fd0bd237c2a6a" IssueInstant="2014-11-18T09:09:01Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:09:09,933 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-2656939f085f90e3b91fd0bd237c2a6a" IssueInstant="2014-11-18T09:09:01Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:09:09,935 saml2.entity:DEBUG Loaded request
2014-11-18 10:09:09,936 saml2.entity:DEBUG Verified request
2014-11-18 10:09:09,937 front:INFO parsed OK
2014-11-18 10:09:09,938 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-2656939f085f90e3b91fd0bd237c2a6a" IssueInstant="2014-11-18T09:09:01Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:09:09,939 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:09:09,939 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:09:09,940 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 10:09:09,941 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:09:09,941 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:09:12,681 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="NkZLMnNHVFZ0ZGZsNHhBVjRqZ2tMMU9GOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa4fA1rAZlBhJQBeZXnhXuk6ajBZ7OpR%2Fbzf8iMaQmPSiPXnfnud8TC7etjXaSwvK6LRH%2B6SHpBamVPo57T0U10Hcu8jOJhoImzZuo%2B%2FlSyPBIW%2FTwHw4xY3VzHBQ%2Fsm3EpgTbDVdLljUJ2xnjTPC1PjLQE8bOIC0zsNgNP28XhkNzVbalbR7JeTD%2FSLFG%2Bd2LAxrI3i9MeBYTOJxyAWEO%2F%2FCaOYhleat%2FSiGX%2BqEhAAmtLJUVgrvmM9SrMogGg1HySCpSDysEiIH64RWJVmX0WAsIj7iXgjQyLkGx7VLcUToeUBpQOOCJKw99Amj%2FKPuS6W7Vp6seX0UAbspijzI71ZF98FeldLeenWKlwe0yhEc68fo8WNe2Ltx5odDWQdl0bWxW%2B5Op2sjvtCqkzKpnXIHnP3dUNj1%2FeAm4XeKrNuFFms%2By02txAFN69q8XlnJnUeteA0e8f8gznINyuNgFGZtxp8bl70D&RelayState=oOIIaywax05lyrhF', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '57852', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10531cbd0>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa4fA1rAZlBhJQBeZXnhXuk6ajBZ7OpR%2Fbzf8iMaQmPSiPXnfnud8TC7etjXaSwvK6LRH%2B6SHpBamVPo57T0U10Hcu8jOJhoImzZuo%2B%2FlSyPBIW%2FTwHw4xY3VzHBQ%2Fsm3EpgTbDVdLljUJ2xnjTPC1PjLQE8bOIC0zsNgNP28XhkNzVbalbR7JeTD%2FSLFG%2Bd2LAxrI3i9MeBYTOJxyAWEO%2F%2FCaOYhleat%2FSiGX%2BqEhAAmtLJUVgrvmM9SrMogGg1HySCpSDysEiIH64RWJVmX0WAsIj7iXgjQyLkGx7VLcUToeUBpQOOCJKw99Amj%2FKPuS6W7Vp6seX0UAbspijzI71ZF98FeldLeenWKlwe0yhEc68fo8WNe2Ltx5odDWQdl0bWxW%2B5Op2sjvtCqkzKpnXIHnP3dUNj1%2FeAm4XeKrNuFFms%2By02txAFN69q8XlnJnUeteA0e8f8gznINyuNgFGZtxp8bl70D&RelayState=oOIIaywax05lyrhF', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:09:12,683 back:DEBUG --- SSO ---
2014-11-18 10:09:12,684 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa4fA1rAZlBhJQBeZXnhXuk6ajBZ7OpR%2Fbzf8iMaQmPSiPXnfnud8TC7etjXaSwvK6LRH%2B6SHpBamVPo57T0U10Hcu8jOJhoImzZuo%2B%2FlSyPBIW%2FTwHw4xY3VzHBQ%2Fsm3EpgTbDVdLljUJ2xnjTPC1PjLQE8bOIC0zsNgNP28XhkNzVbalbR7JeTD%2FSLFG%2Bd2LAxrI3i9MeBYTOJxyAWEO%2F%2FCaOYhleat%2FSiGX%2BqEhAAmtLJUVgrvmM9SrMogGg1HySCpSDysEiIH64RWJVmX0WAsIj7iXgjQyLkGx7VLcUToeUBpQOOCJKw99Amj%2FKPuS6W7Vp6seX0UAbspijzI71ZF98FeldLeenWKlwe0yhEc68fo8WNe2Ltx5odDWQdl0bWxW%2B5Op2sjvtCqkzKpnXIHnP3dUNj1%2FeAm4XeKrNuFFms%2By02txAFN69q8XlnJnUeteA0e8f8gznINyuNgFGZtxp8bl70D&RelayState=oOIIaywax05lyrhF'
2014-11-18 10:09:15,024 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:09:15,025 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:09:15,025 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 10:09:15,026 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 10:09:15,028 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-3c3d721371cf15d8609aa5ef872e3b64" IssueInstant="2014-11-18T09:09:15Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:09:15,030 saml2.entity:INFO HTTP REDIRECT
2014-11-18 10:09:15,031 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNb8IwDL3vV0S5cCpt%2BCwRLWIgNCS2VVB22C2kZkQqCYtTNv79wsc2bdI4TMrBtt6zn%2F3SH7xvS7IHi8ropMbqUY2AlqZQ%2BiWpLfNJENcG6U1fY8SHldvoObxWgI54mkbuywmtrOZGoPKp2AJyJ%2FlieD%2FjjXrEd9Y4I01JvwjsOkEggnVeDCXDz3BkNFZbsAuweyVhOZ8ldOPcDnkYlkaKcmPQ8TjqRaGQGO58RsnYq1RaHPln9C9wHIeIJrRQKAvSE6bjhKoiaMpm0W2wZpfJNWsXcSfqCdGGddxtQHPVaXkgYgVTjU5ol9BGxFoBYwGL86jH%2FWPtZ0qyy963Sp9OeXXn1RmE%2FC7PsyB7XOSUPF0soR5AU39%2Fxk9zLZkYuxXuesdjxe%2ByPkE5aKfcgaZ%2F3Mx79H6oe3%2F64feY9GT5g%2B8zHWemVPJAhmVp3kYWhIOErkWJQP8hxlmhUXlJlITpceLPj5V%2BAA%3D%3D&RelayState=-2421661505017636912')], 'data': [], 'method': 'GET'}
2014-11-18 10:09:18,368 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="NkZLMnNHVFZ0ZGZsNHhBVjRqZ2tMMU9GOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3913', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '57948', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNb8IwDL3vV0S5cCpt%2BCwRLWIgNCS2VVB22C2kZkQqCYtTNv79wsc2bdI4TMrBtt6zn%2F3SH7xvS7IHi8ropMbqUY2AlqZQ%2BiWpLfNJENcG6U1fY8SHldvoObxWgI54mkbuywmtrOZGoPKp2AJyJ%2FlieD%2FjjXrEd9Y4I01JvwjsOkEggnVeDCXDz3BkNFZbsAuweyVhOZ8ldOPcDnkYlkaKcmPQ8TjqRaGQGO58RsnYq1RaHPln9C9wHIeIJrRQKAvSE6bjhKoiaMpm0W2wZpfJNWsXcSfqCdGGddxtQHPVaXkgYgVTjU5ol9BGxFoBYwGL86jH%2FWPtZ0qyy963Sp9OeXXn1RmE%2FC7PsyB7XOSUPF0soR5AU39%2Fxk9zLZkYuxXuesdjxe%2ByPkE5aKfcgaZ%2F3Mx79H6oe3%2F64feY9GT5g%2B8zHWemVPJAhmVp3kYWhIOErkWJQP8hxlmhUXlJlITpceLPj5V%2BAA%3D%3D&RelayState=-2421661505017636912', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10531cd50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:09:18,370 back:DEBUG --- SSO ---
2014-11-18 10:09:19,589 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTBhZjMzODg0NDk3ZTFjYzJjMTQxMzRkNDM2ZjJmZDY3IiBJblJlc3BvbnNlVG89ImlkLTNjM2Q3MjEzNzFjZjE1ZDg2MDlhYTVlZjg3MmUzYjY0IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MDk6MTVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLTI2ODRlMzIyOTRlZTVhNjM0MzIwYTcwZWRmNTY1OWUxIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MDk6MTVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC0zYzNkNzIxMzcxY2YxNWQ4NjA5YWE1ZWY4NzJlM2I2NCIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI0OjE1WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjA5OjE1WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI0OjE1WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MDk6MTVaIiBTZXNzaW9uSW5kZXg9ImlkLTVjZGZjNjhjMTQ3NjkzODQzNDZmYWU2YzQ5NGJkMTNmIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['-2421661505017636912']}
2014-11-18 10:09:19,589 service:DEBUG _dict: {'SAMLResponse': 'PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTBhZjMzODg0NDk3ZTFjYzJjMTQxMzRkNDM2ZjJmZDY3IiBJblJlc3BvbnNlVG89ImlkLTNjM2Q3MjEzNzFjZjE1ZDg2MDlhYTVlZjg3MmUzYjY0IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MDk6MTVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLTI2ODRlMzIyOTRlZTVhNjM0MzIwYTcwZWRmNTY1OWUxIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MDk6MTVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC0zYzNkNzIxMzcxY2YxNWQ4NjA5YWE1ZWY4NzJlM2I2NCIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI0OjE1WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjA5OjE1WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI0OjE1WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MDk6MTVaIiBTZXNzaW9uSW5kZXg9ImlkLTVjZGZjNjhjMTQ3NjkzODQzNDZmYWU2YzQ5NGJkMTNmIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4=', 'RelayState': '-2421661505017636912'}
2014-11-18 10:09:20,801 saml2.response:DEBUG xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-0af33884497e1cc2c14134d436f2fd67" InResponseTo="id-3c3d721371cf15d8609aa5ef872e3b64" IssueInstant="2014-11-18T09:09:15Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-2684e32294ee5a634320a70edf5659e1" IssueInstant="2014-11-18T09:09:15Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-3c3d721371cf15d8609aa5ef872e3b64" NotOnOrAfter="2014-11-18T09:24:15Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:09:15Z" NotOnOrAfter="2014-11-18T09:24:15Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:09:15Z" SessionIndex="id-5cdfc68c14769384346fae6c494bd13f"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:09:20,829 saml2.response:DEBUG response: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-0af33884497e1cc2c14134d436f2fd67" InResponseTo="id-3c3d721371cf15d8609aa5ef872e3b64" IssueInstant="2014-11-18T09:09:15Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-2684e32294ee5a634320a70edf5659e1" IssueInstant="2014-11-18T09:09:15Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-3c3d721371cf15d8609aa5ef872e3b64" NotOnOrAfter="2014-11-18T09:24:15Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:09:15Z" NotOnOrAfter="2014-11-18T09:24:15Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:09:15Z" SessionIndex="id-5cdfc68c14769384346fae6c494bd13f"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:09:20,835 saml2.entity:DEBUG XMLSTR: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-0af33884497e1cc2c14134d436f2fd67" InResponseTo="id-3c3d721371cf15d8609aa5ef872e3b64" IssueInstant="2014-11-18T09:09:15Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-2684e32294ee5a634320a70edf5659e1" IssueInstant="2014-11-18T09:09:15Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-3c3d721371cf15d8609aa5ef872e3b64" NotOnOrAfter="2014-11-18T09:24:15Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:09:15Z" NotOnOrAfter="2014-11-18T09:24:15Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:09:15Z" SessionIndex="id-5cdfc68c14769384346fae6c494bd13f"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:09:20,837 saml2.response:INFO status: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Status xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol"><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status>
2014-11-18 10:09:20,837 saml2.response:DEBUG ***Unencrypted assertion***
2014-11-18 10:09:20,838 saml2.response:DEBUG unsigned
2014-11-18 10:09:20,839 saml2.response:DEBUG assertion context: AuthnReq
2014-11-18 10:09:20,840 saml2.response:DEBUG assertion keys: ['authn_statement', 'attribute_statement', 'issue_instant', 'version', 'subject', 'conditions', 'id', 'issuer']
2014-11-18 10:09:20,841 saml2.response:DEBUG outstanding_queries: {-2421661505017636912: (<saml2.samlp.AuthnRequest object at 0x10532d0d0>, 'oOIIaywax05lyrhF'), 'id-3c3d721371cf15d8609aa5ef872e3b64': -2421661505017636912, 'id-79e812317620702befcfe8c1721eaa87': 5316338572477096285, 5316338572477096285: (<saml2.samlp.AuthnRequest object at 0x10532d210>, 'OxbJ4m5IUDTz7gZT')}
2014-11-18 10:09:20,842 saml2.response:DEBUG conditions: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Conditions xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" NotBefore="2014-11-18T09:09:15Z" NotOnOrAfter="2014-11-18T09:24:15Z"><ns0:AudienceRestriction><ns0:Audience>https://localhost:8090/proxy.xml</ns0:Audience></ns0:AudienceRestriction></ns0:Conditions>
2014-11-18 10:09:20,844 saml2.response:DEBUG --- Getting Identity ---
2014-11-18 10:09:20,847 saml2.response:DEBUG Attribute Statement: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AttributeStatement xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><ns0:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Hedberg</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">one!for!all</ns0:AttributeValue></ns0:Attribute></ns0:AttributeStatement>
2014-11-18 10:09:20,848 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:09:20,849 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:09:20,850 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:basic
2014-11-18 10:09:20,850 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:uri
2014-11-18 10:09:20,851 saml2.response:DEBUG Converts name format: urn:mace:shibboleth:1.0:attributeNamespace:uri
2014-11-18 10:09:20,852 saml2.response:DEBUG --- AVA: {'eduPersonTargetedID': ['one!for!all'], 'givenName': ['Roland'], 'uid': ['roland'], 'sn': ['Hedberg']}
2014-11-18 10:09:20,854 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:09:20,855 saml2.client_base:INFO --- ADDED person info ----
2014-11-18 10:09:24,781 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="NkZLMnNHVFZ0ZGZsNHhBVjRqZ2tMMU9GOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3913', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '57948', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNb8IwDL3vV0S5cCpt%2BCwRLWIgNCS2VVB22C2kZkQqCYtTNv79wsc2bdI4TMrBtt6zn%2F3SH7xvS7IHi8ropMbqUY2AlqZQ%2BiWpLfNJENcG6U1fY8SHldvoObxWgI54mkbuywmtrOZGoPKp2AJyJ%2FlieD%2FjjXrEd9Y4I01JvwjsOkEggnVeDCXDz3BkNFZbsAuweyVhOZ8ldOPcDnkYlkaKcmPQ8TjqRaGQGO58RsnYq1RaHPln9C9wHIeIJrRQKAvSE6bjhKoiaMpm0W2wZpfJNWsXcSfqCdGGddxtQHPVaXkgYgVTjU5ol9BGxFoBYwGL86jH%2FWPtZ0qyy963Sp9OeXXn1RmE%2FC7PsyB7XOSUPF0soR5AU39%2Fxk9zLZkYuxXuesdjxe%2ByPkE5aKfcgaZ%2F3Mx79H6oe3%2F64feY9GT5g%2B8zHWemVPJAhmVp3kYWhIOErkWJQP8hxlmhUXlJlITpceLPj5V%2BAA%3D%3D&RelayState=-2421661505017636912', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10531cd50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:10:52,276 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 10:10:52,286 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 10:10:52,361 service:DEBUG ENVIRON: None
2014-11-18 10:10:52,362 saml2:INFO Logging started
2014-11-18 10:10:52,364 back:DEBUG --- SSO ---
2014-11-18 10:10:52,365 service:DEBUG ENVIRON: None
2014-11-18 10:10:52,388 root:INFO Server starting
2014-11-18 10:11:08,538 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="NkZLMnNHVFZ0ZGZsNHhBVjRqZ2tMMU9GOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa8fXaNgIQogkqAsML7wrXZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEYnDdokDSS1MIXSL0ljlU%2BDuDFMbwYaCBtVbqsX8rWS4JC3aWA%2BneDKamY4KB%2FynQTmBFuO7ucsahK2t8YZYUr8ZaDXDRxAWudhMBp9PsdGQ7WTdintQQm5WswTvHVuz8KwNIKXWwOOxSTuhVxAuPcRRhMPqTQ%2F2c9i%2BKXukxDAhFYWykrhHbNJglURRDQqooKTTo%2FGEe20ZFf0KF%2F3e13Spq3NxgsBKjnT4Lh2CY4IbQeUBjTOSZ9Rykj7GaPs0vet0vUor%2Fa8PouA3eV5FmSPy7z%2B4KAKaR%2B8OsH3R7TMEJz7x%2Bjpsi%2Fs3Tj1y6GshrJoauyOu%2BvlThnf6KaWMqmdckec%2Fj1Q2Df94gbhd4m0voUT1mySmVKJIxqVpXkbW8mdR93wEjzi%2F0Gc5RqUx8EoTE8Vf15c%2BgE%3D&RelayState=XcjIiJpTZ5eCt95L', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '58687', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a86d50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa8fXaNgIQogkqAsML7wrXZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEYnDdokDSS1MIXSL0ljlU%2BDuDFMbwYaCBtVbqsX8rWS4JC3aWA%2BneDKamY4KB%2FynQTmBFuO7ucsahK2t8YZYUr8ZaDXDRxAWudhMBp9PsdGQ7WTdintQQm5WswTvHVuz8KwNIKXWwOOxSTuhVxAuPcRRhMPqTQ%2F2c9i%2BKXukxDAhFYWykrhHbNJglURRDQqooKTTo%2FGEe20ZFf0KF%2F3e13Spq3NxgsBKjnT4Lh2CY4IbQeUBjTOSZ9Rykj7GaPs0vet0vUor%2Fa8PouA3eV5FmSPy7z%2B4KAKaR%2B8OsH3R7TMEJz7x%2Bjpsi%2Fs3Tj1y6GshrJoauyOu%2BvlThnf6KaWMqmdckec%2Fj1Q2Df94gbhd4m0voUT1mySmVKJIxqVpXkbW8mdR93wEjzi%2F0Gc5RqUx8EoTE8Vf15c%2BgE%3D&RelayState=XcjIiJpTZ5eCt95L', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:11:09,460 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 10:11:09,461 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 10:11:09,462 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-212d2da057182153e6c71ab9760413ff" IssueInstant="2014-11-18T09:11:04Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:11:09,466 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-212d2da057182153e6c71ab9760413ff" IssueInstant="2014-11-18T09:11:04Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:11:09,467 saml2.entity:DEBUG Loaded request
2014-11-18 10:11:09,468 saml2.entity:DEBUG Verified request
2014-11-18 10:11:09,469 front:INFO parsed OK
2014-11-18 10:11:09,471 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-212d2da057182153e6c71ab9760413ff" IssueInstant="2014-11-18T09:11:04Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:11:09,471 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:11:09,472 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:11:09,473 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 10:11:09,473 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:11:09,474 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:11:11,697 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="NkZLMnNHVFZ0ZGZsNHhBVjRqZ2tMMU9GOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa8fXaNgIQogkqAsML7wrXZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEYnDdokDSS1MIXSL0ljlU%2BDuDFMbwYaCBtVbqsX8rWS4JC3aWA%2BneDKamY4KB%2FynQTmBFuO7ucsahK2t8YZYUr8ZaDXDRxAWudhMBp9PsdGQ7WTdintQQm5WswTvHVuz8KwNIKXWwOOxSTuhVxAuPcRRhMPqTQ%2F2c9i%2BKXukxDAhFYWykrhHbNJglURRDQqooKTTo%2FGEe20ZFf0KF%2F3e13Spq3NxgsBKjnT4Lh2CY4IbQeUBjTOSZ9Rykj7GaPs0vet0vUor%2Fa8PouA3eV5FmSPy7z%2B4KAKaR%2B8OsH3R7TMEJz7x%2Bjpsi%2Fs3Tj1y6GshrJoauyOu%2BvlThnf6KaWMqmdckec%2Fj1Q2Df94gbhd4m0voUT1mySmVKJIxqVpXkbW8mdR93wEjzi%2F0Gc5RqUx8EoTE8Vf15c%2BgE%3D&RelayState=XcjIiJpTZ5eCt95L', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '58687', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a86d50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa8fXaNgIQogkqAsML7wrXZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEYnDdokDSS1MIXSL0ljlU%2BDuDFMbwYaCBtVbqsX8rWS4JC3aWA%2BneDKamY4KB%2FynQTmBFuO7ucsahK2t8YZYUr8ZaDXDRxAWudhMBp9PsdGQ7WTdintQQm5WswTvHVuz8KwNIKXWwOOxSTuhVxAuPcRRhMPqTQ%2F2c9i%2BKXukxDAhFYWykrhHbNJglURRDQqooKTTo%2FGEe20ZFf0KF%2F3e13Spq3NxgsBKjnT4Lh2CY4IbQeUBjTOSZ9Rykj7GaPs0vet0vUor%2Fa8PouA3eV5FmSPy7z%2B4KAKaR%2B8OsH3R7TMEJz7x%2Bjpsi%2Fs3Tj1y6GshrJoauyOu%2BvlThnf6KaWMqmdckec%2Fj1Q2Df94gbhd4m0voUT1mySmVKJIxqVpXkbW8mdR93wEjzi%2F0Gc5RqUx8EoTE8Vf15c%2BgE%3D&RelayState=XcjIiJpTZ5eCt95L', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:11:11,699 back:DEBUG --- SSO ---
2014-11-18 10:11:11,699 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa8fXaNgIQogkqAsML7wrXZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEYnDdokDSS1MIXSL0ljlU%2BDuDFMbwYaCBtVbqsX8rWS4JC3aWA%2BneDKamY4KB%2FynQTmBFuO7ucsahK2t8YZYUr8ZaDXDRxAWudhMBp9PsdGQ7WTdintQQm5WswTvHVuz8KwNIKXWwOOxSTuhVxAuPcRRhMPqTQ%2F2c9i%2BKXukxDAhFYWykrhHbNJglURRDQqooKTTo%2FGEe20ZFf0KF%2F3e13Spq3NxgsBKjnT4Lh2CY4IbQeUBjTOSZ9Rykj7GaPs0vet0vUor%2Fa8PouA3eV5FmSPy7z%2B4KAKaR%2B8OsH3R7TMEJz7x%2Bjpsi%2Fs3Tj1y6GshrJoauyOu%2BvlThnf6KaWMqmdckec%2Fj1Q2Df94gbhd4m0voUT1mySmVKJIxqVpXkbW8mdR93wEjzi%2F0Gc5RqUx8EoTE8Vf15c%2BgE%3D&RelayState=XcjIiJpTZ5eCt95L'
2014-11-18 10:11:12,785 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:11:12,786 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:11:12,787 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 10:11:12,787 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 10:11:12,789 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-56cf082f18f33376742870d8d6ba2d5e" IssueInstant="2014-11-18T09:11:12Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:11:12,791 saml2.entity:INFO HTTP REDIRECT
2014-11-18 10:11:12,793 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=lVLRTsIwFH33K5q%2B8DTWDoTasJEpMZKgLjJ98K12nTTZWuztFP7egqjRRBLfem%2FOuffcczqZbtoGvSoH2pq0R%2Fukh5SRttLmOe3dl5cR602zk4kBwvPOr8ydeukUeBRoBnhop7hzhlsBOpSiVcC95Mv8esGTPuFrZ72VtsFfBHqcIACU80EMRvnn88Ia6Frllsq9aqnu7xYpXnm%2FBh7HjZWiWVnwnJEzEgsJ8TpUGM2CSm3Ejv%2BB%2FgVmLAawsVOVdkoGwnyWYl1FpyNZE5bUlNWDwWA8Gg8TNiYVq0ZPIqlOVQACdGpuwAvjU5wQOowojSgryRmnlNPkEaPicPe5Nnsrj9789AECflWWRVTcLkuMHg6R4ADAWfCf8v1ehy6ta4U%2FPnHXCbfUeyhXxmu%2FxdkfnoWMNtt%2ByGcSf6%2FJ9pHfhDnzWWEbLbcobxr7duGU8CrFtWggePF%2FMd4JAzpIwijOdht%2FfqzsHQ%3D%3D&RelayState=3169822527341958637')], 'data': [], 'method': 'GET'}
2014-11-18 10:11:17,249 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="NkZLMnNHVFZ0ZGZsNHhBVjRqZ2tMMU9GOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3912', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '58746', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=lVLRTsIwFH33K5q%2B8DTWDoTasJEpMZKgLjJ98K12nTTZWuztFP7egqjRRBLfem%2FOuffcczqZbtoGvSoH2pq0R%2Fukh5SRttLmOe3dl5cR602zk4kBwvPOr8ydeukUeBRoBnhop7hzhlsBOpSiVcC95Mv8esGTPuFrZ72VtsFfBHqcIACU80EMRvnn88Ia6Frllsq9aqnu7xYpXnm%2FBh7HjZWiWVnwnJEzEgsJ8TpUGM2CSm3Ejv%2BB%2FgVmLAawsVOVdkoGwnyWYl1FpyNZE5bUlNWDwWA8Gg8TNiYVq0ZPIqlOVQACdGpuwAvjU5wQOowojSgryRmnlNPkEaPicPe5Nnsrj9789AECflWWRVTcLkuMHg6R4ADAWfCf8v1ehy6ta4U%2FPnHXCbfUeyhXxmu%2FxdkfnoWMNtt%2ByGcSf6%2FJ9pHfhDnzWWEbLbcobxr7duGU8CrFtWggePF%2FMd4JAzpIwijOdht%2FfqzsHQ%3D%3D&RelayState=3169822527341958637', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10812b490>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:11:17,251 back:DEBUG --- SSO ---
2014-11-18 10:11:18,645 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLThkOWIzYjU1NzcxZTAxMzQwZmFkMWJjN2YxY2NjNDBlIiBJblJlc3BvbnNlVG89ImlkLTU2Y2YwODJmMThmMzMzNzY3NDI4NzBkOGQ2YmEyZDVlIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTE6MTJaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLWM4ZmIzMTJkMzMzYTM5OTM0ZmJmYmNhZmYxMmU1MDRhIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTE6MTJaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC01NmNmMDgyZjE4ZjMzMzc2NzQyODcwZDhkNmJhMmQ1ZSIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI2OjEyWiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjExOjEyWiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI2OjEyWiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTE6MTJaIiBTZXNzaW9uSW5kZXg9ImlkLTAzOTAyOTEzZTIxNjc1NmUxZTNiNWJmYTI5ODdkY2YxIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['3169822527341958637']}
2014-11-18 10:11:18,646 service:DEBUG _dict: {'SAMLResponse': 'PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLThkOWIzYjU1NzcxZTAxMzQwZmFkMWJjN2YxY2NjNDBlIiBJblJlc3BvbnNlVG89ImlkLTU2Y2YwODJmMThmMzMzNzY3NDI4NzBkOGQ2YmEyZDVlIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTE6MTJaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLWM4ZmIzMTJkMzMzYTM5OTM0ZmJmYmNhZmYxMmU1MDRhIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTE6MTJaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC01NmNmMDgyZjE4ZjMzMzc2NzQyODcwZDhkNmJhMmQ1ZSIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI2OjEyWiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjExOjEyWiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI2OjEyWiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTE6MTJaIiBTZXNzaW9uSW5kZXg9ImlkLTAzOTAyOTEzZTIxNjc1NmUxZTNiNWJmYTI5ODdkY2YxIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4=', 'RelayState': '3169822527341958637'}
2014-11-18 10:11:20,099 saml2.response:DEBUG xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-8d9b3b55771e01340fad1bc7f1ccc40e" InResponseTo="id-56cf082f18f33376742870d8d6ba2d5e" IssueInstant="2014-11-18T09:11:12Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-c8fb312d333a39934fbfbcaff12e504a" IssueInstant="2014-11-18T09:11:12Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-56cf082f18f33376742870d8d6ba2d5e" NotOnOrAfter="2014-11-18T09:26:12Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:11:12Z" NotOnOrAfter="2014-11-18T09:26:12Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:11:12Z" SessionIndex="id-03902913e216756e1e3b5bfa2987dcf1"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:11:20,127 saml2.response:DEBUG response: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-8d9b3b55771e01340fad1bc7f1ccc40e" InResponseTo="id-56cf082f18f33376742870d8d6ba2d5e" IssueInstant="2014-11-18T09:11:12Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-c8fb312d333a39934fbfbcaff12e504a" IssueInstant="2014-11-18T09:11:12Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-56cf082f18f33376742870d8d6ba2d5e" NotOnOrAfter="2014-11-18T09:26:12Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:11:12Z" NotOnOrAfter="2014-11-18T09:26:12Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:11:12Z" SessionIndex="id-03902913e216756e1e3b5bfa2987dcf1"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:11:20,133 saml2.entity:DEBUG XMLSTR: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-8d9b3b55771e01340fad1bc7f1ccc40e" InResponseTo="id-56cf082f18f33376742870d8d6ba2d5e" IssueInstant="2014-11-18T09:11:12Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-c8fb312d333a39934fbfbcaff12e504a" IssueInstant="2014-11-18T09:11:12Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-56cf082f18f33376742870d8d6ba2d5e" NotOnOrAfter="2014-11-18T09:26:12Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:11:12Z" NotOnOrAfter="2014-11-18T09:26:12Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:11:12Z" SessionIndex="id-03902913e216756e1e3b5bfa2987dcf1"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:11:20,135 saml2.response:INFO status: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Status xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol"><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status>
2014-11-18 10:11:20,136 saml2.response:DEBUG ***Unencrypted assertion***
2014-11-18 10:11:20,136 saml2.response:DEBUG unsigned
2014-11-18 10:11:20,137 saml2.response:DEBUG assertion context: AuthnReq
2014-11-18 10:11:20,138 saml2.response:DEBUG assertion keys: ['authn_statement', 'attribute_statement', 'issue_instant', 'version', 'subject', 'conditions', 'id', 'issuer']
2014-11-18 10:11:20,139 saml2.response:DEBUG outstanding_queries: {'id-56cf082f18f33376742870d8d6ba2d5e': 3169822527341958637, 3169822527341958637: (<saml2.samlp.AuthnRequest object at 0x10812bdd0>, 'XcjIiJpTZ5eCt95L')}
2014-11-18 10:11:20,140 saml2.response:DEBUG conditions: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Conditions xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" NotBefore="2014-11-18T09:11:12Z" NotOnOrAfter="2014-11-18T09:26:12Z"><ns0:AudienceRestriction><ns0:Audience>https://localhost:8090/proxy.xml</ns0:Audience></ns0:AudienceRestriction></ns0:Conditions>
2014-11-18 10:11:20,142 saml2.response:DEBUG --- Getting Identity ---
2014-11-18 10:11:20,145 saml2.response:DEBUG Attribute Statement: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AttributeStatement xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><ns0:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Hedberg</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">one!for!all</ns0:AttributeValue></ns0:Attribute></ns0:AttributeStatement>
2014-11-18 10:11:20,146 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:11:20,147 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:11:20,147 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:basic
2014-11-18 10:11:20,148 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:uri
2014-11-18 10:11:20,149 saml2.response:DEBUG Converts name format: urn:mace:shibboleth:1.0:attributeNamespace:uri
2014-11-18 10:11:20,149 saml2.response:DEBUG --- AVA: {'eduPersonTargetedID': ['one!for!all'], 'givenName': ['Roland'], 'uid': ['roland'], 'sn': ['Hedberg']}
2014-11-18 10:11:20,151 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:11:20,152 saml2.client_base:INFO --- ADDED person info ----
2014-11-18 10:11:24,799 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="NkZLMnNHVFZ0ZGZsNHhBVjRqZ2tMMU9GOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3912', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '58746', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=lVLRTsIwFH33K5q%2B8DTWDoTasJEpMZKgLjJ98K12nTTZWuztFP7egqjRRBLfem%2FOuffcczqZbtoGvSoH2pq0R%2Fukh5SRttLmOe3dl5cR602zk4kBwvPOr8ydeukUeBRoBnhop7hzhlsBOpSiVcC95Mv8esGTPuFrZ72VtsFfBHqcIACU80EMRvnn88Ia6Frllsq9aqnu7xYpXnm%2FBh7HjZWiWVnwnJEzEgsJ8TpUGM2CSm3Ejv%2BB%2FgVmLAawsVOVdkoGwnyWYl1FpyNZE5bUlNWDwWA8Gg8TNiYVq0ZPIqlOVQACdGpuwAvjU5wQOowojSgryRmnlNPkEaPicPe5Nnsrj9789AECflWWRVTcLkuMHg6R4ADAWfCf8v1ehy6ta4U%2FPnHXCbfUeyhXxmu%2FxdkfnoWMNtt%2ByGcSf6%2FJ9pHfhDnzWWEbLbcobxr7duGU8CrFtWggePF%2FMd4JAzpIwijOdht%2FfqzsHQ%3D%3D&RelayState=3169822527341958637', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10812b490>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:11:39,987 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:11:48,545 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:11:48,546 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:12:11,185 saml2.assertion:DEBUG required: [{'is_required': 'true', 'friendly_name': 'sn', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.4'}, {'is_required': 'true', 'friendly_name': 'givenname', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.42'}, {'is_required': 'true', 'friendly_name': 'uid', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:0.9.2342.19200300.100.1.1'}, {'is_required': 'true', 'friendly_name': 'edupersonaffiliation', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:1.3.6.1.4.1.5923.1.1.1.1'}], optional: [{'is_required': 'false', 'friendly_name': 'title', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.12'}]
2014-11-18 10:12:24,969 root:ERROR 'list' object has no attribute 'items'
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 178, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 140, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/back.py", line 164, in authn_response
    return self.outgoing(_response, self)
  File "/Users/rolandh/code/s2sproxy/server.py", line 74, in outgoing
    resp_args=resp_args, relay_state=relay_state, sign_response=True)
  File "/Users/rolandh/code/s2sproxy/front.py", line 128, in construct_authn_response
    **resp_args)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/server.py", line 553, in create_authn_response
    encrypt_cert=encrypt_cert)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/server.py", line 323, in _authn_response
    (AUTHN_DICT_MAP[k], v) for k, v in authn.items()
AttributeError: 'list' object has no attribute 'items'
2014-11-18 10:12:47,736 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="NkZLMnNHVFZ0ZGZsNHhBVjRqZ2tMMU9GOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLTsMwEEX3fIXlTVdp7ABNajVBhQpRiUdEAwt2rjNQS6ldPE6hf4%2BbFhAIVWLnGd3rOfMYnb0vG7IGh9qavMf7rEfAKFtr85L3HqrLKOudFUcjg0yMW78w9%2FDaAnoSbAZFSOe0dUZYiTqEcgkovBKz8c21SPpMrJz1VtmGfhn4YYNEBOcDDCXjz%2BeFNdguwc3ArbWCh%2FvrnC68X4k4bqySzcKiFxnL0lgqjFchomQSILWRW%2FtOjL%2FUQxYj2thBrR2o4JhOcqrrSPG5Ap6eJFmq%2BGAwnKf8%2BBQUS2HI2aBOghCxhalBL43PacL4ScR5xLOKDQVPxHH2REm57%2Ftcm26UB3ue70QorqqqjMq7WdV9sNY1uNugzunNhsxKgrv%2BKXnc74sGNy3CcrjooBy5tG4p%2FeFy20xo9LmTCjBe%2Bw0t%2Fh4orvphcaP4u0TR3cIWazopbaPVhoybxr5dOJA%2BoD7LBgPi%2F0G8kwZ1wKEkLrYVf15c8QE%3D&RelayState=H6c4B3mvkvSLdZiE', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '59310', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105b1c490>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLTsMwEEX3fIXlTVdp7ABNajVBhQpRiUdEAwt2rjNQS6ldPE6hf4%2BbFhAIVWLnGd3rOfMYnb0vG7IGh9qavMf7rEfAKFtr85L3HqrLKOudFUcjg0yMW78w9%2FDaAnoSbAZFSOe0dUZYiTqEcgkovBKz8c21SPpMrJz1VtmGfhn4YYNEBOcDDCXjz%2BeFNdguwc3ArbWCh%2FvrnC68X4k4bqySzcKiFxnL0lgqjFchomQSILWRW%2FtOjL%2FUQxYj2thBrR2o4JhOcqrrSPG5Ap6eJFmq%2BGAwnKf8%2BBQUS2HI2aBOghCxhalBL43PacL4ScR5xLOKDQVPxHH2REm57%2Ftcm26UB3ue70QorqqqjMq7WdV9sNY1uNugzunNhsxKgrv%2BKXnc74sGNy3CcrjooBy5tG4p%2FeFy20xo9LmTCjBe%2Bw0t%2Fh4orvphcaP4u0TR3cIWazopbaPVhoybxr5dOJA%2BoD7LBgPi%2F0G8kwZ1wKEkLrYVf15c8QE%3D&RelayState=H6c4B3mvkvSLdZiE', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:12:49,584 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 10:12:49,585 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 10:12:49,586 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-c1bce174287c1669b7135ec07e9106d2" IssueInstant="2014-11-18T09:12:38Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:12:49,589 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-c1bce174287c1669b7135ec07e9106d2" IssueInstant="2014-11-18T09:12:38Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:12:49,591 saml2.entity:DEBUG Loaded request
2014-11-18 10:12:49,592 saml2.entity:DEBUG Verified request
2014-11-18 10:12:49,593 front:INFO parsed OK
2014-11-18 10:12:49,594 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-c1bce174287c1669b7135ec07e9106d2" IssueInstant="2014-11-18T09:12:38Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:12:49,595 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:12:49,596 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:12:49,596 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 10:12:49,597 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:12:49,597 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:12:52,639 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="NkZLMnNHVFZ0ZGZsNHhBVjRqZ2tMMU9GOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLTsMwEEX3fIXlTVdp7ABNajVBhQpRiUdEAwt2rjNQS6ldPE6hf4%2BbFhAIVWLnGd3rOfMYnb0vG7IGh9qavMf7rEfAKFtr85L3HqrLKOudFUcjg0yMW78w9%2FDaAnoSbAZFSOe0dUZYiTqEcgkovBKz8c21SPpMrJz1VtmGfhn4YYNEBOcDDCXjz%2BeFNdguwc3ArbWCh%2FvrnC68X4k4bqySzcKiFxnL0lgqjFchomQSILWRW%2FtOjL%2FUQxYj2thBrR2o4JhOcqrrSPG5Ap6eJFmq%2BGAwnKf8%2BBQUS2HI2aBOghCxhalBL43PacL4ScR5xLOKDQVPxHH2REm57%2Ftcm26UB3ue70QorqqqjMq7WdV9sNY1uNugzunNhsxKgrv%2BKXnc74sGNy3CcrjooBy5tG4p%2FeFy20xo9LmTCjBe%2Bw0t%2Fh4orvphcaP4u0TR3cIWazopbaPVhoybxr5dOJA%2BoD7LBgPi%2F0G8kwZ1wKEkLrYVf15c8QE%3D&RelayState=H6c4B3mvkvSLdZiE', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '59310', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105b1c490>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLTsMwEEX3fIXlTVdp7ABNajVBhQpRiUdEAwt2rjNQS6ldPE6hf4%2BbFhAIVWLnGd3rOfMYnb0vG7IGh9qavMf7rEfAKFtr85L3HqrLKOudFUcjg0yMW78w9%2FDaAnoSbAZFSOe0dUZYiTqEcgkovBKz8c21SPpMrJz1VtmGfhn4YYNEBOcDDCXjz%2BeFNdguwc3ArbWCh%2FvrnC68X4k4bqySzcKiFxnL0lgqjFchomQSILWRW%2FtOjL%2FUQxYj2thBrR2o4JhOcqrrSPG5Ap6eJFmq%2BGAwnKf8%2BBQUS2HI2aBOghCxhalBL43PacL4ScR5xLOKDQVPxHH2REm57%2Ftcm26UB3ue70QorqqqjMq7WdV9sNY1uNugzunNhsxKgrv%2BKXnc74sGNy3CcrjooBy5tG4p%2FeFy20xo9LmTCjBe%2Bw0t%2Fh4orvphcaP4u0TR3cIWazopbaPVhoybxr5dOJA%2BoD7LBgPi%2F0G8kwZ1wKEkLrYVf15c8QE%3D&RelayState=H6c4B3mvkvSLdZiE', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:12:52,642 back:DEBUG --- SSO ---
2014-11-18 10:12:52,642 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZLLTsMwEEX3fIXlTVdp7ABNajVBhQpRiUdEAwt2rjNQS6ldPE6hf4%2BbFhAIVWLnGd3rOfMYnb0vG7IGh9qavMf7rEfAKFtr85L3HqrLKOudFUcjg0yMW78w9%2FDaAnoSbAZFSOe0dUZYiTqEcgkovBKz8c21SPpMrJz1VtmGfhn4YYNEBOcDDCXjz%2BeFNdguwc3ArbWCh%2FvrnC68X4k4bqySzcKiFxnL0lgqjFchomQSILWRW%2FtOjL%2FUQxYj2thBrR2o4JhOcqrrSPG5Ap6eJFmq%2BGAwnKf8%2BBQUS2HI2aBOghCxhalBL43PacL4ScR5xLOKDQVPxHH2REm57%2Ftcm26UB3ue70QorqqqjMq7WdV9sNY1uNugzunNhsxKgrv%2BKXnc74sGNy3CcrjooBy5tG4p%2FeFy20xo9LmTCjBe%2Bw0t%2Fh4orvphcaP4u0TR3cIWazopbaPVhoybxr5dOJA%2BoD7LBgPi%2F0G8kwZ1wKEkLrYVf15c8QE%3D&RelayState=H6c4B3mvkvSLdZiE'
2014-11-18 10:12:54,023 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:12:54,024 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:12:54,024 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 10:12:54,025 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 10:12:54,027 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-9f4a785ccbdd49ecd1a162c6bc467ab0" IssueInstant="2014-11-18T09:12:54Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:12:54,029 saml2.entity:INFO HTTP REDIRECT
2014-11-18 10:12:54,030 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVLLbsIwELz3KyxfOIXEKECwSBAFoSLRNoLQQ2%2FGWYqlYFOvQ8vf1zzaqpXKoTfvamZ3Zsf9wfu2InuwqIxOG6wZNQhoaUqlX9LGspgESWOQ3fQ1RnxYu42ew2sN6IinaeS%2BndLaam4EKl%2BKLSB3ki%2BG9zPeakZ8Z40z0lT0i8CuEwQiWOfFUDL8fI6MxnoLdgF2ryQs57OUbpzbIQ%2FDykhRbQw6nkS9KBQSw52vKBl7lUqLI%2F%2BM%2FgVOkhDRhBZKZUF6wnScUlUGvXUsuklbylVZxj2QJROs05KdlYw7XbGKPBCxhqlGJ7RLaSticcBYwJIi6nHW4u34mZL84vtW6dMpr3penUHI74oiD%2FLHRUHJ0yUS6gE08%2Fdn%2FLTXkomxW%2BGuTzx2vJf1CcpBO%2BUONPvjZj6j90PT59MPv9dkp8gf%2FJzpODeVkgcyrCrzNrIgHKR0LSoE%2Bg8xzgqNykuiJMyOG39%2BrOwD&RelayState=-99047248436058840')], 'data': [], 'method': 'GET'}
2014-11-18 10:13:19,760 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 10:13:19,773 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 10:13:19,846 service:DEBUG ENVIRON: None
2014-11-18 10:13:19,847 saml2:INFO Logging started
2014-11-18 10:13:19,849 back:DEBUG --- SSO ---
2014-11-18 10:13:19,850 service:DEBUG ENVIRON: None
2014-11-18 10:13:19,869 root:INFO Server starting
2014-11-18 10:13:29,431 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga%2B4C40bAZhBBJQBc3vfCudGfSZLTY06H8e8vwIxpD4l3Pyfv2POdjfPW2bcgeDEqt0l7YD3oElNCVVM9p76Gce0nvKrsYKwzYpLUbdQ8vLaAlzqaQuXRKW6OY5ihdyLeAzApWTFZLFvUDtjPaaqEb%2BmUIzxs4IhjrYCiZfD6nWmG7BVOA2UsBD%2FfLlG6s3THfb7TgzUajZUmQxD4X6O9cRMnMQUrFj%2FaTGH%2BpR4GPqH0DlTQgnGMxS6msvLgeQM3jSKzrJIpFVA0uk2AdiZjHA4jF0AkRW1gotFzZlEZBOPTC0AuTMhixcMCi4RMl%2BUff11J1ozzb8%2FokQnZTlrmX3xVl98FeVmBunTqlqwMpcoKn%2Fil5%2FNgXdW6aueWErIMyZK7Nltvz5Y4Z12jdSRkoK%2B2BZn8PFHd9t7ix%2F10i627hiLWY5bqR4kAmTaNfpwa4dag1b9Ah%2Fh%2FEGq5QOhxK%2FOxY8efFZe8%3D&RelayState=oTUfIGBvXJ0ixG4G', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '59621', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c8cd50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga%2B4C40bAZhBBJQBc3vfCudGfSZLTY06H8e8vwIxpD4l3Pyfv2POdjfPW2bcgeDEqt0l7YD3oElNCVVM9p76Gce0nvKrsYKwzYpLUbdQ8vLaAlzqaQuXRKW6OY5ihdyLeAzApWTFZLFvUDtjPaaqEb%2BmUIzxs4IhjrYCiZfD6nWmG7BVOA2UsBD%2FfLlG6s3THfb7TgzUajZUmQxD4X6O9cRMnMQUrFj%2FaTGH%2BpR4GPqH0DlTQgnGMxS6msvLgeQM3jSKzrJIpFVA0uk2AdiZjHA4jF0AkRW1gotFzZlEZBOPTC0AuTMhixcMCi4RMl%2BUff11J1ozzb8%2FokQnZTlrmX3xVl98FeVmBunTqlqwMpcoKn%2Fil5%2FNgXdW6aueWErIMyZK7Nltvz5Y4Z12jdSRkoK%2B2BZn8PFHd9t7ix%2F10i627hiLWY5bqR4kAmTaNfpwa4dag1b9Ah%2Fh%2FEGq5QOhxK%2FOxY8efFZe8%3D&RelayState=oTUfIGBvXJ0ixG4G', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:13:30,606 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 10:13:30,607 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 10:13:30,609 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-7f3efa72cbf827c2d3680b2c7a73e7c4" IssueInstant="2014-11-18T09:13:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:13:30,613 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-7f3efa72cbf827c2d3680b2c7a73e7c4" IssueInstant="2014-11-18T09:13:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:13:30,615 saml2.entity:DEBUG Loaded request
2014-11-18 10:13:30,616 saml2.entity:DEBUG Verified request
2014-11-18 10:13:30,617 front:INFO parsed OK
2014-11-18 10:13:30,619 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-7f3efa72cbf827c2d3680b2c7a73e7c4" IssueInstant="2014-11-18T09:13:24Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:13:30,620 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:13:30,621 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:13:30,622 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 10:13:30,622 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:13:30,623 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:13:34,455 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga%2B4C40bAZhBBJQBc3vfCudGfSZLTY06H8e8vwIxpD4l3Pyfv2POdjfPW2bcgeDEqt0l7YD3oElNCVVM9p76Gce0nvKrsYKwzYpLUbdQ8vLaAlzqaQuXRKW6OY5ihdyLeAzApWTFZLFvUDtjPaaqEb%2BmUIzxs4IhjrYCiZfD6nWmG7BVOA2UsBD%2FfLlG6s3THfb7TgzUajZUmQxD4X6O9cRMnMQUrFj%2FaTGH%2BpR4GPqH0DlTQgnGMxS6msvLgeQM3jSKzrJIpFVA0uk2AdiZjHA4jF0AkRW1gotFzZlEZBOPTC0AuTMhixcMCi4RMl%2BUff11J1ozzb8%2FokQnZTlrmX3xVl98FeVmBunTqlqwMpcoKn%2Fil5%2FNgXdW6aueWErIMyZK7Nltvz5Y4Z12jdSRkoK%2B2BZn8PFHd9t7ix%2F10i627hiLWY5bqR4kAmTaNfpwa4dag1b9Ah%2Fh%2FEGq5QOhxK%2FOxY8efFZe8%3D&RelayState=oTUfIGBvXJ0ixG4G', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '59621', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c8cd50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga%2B4C40bAZhBBJQBc3vfCudGfSZLTY06H8e8vwIxpD4l3Pyfv2POdjfPW2bcgeDEqt0l7YD3oElNCVVM9p76Gce0nvKrsYKwzYpLUbdQ8vLaAlzqaQuXRKW6OY5ihdyLeAzApWTFZLFvUDtjPaaqEb%2BmUIzxs4IhjrYCiZfD6nWmG7BVOA2UsBD%2FfLlG6s3THfb7TgzUajZUmQxD4X6O9cRMnMQUrFj%2FaTGH%2BpR4GPqH0DlTQgnGMxS6msvLgeQM3jSKzrJIpFVA0uk2AdiZjHA4jF0AkRW1gotFzZlEZBOPTC0AuTMhixcMCi4RMl%2BUff11J1ozzb8%2FokQnZTlrmX3xVl98FeVmBunTqlqwMpcoKn%2Fil5%2FNgXdW6aueWErIMyZK7Nltvz5Y4Z12jdSRkoK%2B2BZn8PFHd9t7ix%2F10i627hiLWY5bqR4kAmTaNfpwa4dag1b9Ah%2Fh%2FEGq5QOhxK%2FOxY8efFZe8%3D&RelayState=oTUfIGBvXJ0ixG4G', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:13:34,457 back:DEBUG --- SSO ---
2014-11-18 10:13:34,457 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7ga%2B4C40bAZhBBJQBc3vfCudGfSZLTY06H8e8vwIxpD4l3Pyfv2POdjfPW2bcgeDEqt0l7YD3oElNCVVM9p76Gce0nvKrsYKwzYpLUbdQ8vLaAlzqaQuXRKW6OY5ihdyLeAzApWTFZLFvUDtjPaaqEb%2BmUIzxs4IhjrYCiZfD6nWmG7BVOA2UsBD%2FfLlG6s3THfb7TgzUajZUmQxD4X6O9cRMnMQUrFj%2FaTGH%2BpR4GPqH0DlTQgnGMxS6msvLgeQM3jSKzrJIpFVA0uk2AdiZjHA4jF0AkRW1gotFzZlEZBOPTC0AuTMhixcMCi4RMl%2BUff11J1ozzb8%2FokQnZTlrmX3xVl98FeVmBunTqlqwMpcoKn%2Fil5%2FNgXdW6aueWErIMyZK7Nltvz5Y4Z12jdSRkoK%2B2BZn8PFHd9t7ix%2F10i627hiLWY5bqR4kAmTaNfpwa4dag1b9Ah%2Fh%2FEGq5QOhxK%2FOxY8efFZe8%3D&RelayState=oTUfIGBvXJ0ixG4G'
2014-11-18 10:13:36,960 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:13:36,961 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:13:36,962 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 10:13:36,963 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 10:13:36,965 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-0cfe1dc5e62e1f6ae5b34ea6c43d1e02" IssueInstant="2014-11-18T09:13:36Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:13:36,967 saml2.entity:INFO HTTP REDIRECT
2014-11-18 10:13:36,968 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC3b8pWlYZcghEiCSmDx4K10B2mytNjpovx7y4caTeTgrTN5b%2Ba9ee3137cl2YNDbU1a43VWI2CULbR5SWvLfBwltX520zPIxKDyGzOH1wrQk0AzKEI7pZUzwkrUoZRbQOGVWAzup6JRZ2LnrLfKlvSLwK8TJCI4H8RQMvh8Dq3BagtuAW6vFSzn05RuvN%2BhiOPSKlluLHqRsC6LpcJ4FypKRkGlNvLIP6N%2FgZMkRrSxg0I7UIEwGaVUFxFTa%2BCFakOnAXzdkdBeNVsgO6rVLDiwRgAiVjAx6KXxKW0w3oo4j3iSs67gTdHsPFMyu%2Fi%2B1eZ0yqueV2cQirs8n0Wzx0VOydMlEhoANAv35%2BK015GxdVvpr088doKX9QkqwHjtDzT742Yho%2FdDPeTTi7%2FXZKfIH8KcyWhmS60OZFCW9m3oQHpI6VqWCPQfYryTBnWQREmcHTf%2B%2FFjZBw%3D%3D&RelayState=-807288883614993339')], 'data': [], 'method': 'GET'}
2014-11-18 10:13:54,366 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3912', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '59621', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?id=ncAsypjPbn5hfLHwHS7xyEwW&key=b79a5972e2cb3e541dccb4b9ebd23b1fab915a32', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c93f50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:13:54,367 back:DEBUG --- SSO ---
2014-11-18 10:13:56,656 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLWZkMGRlYmE3MTFjNTBmODgzYTU2ZDNiOGY0YzZiM2NkIiBJblJlc3BvbnNlVG89ImlkLTBjZmUxZGM1ZTYyZTFmNmFlNWIzNGVhNmM0M2QxZTAyIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTM6NDVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLTVkYzYwNThlMDFjMzQyODdiY2QwYjZmMWRiNGU2N2Y5IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTM6NDVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC0wY2ZlMWRjNWU2MmUxZjZhZTViMzRlYTZjNDNkMWUwMiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI4OjQ1WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjEzOjQ1WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI4OjQ1WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTM6NDVaIiBTZXNzaW9uSW5kZXg9ImlkLWM4MjM2ZWMxY2QyODE4NjVkYjk4NDdjMDlkMjBlOGQ5Ij48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['-807288883614993339']}
2014-11-18 10:13:56,656 service:DEBUG _dict: {'SAMLResponse': 'PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLWZkMGRlYmE3MTFjNTBmODgzYTU2ZDNiOGY0YzZiM2NkIiBJblJlc3BvbnNlVG89ImlkLTBjZmUxZGM1ZTYyZTFmNmFlNWIzNGVhNmM0M2QxZTAyIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTM6NDVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLTVkYzYwNThlMDFjMzQyODdiY2QwYjZmMWRiNGU2N2Y5IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTM6NDVaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC0wY2ZlMWRjNWU2MmUxZjZhZTViMzRlYTZjNDNkMWUwMiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI4OjQ1WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjEzOjQ1WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI4OjQ1WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTM6NDVaIiBTZXNzaW9uSW5kZXg9ImlkLWM4MjM2ZWMxY2QyODE4NjVkYjk4NDdjMDlkMjBlOGQ5Ij48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4=', 'RelayState': '-807288883614993339'}
2014-11-18 10:13:59,404 saml2.response:DEBUG xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-fd0deba711c50f883a56d3b8f4c6b3cd" InResponseTo="id-0cfe1dc5e62e1f6ae5b34ea6c43d1e02" IssueInstant="2014-11-18T09:13:45Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-5dc6058e01c34287bcd0b6f1db4e67f9" IssueInstant="2014-11-18T09:13:45Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-0cfe1dc5e62e1f6ae5b34ea6c43d1e02" NotOnOrAfter="2014-11-18T09:28:45Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:13:45Z" NotOnOrAfter="2014-11-18T09:28:45Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:13:45Z" SessionIndex="id-c8236ec1cd281865db9847c09d20e8d9"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:13:59,428 saml2.response:DEBUG response: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-fd0deba711c50f883a56d3b8f4c6b3cd" InResponseTo="id-0cfe1dc5e62e1f6ae5b34ea6c43d1e02" IssueInstant="2014-11-18T09:13:45Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-5dc6058e01c34287bcd0b6f1db4e67f9" IssueInstant="2014-11-18T09:13:45Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-0cfe1dc5e62e1f6ae5b34ea6c43d1e02" NotOnOrAfter="2014-11-18T09:28:45Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:13:45Z" NotOnOrAfter="2014-11-18T09:28:45Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:13:45Z" SessionIndex="id-c8236ec1cd281865db9847c09d20e8d9"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:13:59,433 saml2.entity:DEBUG XMLSTR: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-fd0deba711c50f883a56d3b8f4c6b3cd" InResponseTo="id-0cfe1dc5e62e1f6ae5b34ea6c43d1e02" IssueInstant="2014-11-18T09:13:45Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-5dc6058e01c34287bcd0b6f1db4e67f9" IssueInstant="2014-11-18T09:13:45Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-0cfe1dc5e62e1f6ae5b34ea6c43d1e02" NotOnOrAfter="2014-11-18T09:28:45Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:13:45Z" NotOnOrAfter="2014-11-18T09:28:45Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:13:45Z" SessionIndex="id-c8236ec1cd281865db9847c09d20e8d9"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:13:59,435 saml2.response:INFO status: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Status xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol"><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status>
2014-11-18 10:13:59,436 saml2.response:DEBUG ***Unencrypted assertion***
2014-11-18 10:13:59,436 saml2.response:DEBUG unsigned
2014-11-18 10:13:59,437 saml2.response:DEBUG assertion context: AuthnReq
2014-11-18 10:13:59,438 saml2.response:DEBUG assertion keys: ['authn_statement', 'attribute_statement', 'issue_instant', 'version', 'subject', 'conditions', 'id', 'issuer']
2014-11-18 10:13:59,439 saml2.response:DEBUG outstanding_queries: {'id-0cfe1dc5e62e1f6ae5b34ea6c43d1e02': -807288883614993339, -807288883614993339: (<saml2.samlp.AuthnRequest object at 0x105b6c290>, 'oTUfIGBvXJ0ixG4G')}
2014-11-18 10:13:59,440 saml2.response:DEBUG conditions: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Conditions xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" NotBefore="2014-11-18T09:13:45Z" NotOnOrAfter="2014-11-18T09:28:45Z"><ns0:AudienceRestriction><ns0:Audience>https://localhost:8090/proxy.xml</ns0:Audience></ns0:AudienceRestriction></ns0:Conditions>
2014-11-18 10:13:59,442 saml2.response:DEBUG --- Getting Identity ---
2014-11-18 10:13:59,445 saml2.response:DEBUG Attribute Statement: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AttributeStatement xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><ns0:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Hedberg</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">one!for!all</ns0:AttributeValue></ns0:Attribute></ns0:AttributeStatement>
2014-11-18 10:13:59,446 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:13:59,447 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:13:59,448 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:basic
2014-11-18 10:13:59,448 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:uri
2014-11-18 10:13:59,449 saml2.response:DEBUG Converts name format: urn:mace:shibboleth:1.0:attributeNamespace:uri
2014-11-18 10:13:59,450 saml2.response:DEBUG --- AVA: {'eduPersonTargetedID': ['one!for!all'], 'givenName': ['Roland'], 'uid': ['roland'], 'sn': ['Hedberg']}
2014-11-18 10:13:59,452 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:13:59,452 saml2.client_base:INFO --- ADDED person info ----
2014-11-18 10:14:05,327 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3912', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '59621', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?id=ncAsypjPbn5hfLHwHS7xyEwW&key=b79a5972e2cb3e541dccb4b9ebd23b1fab915a32', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108c93f50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:14:05,331 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:14:05,332 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:14:05,333 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:14:28,179 saml2.assertion:DEBUG required: [{'is_required': 'true', 'friendly_name': 'sn', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.4'}, {'is_required': 'true', 'friendly_name': 'givenname', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.42'}, {'is_required': 'true', 'friendly_name': 'uid', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:0.9.2342.19200300.100.1.1'}, {'is_required': 'true', 'friendly_name': 'edupersonaffiliation', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:1.3.6.1.4.1.5923.1.1.1.1'}], optional: [{'is_required': 'false', 'friendly_name': 'title', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.12'}]
2014-11-18 10:14:36,734 root:ERROR 'list' object has no attribute 'items'
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 178, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 140, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/back.py", line 164, in authn_response
    return self.outgoing(_response, self)
  File "/Users/rolandh/code/s2sproxy/server.py", line 74, in outgoing
    resp_args=resp_args, relay_state=relay_state, sign_response=True)
  File "/Users/rolandh/code/s2sproxy/front.py", line 128, in construct_authn_response
    **resp_args)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/server.py", line 553, in create_authn_response
    encrypt_cert=encrypt_cert)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/server.py", line 323, in _authn_response
    (AUTHN_DICT_MAP[k], v) for k, v in authn.items()
AttributeError: 'list' object has no attribute 'items'
2014-11-18 10:14:54,116 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa8fXaNgIQogkoAsML7yrXZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEYnDdokDSS1MIXSL0ljnU%2BDuDFMbwYaCBtVbquX8rWS4JC3aWA%2BneDKamY4KB%2FynQTmBFuNFnMWNQnbW%2BOMMCX%2BMtDrBg4grfMwGI0%2Bn2OjodpJu5L2oIRcL%2BcJ3jq3Z2FYGsHLrQHHYhL3Qi4g3PsIo4mHVJqf7Gcx%2FFL3SQhgQisLZaXwjtkkwaoIaKvXpZ1WHNNusRFdEbUJj4q26PEi3kT9lhcCVHKmwXHtEhwR2g4oDWickz6jbdYhTxhll75vla5HebXn57MI2F2eZ0H2sMrrDw6qkPbeqxO8OKJVhuDcP0aPl31h78apXw5lNZRFU2N33F0vd8r4Rje1lEntlDvi9O%2BBwr7pFzcIv0uk9S2csGaTzJRKHNGoLM3b2EruPOqGl%2BAR%2Fw%2FiLNegPA5GYXqq%2BPPi0g8%3D&RelayState=MmXHSMb4doTJQ3zV', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '60193', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105b91350>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa8fXaNgIQogkoAsML7yrXZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEYnDdokDSS1MIXSL0ljnU%2BDuDFMbwYaCBtVbquX8rWS4JC3aWA%2BneDKamY4KB%2FynQTmBFuNFnMWNQnbW%2BOMMCX%2BMtDrBg4grfMwGI0%2Bn2OjodpJu5L2oIRcL%2BcJ3jq3Z2FYGsHLrQHHYhL3Qi4g3PsIo4mHVJqf7Gcx%2FFL3SQhgQisLZaXwjtkkwaoIaKvXpZ1WHNNusRFdEbUJj4q26PEi3kT9lhcCVHKmwXHtEhwR2g4oDWickz6jbdYhTxhll75vla5HebXn57MI2F2eZ0H2sMrrDw6qkPbeqxO8OKJVhuDcP0aPl31h78apXw5lNZRFU2N33F0vd8r4Rje1lEntlDvi9O%2BBwr7pFzcIv0uk9S2csGaTzJRKHNGoLM3b2EruPOqGl%2BAR%2Fw%2FiLNegPA5GYXqq%2BPPi0g8%3D&RelayState=MmXHSMb4doTJQ3zV', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:14:55,230 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 10:14:55,231 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 10:14:55,232 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-13761538816dfc6c240a2d4c7ad8f293" IssueInstant="2014-11-18T09:14:50Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:14:55,236 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-13761538816dfc6c240a2d4c7ad8f293" IssueInstant="2014-11-18T09:14:50Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:14:55,237 saml2.entity:DEBUG Loaded request
2014-11-18 10:14:55,238 saml2.entity:DEBUG Verified request
2014-11-18 10:14:55,239 front:INFO parsed OK
2014-11-18 10:14:55,241 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-13761538816dfc6c240a2d4c7ad8f293" IssueInstant="2014-11-18T09:14:50Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:14:55,241 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:14:55,242 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:14:55,243 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 10:14:55,243 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:14:55,244 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:14:57,570 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa8fXaNgIQogkoAsML7yrXZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEYnDdokDSS1MIXSL0ljnU%2BDuDFMbwYaCBtVbquX8rWS4JC3aWA%2BneDKamY4KB%2FynQTmBFuNFnMWNQnbW%2BOMMCX%2BMtDrBg4grfMwGI0%2Bn2OjodpJu5L2oIRcL%2BcJ3jq3Z2FYGsHLrQHHYhL3Qi4g3PsIo4mHVJqf7Gcx%2FFL3SQhgQisLZaXwjtkkwaoIaKvXpZ1WHNNusRFdEbUJj4q26PEi3kT9lhcCVHKmwXHtEhwR2g4oDWickz6jbdYhTxhll75vla5HebXn57MI2F2eZ0H2sMrrDw6qkPbeqxO8OKJVhuDcP0aPl31h78apXw5lNZRFU2N33F0vd8r4Rje1lEntlDvi9O%2BBwr7pFzcIv0uk9S2csGaTzJRKHNGoLM3b2EruPOqGl%2BAR%2Fw%2FiLNegPA5GYXqq%2BPPi0g8%3D&RelayState=MmXHSMb4doTJQ3zV', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '60193', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105b91350>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa8fXaNgIQogkoAsML7yrXZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEYnDdokDSS1MIXSL0ljnU%2BDuDFMbwYaCBtVbquX8rWS4JC3aWA%2BneDKamY4KB%2FynQTmBFuNFnMWNQnbW%2BOMMCX%2BMtDrBg4grfMwGI0%2Bn2OjodpJu5L2oIRcL%2BcJ3jq3Z2FYGsHLrQHHYhL3Qi4g3PsIo4mHVJqf7Gcx%2FFL3SQhgQisLZaXwjtkkwaoIaKvXpZ1WHNNusRFdEbUJj4q26PEi3kT9lhcCVHKmwXHtEhwR2g4oDWickz6jbdYhTxhll75vla5HebXn57MI2F2eZ0H2sMrrDw6qkPbeqxO8OKJVhuDcP0aPl31h78apXw5lNZRFU2N33F0vd8r4Rje1lEntlDvi9O%2BBwr7pFzcIv0uk9S2csGaTzJRKHNGoLM3b2EruPOqGl%2BAR%2Fw%2FiLNegPA5GYXqq%2BPPi0g8%3D&RelayState=MmXHSMb4doTJQ3zV', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:14:57,572 back:DEBUG --- SSO ---
2014-11-18 10:14:57,572 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaa8fXaNgIQogkoAsML7yrXZEmo8WeDuXfWwZqNIbEu56T9%2B15zsdg%2BL4r0UFaUEYnDdokDSS1MIXSL0ljnU%2BDuDFMbwYaCBtVbquX8rWS4JC3aWA%2BneDKamY4KB%2FynQTmBFuNFnMWNQnbW%2BOMMCX%2BMtDrBg4grfMwGI0%2Bn2OjodpJu5L2oIRcL%2BcJ3jq3Z2FYGsHLrQHHYhL3Qi4g3PsIo4mHVJqf7Gcx%2FFL3SQhgQisLZaXwjtkkwaoIaKvXpZ1WHNNusRFdEbUJj4q26PEi3kT9lhcCVHKmwXHtEhwR2g4oDWickz6jbdYhTxhll75vla5HebXn57MI2F2eZ0H2sMrrDw6qkPbeqxO8OKJVhuDcP0aPl31h78apXw5lNZRFU2N33F0vd8r4Rje1lEntlDvi9O%2BBwr7pFzcIv0uk9S2csGaTzJRKHNGoLM3b2EruPOqGl%2BAR%2Fw%2FiLNegPA5GYXqq%2BPPi0g8%3D&RelayState=MmXHSMb4doTJQ3zV'
2014-11-18 10:14:58,768 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:14:58,769 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:14:58,771 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 10:14:58,772 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 10:14:58,775 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-bb43da19775ab4a979f501f80c08a607" IssueInstant="2014-11-18T09:14:58Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:14:58,777 saml2.entity:INFO HTTP REDIRECT
2014-11-18 10:14:58,779 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC3bIri7DbtkhRBJUAksHryVbleaLC12uij%2F3vKhRhM5eOtM3pt5b177g%2FdNjXbSgjI6bdE2aSGphSmVfklby2IcxK1BdtXXQFjeuLWey9dGgkOepoH5doobq5nhoHzJNxKYE2yR309Zp03Y1hpnhKnxF4FeJnAAaZ0Xg1H%2B%2BRwaDc1G2oW0OyXkcj5N8dq5LbAwrI3g9dqAYzFJSMgFhFtfYTTyKpXmB%2F4J%2FQscxyGACa0slZXCEyajFKsyWK261yWnSRT1%2BKrLkyipeoRWMREk5jck8kCARk40OK5dijuEdgNKAxoXJGG0y3rxM0azs%2B9bpY%2BnvOh5dQIBuyuKWTB7XBQYPZ0jwR6AM39%2Fyo57LRobu%2BHu8sRDx3upjlAmtVNuj7M%2FbuYzet%2B3fT798HtNdoz8wc%2BZjGamVmKP8ro2b0MruZMprngNEv9DjLNcg%2FKSMAqzw8afHyv7AA%3D%3D&RelayState=-8508864517331072109')], 'data': [], 'method': 'GET'}
2014-11-18 10:15:01,640 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3913', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '60252', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC3bIri7DbtkhRBJUAksHryVbleaLC12uij%2F3vKhRhM5eOtM3pt5b177g%2FdNjXbSgjI6bdE2aSGphSmVfklby2IcxK1BdtXXQFjeuLWey9dGgkOepoH5doobq5nhoHzJNxKYE2yR309Zp03Y1hpnhKnxF4FeJnAAaZ0Xg1H%2B%2BRwaDc1G2oW0OyXkcj5N8dq5LbAwrI3g9dqAYzFJSMgFhFtfYTTyKpXmB%2F4J%2FQscxyGACa0slZXCEyajFKsyWK261yWnSRT1%2BKrLkyipeoRWMREk5jck8kCARk40OK5dijuEdgNKAxoXJGG0y3rxM0azs%2B9bpY%2BnvOh5dQIBuyuKWTB7XBQYPZ0jwR6AM39%2Fyo57LRobu%2BHu8sRDx3upjlAmtVNuj7M%2FbuYzet%2B3fT798HtNdoz8wc%2BZjGamVmKP8ro2b0MruZMprngNEv9DjLNcg%2FKSMAqzw8afHyv7AA%3D%3D&RelayState=-8508864517331072109', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105b91410>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:15:01,642 back:DEBUG --- SSO ---
2014-11-18 10:15:02,861 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTM1MmQ0NTE2ZDFhMmU4NDExNzA4OTg4MzVmY2YxZmZlIiBJblJlc3BvbnNlVG89ImlkLWJiNDNkYTE5Nzc1YWI0YTk3OWY1MDFmODBjMDhhNjA3IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTQ6NThaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLWU5NDRkMWU1NGYzYjY0NWI0MDFlYjIwMTQzYzU5NzA1IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTQ6NThaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC1iYjQzZGExOTc3NWFiNGE5NzlmNTAxZjgwYzA4YTYwNyIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI5OjU4WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjE0OjU4WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI5OjU4WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTQ6NThaIiBTZXNzaW9uSW5kZXg9ImlkLTRmMmEzN2JmZmMyNTZkZWM1MDVhNDFhMjY5Njc1MWViIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['-8508864517331072109']}
2014-11-18 10:15:02,862 service:DEBUG _dict: {'SAMLResponse': 'PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTM1MmQ0NTE2ZDFhMmU4NDExNzA4OTg4MzVmY2YxZmZlIiBJblJlc3BvbnNlVG89ImlkLWJiNDNkYTE5Nzc1YWI0YTk3OWY1MDFmODBjMDhhNjA3IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTQ6NThaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLWU5NDRkMWU1NGYzYjY0NWI0MDFlYjIwMTQzYzU5NzA1IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTQ6NThaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC1iYjQzZGExOTc3NWFiNGE5NzlmNTAxZjgwYzA4YTYwNyIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI5OjU4WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjE0OjU4WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjI5OjU4WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTQ6NThaIiBTZXNzaW9uSW5kZXg9ImlkLTRmMmEzN2JmZmMyNTZkZWM1MDVhNDFhMjY5Njc1MWViIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4=', 'RelayState': '-8508864517331072109'}
2014-11-18 10:15:04,163 saml2.response:DEBUG xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-352d4516d1a2e841170898835fcf1ffe" InResponseTo="id-bb43da19775ab4a979f501f80c08a607" IssueInstant="2014-11-18T09:14:58Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-e944d1e54f3b645b401eb20143c59705" IssueInstant="2014-11-18T09:14:58Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-bb43da19775ab4a979f501f80c08a607" NotOnOrAfter="2014-11-18T09:29:58Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:14:58Z" NotOnOrAfter="2014-11-18T09:29:58Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:14:58Z" SessionIndex="id-4f2a37bffc256dec505a41a2696751eb"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:15:04,192 saml2.response:DEBUG response: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-352d4516d1a2e841170898835fcf1ffe" InResponseTo="id-bb43da19775ab4a979f501f80c08a607" IssueInstant="2014-11-18T09:14:58Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-e944d1e54f3b645b401eb20143c59705" IssueInstant="2014-11-18T09:14:58Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-bb43da19775ab4a979f501f80c08a607" NotOnOrAfter="2014-11-18T09:29:58Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:14:58Z" NotOnOrAfter="2014-11-18T09:29:58Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:14:58Z" SessionIndex="id-4f2a37bffc256dec505a41a2696751eb"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:15:04,197 saml2.entity:DEBUG XMLSTR: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-352d4516d1a2e841170898835fcf1ffe" InResponseTo="id-bb43da19775ab4a979f501f80c08a607" IssueInstant="2014-11-18T09:14:58Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-e944d1e54f3b645b401eb20143c59705" IssueInstant="2014-11-18T09:14:58Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-bb43da19775ab4a979f501f80c08a607" NotOnOrAfter="2014-11-18T09:29:58Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:14:58Z" NotOnOrAfter="2014-11-18T09:29:58Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:14:58Z" SessionIndex="id-4f2a37bffc256dec505a41a2696751eb"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:15:04,199 saml2.response:INFO status: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Status xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol"><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status>
2014-11-18 10:15:04,200 saml2.response:DEBUG ***Unencrypted assertion***
2014-11-18 10:15:04,201 saml2.response:DEBUG unsigned
2014-11-18 10:15:04,202 saml2.response:DEBUG assertion context: AuthnReq
2014-11-18 10:15:04,202 saml2.response:DEBUG assertion keys: ['authn_statement', 'attribute_statement', 'issue_instant', 'version', 'subject', 'conditions', 'id', 'issuer']
2014-11-18 10:15:04,203 saml2.response:DEBUG outstanding_queries: {'id-0cfe1dc5e62e1f6ae5b34ea6c43d1e02': -807288883614993339, -8508864517331072109: (<saml2.samlp.AuthnRequest object at 0x105b75150>, 'MmXHSMb4doTJQ3zV'), -807288883614993339: (<saml2.samlp.AuthnRequest object at 0x105b6c290>, 'oTUfIGBvXJ0ixG4G'), 'id-bb43da19775ab4a979f501f80c08a607': -8508864517331072109}
2014-11-18 10:15:04,205 saml2.response:DEBUG conditions: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Conditions xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" NotBefore="2014-11-18T09:14:58Z" NotOnOrAfter="2014-11-18T09:29:58Z"><ns0:AudienceRestriction><ns0:Audience>https://localhost:8090/proxy.xml</ns0:Audience></ns0:AudienceRestriction></ns0:Conditions>
2014-11-18 10:15:04,206 saml2.response:DEBUG --- Getting Identity ---
2014-11-18 10:15:04,209 saml2.response:DEBUG Attribute Statement: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AttributeStatement xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><ns0:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Hedberg</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">one!for!all</ns0:AttributeValue></ns0:Attribute></ns0:AttributeStatement>
2014-11-18 10:15:04,210 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:15:04,211 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:15:04,212 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:basic
2014-11-18 10:15:04,213 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:uri
2014-11-18 10:15:04,214 saml2.response:DEBUG Converts name format: urn:mace:shibboleth:1.0:attributeNamespace:uri
2014-11-18 10:15:04,214 saml2.response:DEBUG --- AVA: {'eduPersonTargetedID': ['one!for!all'], 'givenName': ['Roland'], 'uid': ['roland'], 'sn': ['Hedberg']}
2014-11-18 10:15:04,216 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:15:04,217 saml2.client_base:INFO --- ADDED person info ----
2014-11-18 10:15:05,481 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3913', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '60252', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC3bIri7DbtkhRBJUAksHryVbleaLC12uij%2F3vKhRhM5eOtM3pt5b177g%2FdNjXbSgjI6bdE2aSGphSmVfklby2IcxK1BdtXXQFjeuLWey9dGgkOepoH5doobq5nhoHzJNxKYE2yR309Zp03Y1hpnhKnxF4FeJnAAaZ0Xg1H%2B%2BRwaDc1G2oW0OyXkcj5N8dq5LbAwrI3g9dqAYzFJSMgFhFtfYTTyKpXmB%2F4J%2FQscxyGACa0slZXCEyajFKsyWK261yWnSRT1%2BKrLkyipeoRWMREk5jck8kCARk40OK5dijuEdgNKAxoXJGG0y3rxM0azs%2B9bpY%2BnvOh5dQIBuyuKWTB7XBQYPZ0jwR6AM39%2Fyo57LRobu%2BHu8sRDx3upjlAmtVNuj7M%2FbuYzet%2B3fT798HtNdoz8wc%2BZjGamVmKP8ro2b0MruZMprngNEv9DjLNcg%2FKSMAqzw8afHyv7AA%3D%3D&RelayState=-8508864517331072109', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105b91410>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:15:05,485 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:15:05,486 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:15:05,487 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:17:00,938 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 10:17:00,949 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 10:17:01,024 service:DEBUG ENVIRON: None
2014-11-18 10:17:01,025 saml2:INFO Logging started
2014-11-18 10:17:01,028 back:DEBUG --- SSO ---
2014-11-18 10:17:01,029 service:DEBUG ENVIRON: None
2014-11-18 10:17:01,049 root:INFO Server starting
2014-11-18 10:17:27,946 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaawfCaNgMQogkoItML7yr20GajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2FDq%2FdNRXZgURmdtHibtQjowpRKvySth3waxK2r9GKokYlR7db6Hl5rQEe8TaPw6YTWVgsjUflQbgCFK8RytJiLqM3E1hpnClPRLwM%2Fb5CIYJ2HoWT0%2BRwbjfUG7BLsThXwcD9P6Nq5rQjDyhSyWht0ImZxP5QFhlsfUTLxkErLg%2F0oxl%2FqAQsRTWihVBYK75hNEqrKgDEJPbnqX%2FaiZ%2BjFEHej7qrXYSWPBx3Zl16IWMNMo5PaJTRivBtwHvA4ZwPB%2ByLqPFGSnfq%2BVroZ5dmen48iFDd5ngXZ3TJvPtipEuytVyd0sSfLjOCxf0oeT%2Fui3k1TvxwuGihLpsZupDtf7pDxja4aqQDtlNvT9O%2BB4rbtFzcMv0ukzS0csGaTzFSq2JNRVZm3sQXpPOpKVugR%2Fw%2FirNSoPA4lYXqo%2BPPi0g8%3D&RelayState=DeMiY91xLK0SMEfK', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '61229', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a46d50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaawfCaNgMQogkoItML7yr20GajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2FDq%2FdNRXZgURmdtHibtQjowpRKvySth3waxK2r9GKokYlR7db6Hl5rQEe8TaPw6YTWVgsjUflQbgCFK8RytJiLqM3E1hpnClPRLwM%2Fb5CIYJ2HoWT0%2BRwbjfUG7BLsThXwcD9P6Nq5rQjDyhSyWht0ImZxP5QFhlsfUTLxkErLg%2F0oxl%2FqAQsRTWihVBYK75hNEqrKgDEJPbnqX%2FaiZ%2BjFEHej7qrXYSWPBx3Zl16IWMNMo5PaJTRivBtwHvA4ZwPB%2ByLqPFGSnfq%2BVroZ5dmen48iFDd5ngXZ3TJvPtipEuytVyd0sSfLjOCxf0oeT%2Fui3k1TvxwuGihLpsZupDtf7pDxja4aqQDtlNvT9O%2BB4rbtFzcMv0ukzS0csGaTzFSq2JNRVZm3sQXpPOpKVugR%2Fw%2FirNSoPA4lYXqo%2BPPi0g8%3D&RelayState=DeMiY91xLK0SMEfK', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:17:29,229 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 10:17:29,230 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 10:17:29,231 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-00ae6af7562be68e8424f630d1893a7a" IssueInstant="2014-11-18T09:17:23Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:17:29,235 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-00ae6af7562be68e8424f630d1893a7a" IssueInstant="2014-11-18T09:17:23Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:17:29,237 saml2.entity:DEBUG Loaded request
2014-11-18 10:17:29,238 saml2.entity:DEBUG Verified request
2014-11-18 10:17:29,238 front:INFO parsed OK
2014-11-18 10:17:29,240 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-00ae6af7562be68e8424f630d1893a7a" IssueInstant="2014-11-18T09:17:23Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:17:29,241 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:17:29,241 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:17:29,242 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 10:17:29,243 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:17:29,243 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:17:31,464 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaawfCaNgMQogkoItML7yr20GajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2FDq%2FdNRXZgURmdtHibtQjowpRKvySth3waxK2r9GKokYlR7db6Hl5rQEe8TaPw6YTWVgsjUflQbgCFK8RytJiLqM3E1hpnClPRLwM%2Fb5CIYJ2HoWT0%2BRwbjfUG7BLsThXwcD9P6Nq5rQjDyhSyWht0ImZxP5QFhlsfUTLxkErLg%2F0oxl%2FqAQsRTWihVBYK75hNEqrKgDEJPbnqX%2FaiZ%2BjFEHej7qrXYSWPBx3Zl16IWMNMo5PaJTRivBtwHvA4ZwPB%2ByLqPFGSnfq%2BVroZ5dmen48iFDd5ngXZ3TJvPtipEuytVyd0sSfLjOCxf0oeT%2Fui3k1TvxwuGihLpsZupDtf7pDxja4aqQDtlNvT9O%2BB4rbtFzcMv0ukzS0csGaTzFSq2JNRVZm3sQXpPOpKVugR%2Fw%2FirNSoPA4lYXqo%2BPPi0g8%3D&RelayState=DeMiY91xLK0SMEfK', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '61229', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108a46d50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaawfCaNgMQogkoItML7yr20GajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2FDq%2FdNRXZgURmdtHibtQjowpRKvySth3waxK2r9GKokYlR7db6Hl5rQEe8TaPw6YTWVgsjUflQbgCFK8RytJiLqM3E1hpnClPRLwM%2Fb5CIYJ2HoWT0%2BRwbjfUG7BLsThXwcD9P6Nq5rQjDyhSyWht0ImZxP5QFhlsfUTLxkErLg%2F0oxl%2FqAQsRTWihVBYK75hNEqrKgDEJPbnqX%2FaiZ%2BjFEHej7qrXYSWPBx3Zl16IWMNMo5PaJTRivBtwHvA4ZwPB%2ByLqPFGSnfq%2BVroZ5dmen48iFDd5ngXZ3TJvPtipEuytVyd0sSfLjOCxf0oeT%2Fui3k1TvxwuGihLpsZupDtf7pDxja4aqQDtlNvT9O%2BB4rbtFzcMv0ukzS0csGaTzFSq2JNRVZm3sQXpPOpKVugR%2Fw%2FirNSoPA4lYXqo%2BPPi0g8%3D&RelayState=DeMiY91xLK0SMEfK', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:17:31,466 back:DEBUG --- SSO ---
2014-11-18 10:17:31,466 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaawfCaNgMQogkoItML7yr20GajBZ7OpR%2Fbxmo0RgS73pO3rfnOR%2FDq%2FdNRXZgURmdtHibtQjowpRKvySth3waxK2r9GKokYlR7db6Hl5rQEe8TaPw6YTWVgsjUflQbgCFK8RytJiLqM3E1hpnClPRLwM%2Fb5CIYJ2HoWT0%2BRwbjfUG7BLsThXwcD9P6Nq5rQjDyhSyWht0ImZxP5QFhlsfUTLxkErLg%2F0oxl%2FqAQsRTWihVBYK75hNEqrKgDEJPbnqX%2FaiZ%2BjFEHej7qrXYSWPBx3Zl16IWMNMo5PaJTRivBtwHvA4ZwPB%2ByLqPFGSnfq%2BVroZ5dmen48iFDd5ngXZ3TJvPtipEuytVyd0sSfLjOCxf0oeT%2Fui3k1TvxwuGihLpsZupDtf7pDxja4aqQDtlNvT9O%2BB4rbtFzcMv0ukzS0csGaTzFSq2JNRVZm3sQXpPOpKVugR%2Fw%2FirNSoPA4lYXqo%2BPPi0g8%3D&RelayState=DeMiY91xLK0SMEfK'
2014-11-18 10:17:32,603 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:17:32,603 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:17:32,604 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 10:17:32,605 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 10:17:32,607 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-fbe17a8ad43abbcf622ea97f359491f2" IssueInstant="2014-11-18T09:17:32Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:17:32,609 saml2.entity:INFO HTTP REDIRECT
2014-11-18 10:17:32,610 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC27XVB2G3YJQogkqAQWD95KmZUmS4udLsq%2Ft3yo0UQO3jqT92bem9du731TkR1YVEZnDdaMGgS0NCulX7LGohgFSaOXX3U1Rrxfu7WewWsN6IinaeS%2BndHaam4EKl%2BKDSB3ks%2F79xMeNyO%2BtcYZaSr6RWCXCQIRrPNiKOl%2FPgdGY70BOwe7UxIWs0lG185tkYdhZaSo1gYdT6I0CoXEcOsrSoZepdLiwD%2Bhf4GTJEQ0oYWVsiA9YTzMqFoF5RJYRyRi1W6J5VKWN3EMIu2Ureu0nbIy9kDEGsYandAuo3HE2gFjAUuKKOWsw1vxMyXTs%2B9bpY%2BnvOh5eQIhvyuKaTB9nBeUPJ0joR5Ac39%2Fxo97LRkZuxHu8sRD5%2BDlCOWgnXJ7mv9xM5%2FR%2B77p8%2BmG32vyY%2BQPfs54ODWVknvSryrzNrAgHGS0FBUC%2FYcYZ4VG5SVREuaHjT8%2FVv4B&RelayState=-5923949969442425611')], 'data': [], 'method': 'GET'}
2014-11-18 10:17:37,124 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3913', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '61291', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC27XVB2G3YJQogkqAQWD95KmZUmS4udLsq%2Ft3yo0UQO3jqT92bem9du731TkR1YVEZnDdaMGgS0NCulX7LGohgFSaOXX3U1Rrxfu7WewWsN6IinaeS%2BndHaam4EKl%2BKDSB3ks%2F79xMeNyO%2BtcYZaSr6RWCXCQIRrPNiKOl%2FPgdGY70BOwe7UxIWs0lG185tkYdhZaSo1gYdT6I0CoXEcOsrSoZepdLiwD%2Bhf4GTJEQ0oYWVsiA9YTzMqFoF5RJYRyRi1W6J5VKWN3EMIu2Ureu0nbIy9kDEGsYandAuo3HE2gFjAUuKKOWsw1vxMyXTs%2B9bpY%2BnvOh5eQIhvyuKaTB9nBeUPJ0joR5Ac39%2Fxo97LRkZuxHu8sRD5%2BDlCOWgnXJ7mv9xM5%2FR%2B77p8%2BmG32vyY%2BQPfs54ODWVknvSryrzNrAgHGS0FBUC%2FYcYZ4VG5SVREuaHjT8%2FVv4B&RelayState=-5923949969442425611', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10772b450>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:17:37,125 back:DEBUG --- SSO ---
2014-11-18 10:17:42,231 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTY1MDgyZjFjODEyNjMzMTBkMzNkMzg5YzZkNTkxYWUwIiBJblJlc3BvbnNlVG89ImlkLWZiZTE3YThhZDQzYWJiY2Y2MjJlYTk3ZjM1OTQ5MWYyIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTc6MzJaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLWVhMzlhYTNkZDBhNGVkYTRjMzI0ZmQ3ZTkwYzhjYTljIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTc6MzJaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC1mYmUxN2E4YWQ0M2FiYmNmNjIyZWE5N2YzNTk0OTFmMiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjMyOjMyWiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjE3OjMyWiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjMyOjMyWiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTc6MzJaIiBTZXNzaW9uSW5kZXg9ImlkLTk1MThhYTJmNjMxNGIzODc2NjAwZTdjNDIxMzI3NDcyIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['-5923949969442425611']}
2014-11-18 10:17:42,231 service:DEBUG _dict: {'SAMLResponse': 'PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTY1MDgyZjFjODEyNjMzMTBkMzNkMzg5YzZkNTkxYWUwIiBJblJlc3BvbnNlVG89ImlkLWZiZTE3YThhZDQzYWJiY2Y2MjJlYTk3ZjM1OTQ5MWYyIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTc6MzJaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLWVhMzlhYTNkZDBhNGVkYTRjMzI0ZmQ3ZTkwYzhjYTljIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTc6MzJaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC1mYmUxN2E4YWQ0M2FiYmNmNjIyZWE5N2YzNTk0OTFmMiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjMyOjMyWiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjE3OjMyWiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjMyOjMyWiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTc6MzJaIiBTZXNzaW9uSW5kZXg9ImlkLTk1MThhYTJmNjMxNGIzODc2NjAwZTdjNDIxMzI3NDcyIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4=', 'RelayState': '-5923949969442425611'}
2014-11-18 10:17:43,185 saml2.response:DEBUG xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-65082f1c81263310d33d389c6d591ae0" InResponseTo="id-fbe17a8ad43abbcf622ea97f359491f2" IssueInstant="2014-11-18T09:17:32Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-ea39aa3dd0a4eda4c324fd7e90c8ca9c" IssueInstant="2014-11-18T09:17:32Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-fbe17a8ad43abbcf622ea97f359491f2" NotOnOrAfter="2014-11-18T09:32:32Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:17:32Z" NotOnOrAfter="2014-11-18T09:32:32Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:17:32Z" SessionIndex="id-9518aa2f6314b3876600e7c421327472"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:17:43,208 saml2.response:DEBUG response: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-65082f1c81263310d33d389c6d591ae0" InResponseTo="id-fbe17a8ad43abbcf622ea97f359491f2" IssueInstant="2014-11-18T09:17:32Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-ea39aa3dd0a4eda4c324fd7e90c8ca9c" IssueInstant="2014-11-18T09:17:32Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-fbe17a8ad43abbcf622ea97f359491f2" NotOnOrAfter="2014-11-18T09:32:32Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:17:32Z" NotOnOrAfter="2014-11-18T09:32:32Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:17:32Z" SessionIndex="id-9518aa2f6314b3876600e7c421327472"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:17:43,213 saml2.entity:DEBUG XMLSTR: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-65082f1c81263310d33d389c6d591ae0" InResponseTo="id-fbe17a8ad43abbcf622ea97f359491f2" IssueInstant="2014-11-18T09:17:32Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-ea39aa3dd0a4eda4c324fd7e90c8ca9c" IssueInstant="2014-11-18T09:17:32Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-fbe17a8ad43abbcf622ea97f359491f2" NotOnOrAfter="2014-11-18T09:32:32Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:17:32Z" NotOnOrAfter="2014-11-18T09:32:32Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:17:32Z" SessionIndex="id-9518aa2f6314b3876600e7c421327472"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:17:43,215 saml2.response:INFO status: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Status xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol"><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status>
2014-11-18 10:17:43,216 saml2.response:DEBUG ***Unencrypted assertion***
2014-11-18 10:17:43,216 saml2.response:DEBUG unsigned
2014-11-18 10:17:43,217 saml2.response:DEBUG assertion context: AuthnReq
2014-11-18 10:17:43,218 saml2.response:DEBUG assertion keys: ['authn_statement', 'attribute_statement', 'issue_instant', 'version', 'subject', 'conditions', 'id', 'issuer']
2014-11-18 10:17:43,218 saml2.response:DEBUG outstanding_queries: {'id-fbe17a8ad43abbcf622ea97f359491f2': -5923949969442425611, -5923949969442425611: (<saml2.samlp.AuthnRequest object at 0x10772bd90>, 'DeMiY91xLK0SMEfK')}
2014-11-18 10:17:43,220 saml2.response:DEBUG conditions: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Conditions xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" NotBefore="2014-11-18T09:17:32Z" NotOnOrAfter="2014-11-18T09:32:32Z"><ns0:AudienceRestriction><ns0:Audience>https://localhost:8090/proxy.xml</ns0:Audience></ns0:AudienceRestriction></ns0:Conditions>
2014-11-18 10:17:43,222 saml2.response:DEBUG --- Getting Identity ---
2014-11-18 10:17:43,225 saml2.response:DEBUG Attribute Statement: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AttributeStatement xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><ns0:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Hedberg</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">one!for!all</ns0:AttributeValue></ns0:Attribute></ns0:AttributeStatement>
2014-11-18 10:17:43,226 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:17:43,227 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:17:43,227 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:basic
2014-11-18 10:17:43,228 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:uri
2014-11-18 10:17:43,229 saml2.response:DEBUG Converts name format: urn:mace:shibboleth:1.0:attributeNamespace:uri
2014-11-18 10:17:43,230 saml2.response:DEBUG --- AVA: {'eduPersonTargetedID': ['one!for!all'], 'givenName': ['Roland'], 'uid': ['roland'], 'sn': ['Hedberg']}
2014-11-18 10:17:43,231 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:17:43,232 saml2.client_base:INFO --- ADDED person info ----
2014-11-18 10:17:44,754 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3913', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '61291', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC27XVB2G3YJQogkqAQWD95KmZUmS4udLsq%2Ft3yo0UQO3jqT92bem9du731TkR1YVEZnDdaMGgS0NCulX7LGohgFSaOXX3U1Rrxfu7WewWsN6IinaeS%2BndHaam4EKl%2BKDSB3ks%2F79xMeNyO%2BtcYZaSr6RWCXCQIRrPNiKOl%2FPgdGY70BOwe7UxIWs0lG185tkYdhZaSo1gYdT6I0CoXEcOsrSoZepdLiwD%2Bhf4GTJEQ0oYWVsiA9YTzMqFoF5RJYRyRi1W6J5VKWN3EMIu2Ureu0nbIy9kDEGsYandAuo3HE2gFjAUuKKOWsw1vxMyXTs%2B9bpY%2BnvOh5eQIhvyuKaTB9nBeUPJ0joR5Ac39%2Fxo97LRkZuxHu8sRD5%2BDlCOWgnXJ7mv9xM5%2FR%2B77p8%2BmG32vyY%2BQPfs54ODWVknvSryrzNrAgHGS0FBUC%2FYcYZ4VG5SVREuaHjT8%2FVv4B&RelayState=-5923949969442425611', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x10772b450>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:17:44,757 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:17:44,758 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:17:44,759 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:17:52,479 saml2.assertion:DEBUG required: [{'is_required': 'true', 'friendly_name': 'sn', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.4'}, {'is_required': 'true', 'friendly_name': 'givenname', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.42'}, {'is_required': 'true', 'friendly_name': 'uid', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:0.9.2342.19200300.100.1.1'}, {'is_required': 'true', 'friendly_name': 'edupersonaffiliation', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:1.3.6.1.4.1.5923.1.1.1.1'}], optional: [{'is_required': 'false', 'friendly_name': 'title', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.12'}]
2014-11-18 10:18:33,888 root:ERROR 'tuple' object has no attribute 'items'
Traceback (most recent call last):
  File "/Users/rolandh/code/s2sproxy/server.py", line 178, in application
    return run(spec, environ, start_response)
  File "/Users/rolandh/code/s2sproxy/server.py", line 140, in run
    return func(*spec[2:])
  File "/Users/rolandh/code/s2sproxy/back.py", line 164, in authn_response
    return self.outgoing(_response, self)
  File "/Users/rolandh/code/s2sproxy/server.py", line 74, in outgoing
    resp_args=resp_args, relay_state=relay_state, sign_response=True)
  File "/Users/rolandh/code/s2sproxy/front.py", line 128, in construct_authn_response
    **resp_args)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/server.py", line 553, in create_authn_response
    encrypt_cert=encrypt_cert)
  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/pysaml2-2.2.1beta-py2.7.egg/saml2/server.py", line 323, in _authn_response
    (AUTHN_DICT_MAP[k], v) for k, v in authn.items()
AttributeError: 'tuple' object has no attribute 'items'
2014-11-18 10:18:36,011 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLTsMwEEX3fIXlTVdp7BTaxGqCQquKSjwiEliwM4lDLSV28TiF%2Fj1OykMgVImdZ3Sv58xjfv7WNmgnDEit4hEdkxESqtSVVM%2Fx6L5YeeHoPDmZKyAs7exG3YmXToBFzqaAuXSMO6OY5iBdyFsBzJYsT6%2BvWDAmbGu01aVu8JeBHjdwAGGsg8Eo%2FXwutIKuFSYXZidLcX93FeONtVvm%2B40uebPRYFlIwpnPS%2FC3LsJo6SCl4r39IIZf6oj4ANo3opJGlM6xXsZYVl49nYQ1rcQ0mD7N6rOIRpNZEJ2FQVSd1hWpnRCgE2sFlisb44DQU49Sj4YFiRgN2YQ8YpR99H0h1TDKoz0%2FHUTALosi87LbvBg%2B2MlKmBunjvH1HuUZgkP%2FGD187As7N07ccigboAxaadNye7xcn%2BkbHaRMKCvtHid%2FDxS2Y7e4uf9dIhluocdaLzPdyHKP0qbRrwsjuHWoNW%2FAIf4fxBquQDocjPykr%2Fjz4pJ3&RelayState=SO8c0qN3T9jLZhp7', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '61680', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1058f6550>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLTsMwEEX3fIXlTVdp7BTaxGqCQquKSjwiEliwM4lDLSV28TiF%2Fj1OykMgVImdZ3Sv58xjfv7WNmgnDEit4hEdkxESqtSVVM%2Fx6L5YeeHoPDmZKyAs7exG3YmXToBFzqaAuXSMO6OY5iBdyFsBzJYsT6%2BvWDAmbGu01aVu8JeBHjdwAGGsg8Eo%2FXwutIKuFSYXZidLcX93FeONtVvm%2B40uebPRYFlIwpnPS%2FC3LsJo6SCl4r39IIZf6oj4ANo3opJGlM6xXsZYVl49nYQ1rcQ0mD7N6rOIRpNZEJ2FQVSd1hWpnRCgE2sFlisb44DQU49Sj4YFiRgN2YQ8YpR99H0h1TDKoz0%2FHUTALosi87LbvBg%2B2MlKmBunjvH1HuUZgkP%2FGD187As7N07ccigboAxaadNye7xcn%2BkbHaRMKCvtHid%2FDxS2Y7e4uf9dIhluocdaLzPdyHKP0qbRrwsjuHWoNW%2FAIf4fxBquQDocjPykr%2Fjz4pJ3&RelayState=SO8c0qN3T9jLZhp7', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:18:36,836 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 10:18:36,837 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 10:18:36,837 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-f638f1de626b7f591937295829d4fd0f" IssueInstant="2014-11-18T09:18:30Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:18:36,842 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-f638f1de626b7f591937295829d4fd0f" IssueInstant="2014-11-18T09:18:30Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:18:36,843 saml2.entity:DEBUG Loaded request
2014-11-18 10:18:36,844 saml2.entity:DEBUG Verified request
2014-11-18 10:18:36,845 front:INFO parsed OK
2014-11-18 10:18:36,847 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-f638f1de626b7f591937295829d4fd0f" IssueInstant="2014-11-18T09:18:30Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:18:36,847 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:18:36,848 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:18:36,848 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 10:18:36,849 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:18:36,850 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:18:39,086 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLLTsMwEEX3fIXlTVdp7BTaxGqCQquKSjwiEliwM4lDLSV28TiF%2Fj1OykMgVImdZ3Sv58xjfv7WNmgnDEit4hEdkxESqtSVVM%2Fx6L5YeeHoPDmZKyAs7exG3YmXToBFzqaAuXSMO6OY5iBdyFsBzJYsT6%2BvWDAmbGu01aVu8JeBHjdwAGGsg8Eo%2FXwutIKuFSYXZidLcX93FeONtVvm%2B40uebPRYFlIwpnPS%2FC3LsJo6SCl4r39IIZf6oj4ANo3opJGlM6xXsZYVl49nYQ1rcQ0mD7N6rOIRpNZEJ2FQVSd1hWpnRCgE2sFlisb44DQU49Sj4YFiRgN2YQ8YpR99H0h1TDKoz0%2FHUTALosi87LbvBg%2B2MlKmBunjvH1HuUZgkP%2FGD187As7N07ccigboAxaadNye7xcn%2BkbHaRMKCvtHid%2FDxS2Y7e4uf9dIhluocdaLzPdyHKP0qbRrwsjuHWoNW%2FAIf4fxBquQDocjPykr%2Fjz4pJ3&RelayState=SO8c0qN3T9jLZhp7', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '61680', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1058f6550>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLLTsMwEEX3fIXlTVdp7BTaxGqCQquKSjwiEliwM4lDLSV28TiF%2Fj1OykMgVImdZ3Sv58xjfv7WNmgnDEit4hEdkxESqtSVVM%2Fx6L5YeeHoPDmZKyAs7exG3YmXToBFzqaAuXSMO6OY5iBdyFsBzJYsT6%2BvWDAmbGu01aVu8JeBHjdwAGGsg8Eo%2FXwutIKuFSYXZidLcX93FeONtVvm%2B40uebPRYFlIwpnPS%2FC3LsJo6SCl4r39IIZf6oj4ANo3opJGlM6xXsZYVl49nYQ1rcQ0mD7N6rOIRpNZEJ2FQVSd1hWpnRCgE2sFlisb44DQU49Sj4YFiRgN2YQ8YpR99H0h1TDKoz0%2FHUTALosi87LbvBg%2B2MlKmBunjvH1HuUZgkP%2FGD187As7N07ccigboAxaadNye7xcn%2BkbHaRMKCvtHid%2FDxS2Y7e4uf9dIhluocdaLzPdyHKP0qbRrwsjuHWoNW%2FAIf4fxBquQDocjPykr%2Fjz4pJ3&RelayState=SO8c0qN3T9jLZhp7', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:18:39,088 back:DEBUG --- SSO ---
2014-11-18 10:18:39,089 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZLLTsMwEEX3fIXlTVdp7BTaxGqCQquKSjwiEliwM4lDLSV28TiF%2Fj1OykMgVImdZ3Sv58xjfv7WNmgnDEit4hEdkxESqtSVVM%2Fx6L5YeeHoPDmZKyAs7exG3YmXToBFzqaAuXSMO6OY5iBdyFsBzJYsT6%2BvWDAmbGu01aVu8JeBHjdwAGGsg8Eo%2FXwutIKuFSYXZidLcX93FeONtVvm%2B40uebPRYFlIwpnPS%2FC3LsJo6SCl4r39IIZf6oj4ANo3opJGlM6xXsZYVl49nYQ1rcQ0mD7N6rOIRpNZEJ2FQVSd1hWpnRCgE2sFlisb44DQU49Sj4YFiRgN2YQ8YpR99H0h1TDKoz0%2FHUTALosi87LbvBg%2B2MlKmBunjvH1HuUZgkP%2FGD187As7N07ccigboAxaadNye7xcn%2BkbHaRMKCvtHid%2FDxS2Y7e4uf9dIhluocdaLzPdyHKP0qbRrwsjuHWoNW%2FAIf4fxBquQDocjPykr%2Fjz4pJ3&RelayState=SO8c0qN3T9jLZhp7'
2014-11-18 10:18:40,058 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:18:40,059 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:18:40,060 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 10:18:40,061 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 10:18:40,063 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-bdaebda52a5be532182cdc952fc88007" IssueInstant="2014-11-18T09:18:40Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:18:40,065 saml2.entity:INFO HTTP REDIRECT
2014-11-18 10:18:40,067 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC3brhJLwy5BiJEElcDiwVvpDtJkabHTRfn3FvyKJnLw0GRm8t7Mm3nt9V83NdmBR%2BNs3uJt1iJgtauMfcpbi%2FI6Ea1%2BcdazyOSgCWs7g%2BcGMJBIsyhjOaeNt9IpNDFVG0AZtJwPbicyazO59S447Wr6ReCnCQoRfIhiKBl8hkNnsdmAn4PfGQ2L2SSn6xC2KNO0dlrVa4dBCtZlqdKYbmNGySiqNFYd%2BO%2FoX2AhUkSXeqiMBx0J41FOTZUsKwXxdTLVWULnPOMi05XudrKVFoKxywhEbGBsMSgbcpoxfpFwnnBRsq7kQl6wR0qmH3tfGXs85cmdl%2B8glDdlOU2m9%2FOSkocPS2gE0CLen8vjXE%2Bund%2BocLrjoRJ3WR2hEmwwYU%2BLP24WPXrdt6M%2FvfR7THG0%2FC72GY%2BmrjZ6TwZ17V6GHlSAnK5UjUD%2FISZ4ZdFESZSkxWHiz49VvAE%3D&RelayState=-2165952463229241435')], 'data': [], 'method': 'GET'}
2014-11-18 10:18:42,228 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3913', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '61291', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC3brhJLwy5BiJEElcDiwVvpDtJkabHTRfn3FvyKJnLw0GRm8t7Mm3nt9V83NdmBR%2BNs3uJt1iJgtauMfcpbi%2FI6Ea1%2BcdazyOSgCWs7g%2BcGMJBIsyhjOaeNt9IpNDFVG0AZtJwPbicyazO59S447Wr6ReCnCQoRfIhiKBl8hkNnsdmAn4PfGQ2L2SSn6xC2KNO0dlrVa4dBCtZlqdKYbmNGySiqNFYd%2BO%2FoX2AhUkSXeqiMBx0J41FOTZUsKwXxdTLVWULnPOMi05XudrKVFoKxywhEbGBsMSgbcpoxfpFwnnBRsq7kQl6wR0qmH3tfGXs85cmdl%2B8glDdlOU2m9%2FOSkocPS2gE0CLen8vjXE%2Bund%2BocLrjoRJ3WR2hEmwwYU%2BLP24WPXrdt6M%2FvfR7THG0%2FC72GY%2BmrjZ6TwZ17V6GHlSAnK5UjUD%2FISZ4ZdFESZSkxWHiz49VvAE%3D&RelayState=-2165952463229241435', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1058dc890>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:18:42,230 back:DEBUG --- SSO ---
2014-11-18 10:18:43,755 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTc4ZmY5YjZhODczYjJmOWE5MWUwN2YxZGIwZDE0NmFkIiBJblJlc3BvbnNlVG89ImlkLWJkYWViZGE1MmE1YmU1MzIxODJjZGM5NTJmYzg4MDA3IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTg6NDBaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLWJhZDdjYTJkYWI5YzRjOGI3MTQzZTQxNWRlMjUxZDRlIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTg6NDBaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC1iZGFlYmRhNTJhNWJlNTMyMTgyY2RjOTUyZmM4ODAwNyIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjMzOjQwWiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjE4OjQwWiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjMzOjQwWiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTg6NDBaIiBTZXNzaW9uSW5kZXg9ImlkLTZkMjNkYzYxMGIyMGIyY2ViZDVmMWYyNTBjNDQzNzMwIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['-2165952463229241435']}
2014-11-18 10:18:43,756 service:DEBUG _dict: {'SAMLResponse': 'PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTc4ZmY5YjZhODczYjJmOWE5MWUwN2YxZGIwZDE0NmFkIiBJblJlc3BvbnNlVG89ImlkLWJkYWViZGE1MmE1YmU1MzIxODJjZGM5NTJmYzg4MDA3IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTg6NDBaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLWJhZDdjYTJkYWI5YzRjOGI3MTQzZTQxNWRlMjUxZDRlIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTg6NDBaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC1iZGFlYmRhNTJhNWJlNTMyMTgyY2RjOTUyZmM4ODAwNyIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjMzOjQwWiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjE4OjQwWiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjMzOjQwWiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MTg6NDBaIiBTZXNzaW9uSW5kZXg9ImlkLTZkMjNkYzYxMGIyMGIyY2ViZDVmMWYyNTBjNDQzNzMwIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4=', 'RelayState': '-2165952463229241435'}
2014-11-18 10:18:44,997 saml2.response:DEBUG xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-78ff9b6a873b2f9a91e07f1db0d146ad" InResponseTo="id-bdaebda52a5be532182cdc952fc88007" IssueInstant="2014-11-18T09:18:40Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-bad7ca2dab9c4c8b7143e415de251d4e" IssueInstant="2014-11-18T09:18:40Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-bdaebda52a5be532182cdc952fc88007" NotOnOrAfter="2014-11-18T09:33:40Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:18:40Z" NotOnOrAfter="2014-11-18T09:33:40Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:18:40Z" SessionIndex="id-6d23dc610b20b2cebd5f1f250c443730"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:18:45,024 saml2.response:DEBUG response: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-78ff9b6a873b2f9a91e07f1db0d146ad" InResponseTo="id-bdaebda52a5be532182cdc952fc88007" IssueInstant="2014-11-18T09:18:40Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-bad7ca2dab9c4c8b7143e415de251d4e" IssueInstant="2014-11-18T09:18:40Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-bdaebda52a5be532182cdc952fc88007" NotOnOrAfter="2014-11-18T09:33:40Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:18:40Z" NotOnOrAfter="2014-11-18T09:33:40Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:18:40Z" SessionIndex="id-6d23dc610b20b2cebd5f1f250c443730"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:18:45,030 saml2.entity:DEBUG XMLSTR: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-78ff9b6a873b2f9a91e07f1db0d146ad" InResponseTo="id-bdaebda52a5be532182cdc952fc88007" IssueInstant="2014-11-18T09:18:40Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-bad7ca2dab9c4c8b7143e415de251d4e" IssueInstant="2014-11-18T09:18:40Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-bdaebda52a5be532182cdc952fc88007" NotOnOrAfter="2014-11-18T09:33:40Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:18:40Z" NotOnOrAfter="2014-11-18T09:33:40Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:18:40Z" SessionIndex="id-6d23dc610b20b2cebd5f1f250c443730"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:18:45,031 saml2.response:INFO status: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Status xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol"><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status>
2014-11-18 10:18:45,032 saml2.response:DEBUG ***Unencrypted assertion***
2014-11-18 10:18:45,033 saml2.response:DEBUG unsigned
2014-11-18 10:18:45,034 saml2.response:DEBUG assertion context: AuthnReq
2014-11-18 10:18:45,034 saml2.response:DEBUG assertion keys: ['authn_statement', 'attribute_statement', 'issue_instant', 'version', 'subject', 'conditions', 'id', 'issuer']
2014-11-18 10:18:45,035 saml2.response:DEBUG outstanding_queries: {'id-fbe17a8ad43abbcf622ea97f359491f2': -5923949969442425611, 'id-bdaebda52a5be532182cdc952fc88007': -2165952463229241435, -5923949969442425611: (<saml2.samlp.AuthnRequest object at 0x10772bd90>, 'DeMiY91xLK0SMEfK'), -2165952463229241435: (<saml2.samlp.AuthnRequest object at 0x1058dccd0>, 'SO8c0qN3T9jLZhp7')}
2014-11-18 10:18:45,037 saml2.response:DEBUG conditions: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Conditions xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" NotBefore="2014-11-18T09:18:40Z" NotOnOrAfter="2014-11-18T09:33:40Z"><ns0:AudienceRestriction><ns0:Audience>https://localhost:8090/proxy.xml</ns0:Audience></ns0:AudienceRestriction></ns0:Conditions>
2014-11-18 10:18:45,039 saml2.response:DEBUG --- Getting Identity ---
2014-11-18 10:18:45,042 saml2.response:DEBUG Attribute Statement: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AttributeStatement xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><ns0:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Hedberg</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">one!for!all</ns0:AttributeValue></ns0:Attribute></ns0:AttributeStatement>
2014-11-18 10:18:45,042 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:18:45,043 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:18:45,044 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:basic
2014-11-18 10:18:45,045 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:uri
2014-11-18 10:18:45,045 saml2.response:DEBUG Converts name format: urn:mace:shibboleth:1.0:attributeNamespace:uri
2014-11-18 10:18:45,046 saml2.response:DEBUG --- AVA: {'eduPersonTargetedID': ['one!for!all'], 'givenName': ['Roland'], 'uid': ['roland'], 'sn': ['Hedberg']}
2014-11-18 10:18:45,048 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:18:45,049 saml2.client_base:INFO --- ADDED person info ----
2014-11-18 10:18:46,962 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="bmNBc3lwalBibjVoZkxId0hTN3h5RXdXOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3913', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '61291', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=nVJNTwIxEL37K5peOC3brhJLwy5BiJEElcDiwVvpDtJkabHTRfn3FvyKJnLw0GRm8t7Mm3nt9V83NdmBR%2BNs3uJt1iJgtauMfcpbi%2FI6Ea1%2BcdazyOSgCWs7g%2BcGMJBIsyhjOaeNt9IpNDFVG0AZtJwPbicyazO59S447Wr6ReCnCQoRfIhiKBl8hkNnsdmAn4PfGQ2L2SSn6xC2KNO0dlrVa4dBCtZlqdKYbmNGySiqNFYd%2BO%2FoX2AhUkSXeqiMBx0J41FOTZUsKwXxdTLVWULnPOMi05XudrKVFoKxywhEbGBsMSgbcpoxfpFwnnBRsq7kQl6wR0qmH3tfGXs85cmdl%2B8glDdlOU2m9%2FOSkocPS2gE0CLen8vjXE%2Bund%2BocLrjoRJ3WR2hEmwwYU%2BLP24WPXrdt6M%2FvfR7THG0%2FC72GY%2BmrjZ6TwZ17V6GHlSAnK5UjUD%2FISZ4ZdFESZSkxWHiz49VvAE%3D&RelayState=-2165952463229241435', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x1058dc890>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:18:46,967 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:18:46,967 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:18:46,968 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:26:02,243 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 10:26:02,256 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 10:26:02,332 service:DEBUG ENVIRON: None
2014-11-18 10:26:02,333 saml2:INFO Logging started
2014-11-18 10:26:02,335 back:DEBUG --- SSO ---
2014-11-18 10:26:02,335 service:DEBUG ENVIRON: None
2014-11-18 10:26:02,356 root:INFO Server starting
2014-11-18 10:26:16,152 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNTwIxEIbv%2FoqmF07LthuBpWHXoIRIgrqR1YO30h2kydJip4vy7y2LH9EYEm%2Bdyft2nvkYXbxtarIDh9qarMO7rEPAKFtp85x1HspplHYu8rORQSbGjV%2Bbe3hpAD0JNoMipDPaOCOsRB1CuQEUXonF%2BGYuki4TW2e9VbamXwZ%2B2iARwfkAQ8n483llDTYbcAtwO63g4X6e0bX3WxHHtVWyXlv0ImXpIJYK422IKJkESG3kwX4U4y%2F1kMWINnZQaQcqOGaTjOoqYtUw6Z1zqVYDvlr2Ia1YbwmDdMAT6PWrXhAiNjAz6KXxGU0YP484j3hasqFI%2BoInT5QUH31fatOO8mTPy6MIxXVZFlFxtyjbD3a6Ancb1Bm92ZNFQfDYPyWPH%2FuiwU3zsBwuWihHptZtpD9d7pAJja5aqQDjtd%2FT%2FO%2BB4rYbFjeKv0vk7S0csGaTwtZa7cm4ru3rlQPpA%2BpK1hgQ%2Fw%2FinTSoAw4lcX6o%2BPPi8nc%3D&RelayState=n9Vu0zWPl2yBcpU9', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '64774', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108d8dd50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07LthuBpWHXoIRIgrqR1YO30h2kydJip4vy7y2LH9EYEm%2Bdyft2nvkYXbxtarIDh9qarMO7rEPAKFtp85x1HspplHYu8rORQSbGjV%2Bbe3hpAD0JNoMipDPaOCOsRB1CuQEUXonF%2BGYuki4TW2e9VbamXwZ%2B2iARwfkAQ8n483llDTYbcAtwO63g4X6e0bX3WxHHtVWyXlv0ImXpIJYK422IKJkESG3kwX4U4y%2F1kMWINnZQaQcqOGaTjOoqYtUw6Z1zqVYDvlr2Ia1YbwmDdMAT6PWrXhAiNjAz6KXxGU0YP484j3hasqFI%2BoInT5QUH31fatOO8mTPy6MIxXVZFlFxtyjbD3a6Ancb1Bm92ZNFQfDYPyWPH%2FuiwU3zsBwuWihHptZtpD9d7pAJja5aqQDjtd%2FT%2FO%2BB4rYbFjeKv0vk7S0csGaTwtZa7cm4ru3rlQPpA%2BpK1hgQ%2Fw%2FinTSoAw4lcX6o%2BPPi8nc%3D&RelayState=n9Vu0zWPl2yBcpU9', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:26:17,287 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 10:26:17,288 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 10:26:17,289 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-0d92541acf71fb6e8d05be78712e56d5" IssueInstant="2014-11-18T09:26:12Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:26:17,293 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-0d92541acf71fb6e8d05be78712e56d5" IssueInstant="2014-11-18T09:26:12Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:26:17,295 saml2.entity:DEBUG Loaded request
2014-11-18 10:26:17,296 saml2.entity:DEBUG Verified request
2014-11-18 10:26:17,296 front:INFO parsed OK
2014-11-18 10:26:17,298 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-0d92541acf71fb6e8d05be78712e56d5" IssueInstant="2014-11-18T09:26:12Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:26:17,299 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:26:17,300 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:26:17,300 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 10:26:17,301 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:26:17,302 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:26:19,606 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJNTwIxEIbv%2FoqmF07LthuBpWHXoIRIgrqR1YO30h2kydJip4vy7y2LH9EYEm%2Bdyft2nvkYXbxtarIDh9qarMO7rEPAKFtp85x1HspplHYu8rORQSbGjV%2Bbe3hpAD0JNoMipDPaOCOsRB1CuQEUXonF%2BGYuki4TW2e9VbamXwZ%2B2iARwfkAQ8n483llDTYbcAtwO63g4X6e0bX3WxHHtVWyXlv0ImXpIJYK422IKJkESG3kwX4U4y%2F1kMWINnZQaQcqOGaTjOoqYtUw6Z1zqVYDvlr2Ia1YbwmDdMAT6PWrXhAiNjAz6KXxGU0YP484j3hasqFI%2BoInT5QUH31fatOO8mTPy6MIxXVZFlFxtyjbD3a6Ancb1Bm92ZNFQfDYPyWPH%2FuiwU3zsBwuWihHptZtpD9d7pAJja5aqQDjtd%2FT%2FO%2BB4rYbFjeKv0vk7S0csGaTwtZa7cm4ru3rlQPpA%2BpK1hgQ%2Fw%2FinTSoAw4lcX6o%2BPPi8nc%3D&RelayState=n9Vu0zWPl2yBcpU9', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '64774', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108d8dd50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07LthuBpWHXoIRIgrqR1YO30h2kydJip4vy7y2LH9EYEm%2Bdyft2nvkYXbxtarIDh9qarMO7rEPAKFtp85x1HspplHYu8rORQSbGjV%2Bbe3hpAD0JNoMipDPaOCOsRB1CuQEUXonF%2BGYuki4TW2e9VbamXwZ%2B2iARwfkAQ8n483llDTYbcAtwO63g4X6e0bX3WxHHtVWyXlv0ImXpIJYK422IKJkESG3kwX4U4y%2F1kMWINnZQaQcqOGaTjOoqYtUw6Z1zqVYDvlr2Ia1YbwmDdMAT6PWrXhAiNjAz6KXxGU0YP484j3hasqFI%2BoInT5QUH31fatOO8mTPy6MIxXVZFlFxtyjbD3a6Ancb1Bm92ZNFQfDYPyWPH%2FuiwU3zsBwuWihHptZtpD9d7pAJja5aqQDjtd%2FT%2FO%2BB4rYbFjeKv0vk7S0csGaTwtZa7cm4ru3rlQPpA%2BpK1hgQ%2Fw%2FinTSoAw4lcX6o%2BPPi8nc%3D&RelayState=n9Vu0zWPl2yBcpU9', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:26:19,608 back:DEBUG --- SSO ---
2014-11-18 10:26:19,609 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZJNTwIxEIbv%2FoqmF07LthuBpWHXoIRIgrqR1YO30h2kydJip4vy7y2LH9EYEm%2Bdyft2nvkYXbxtarIDh9qarMO7rEPAKFtp85x1HspplHYu8rORQSbGjV%2Bbe3hpAD0JNoMipDPaOCOsRB1CuQEUXonF%2BGYuki4TW2e9VbamXwZ%2B2iARwfkAQ8n483llDTYbcAtwO63g4X6e0bX3WxHHtVWyXlv0ImXpIJYK422IKJkESG3kwX4U4y%2F1kMWINnZQaQcqOGaTjOoqYtUw6Z1zqVYDvlr2Ia1YbwmDdMAT6PWrXhAiNjAz6KXxGU0YP484j3hasqFI%2BoInT5QUH31fatOO8mTPy6MIxXVZFlFxtyjbD3a6Ancb1Bm92ZNFQfDYPyWPH%2FuiwU3zsBwuWihHptZtpD9d7pAJja5aqQDjtd%2FT%2FO%2BB4rYbFjeKv0vk7S0csGaTwtZa7cm4ru3rlQPpA%2BpK1hgQ%2Fw%2FinTSoAw4lcX6o%2BPPi8nc%3D&RelayState=n9Vu0zWPl2yBcpU9'
2014-11-18 10:26:20,879 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:26:20,879 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:26:20,880 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 10:26:20,882 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 10:26:20,884 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-4b8139c4e23e71d3cc6163befb6c04ae" IssueInstant="2014-11-18T09:26:20Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:26:20,887 saml2.entity:INFO HTTP REDIRECT
2014-11-18 10:26:20,888 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=lVJNTwIxEL37K5peOC3bLgSXhl2CECIJKoHFg7dSBmmytNjpIvx7y4caTSTx1pm8N%2FPmvXa6%2B01JduBQW5PVeJ3VCBhll9q8ZrV5MYzSWje%2F6Rhkolf5tZnCWwXoSaAZFKGd0coZYSXqUMoNoPBKzHoPY5HUmdg6662yJf0i8OsEiQjOBzGU9D6ffWuw2oCbgdtpBfPpOKNr77co4ri0SpZri16krM1iqTDehoqSQVCpjTzyz%2Bhf4DSNEW3sYKkdqEAYDTKql1FzkfJGWzUhacAtXzaUavFWYwGrRUuxpoQARKxgZNBL4zOaMN6MOI94WrC2SFoiYS%2BUTC5332lzsvLqzYszCMV9UUyiydOsoOT5EgkNAJoH%2F7k47XVkaN1G%2BusTj51wy%2BoEFWC89gea%2F%2BFZyGh%2FqId8OvH3mvwU%2BWOYMxpMbKnVgfTK0r73HUgPGV3JEoMX%2FxfjnTSogyRK4vy48efHyj8A&RelayState=270711263112622275')], 'data': [], 'method': 'GET'}
2014-11-18 10:26:38,073 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="Z1c0WUl3ckV5WE1rMHYwTkl0b1AxVTBjOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3911', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '64892', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?id=gW4YIwrEyXMk0v0NItoP1U0c&key=c4175acb18591be70d286742b6c4bc73a47980e2', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108d93510>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:26:38,074 back:DEBUG --- SSO ---
2014-11-18 10:26:39,713 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLThjZTA0ZGUwZjdiN2ZhZTFiODk4OWI1ZTIxODc5YTE1IiBJblJlc3BvbnNlVG89ImlkLTRiODEzOWM0ZTIzZTcxZDNjYzYxNjNiZWZiNmMwNGFlIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MjY6MjhaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLWM2ODEzNjQzZjAzNjE5NTY5YjBiNTMzOTAyMWIzODU1IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MjY6MjhaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC00YjgxMzljNGUyM2U3MWQzY2M2MTYzYmVmYjZjMDRhZSIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjQxOjI4WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjI2OjI4WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjQxOjI4WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MjY6MjhaIiBTZXNzaW9uSW5kZXg9ImlkLTk4ZGQzN2FlMWQ2YTYzZGQ5MGUxOGJhMWFlY2MxNmI2Ij48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['270711263112622275']}
2014-11-18 10:26:39,714 service:DEBUG _dict: {'SAMLResponse': 'PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLThjZTA0ZGUwZjdiN2ZhZTFiODk4OWI1ZTIxODc5YTE1IiBJblJlc3BvbnNlVG89ImlkLTRiODEzOWM0ZTIzZTcxZDNjYzYxNjNiZWZiNmMwNGFlIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MjY6MjhaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLWM2ODEzNjQzZjAzNjE5NTY5YjBiNTMzOTAyMWIzODU1IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MjY6MjhaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC00YjgxMzljNGUyM2U3MWQzY2M2MTYzYmVmYjZjMDRhZSIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjQxOjI4WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjI2OjI4WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjQxOjI4WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6MjY6MjhaIiBTZXNzaW9uSW5kZXg9ImlkLTk4ZGQzN2FlMWQ2YTYzZGQ5MGUxOGJhMWFlY2MxNmI2Ij48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4=', 'RelayState': '270711263112622275'}
2014-11-18 10:26:40,875 saml2.response:DEBUG xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-8ce04de0f7b7fae1b8989b5e21879a15" InResponseTo="id-4b8139c4e23e71d3cc6163befb6c04ae" IssueInstant="2014-11-18T09:26:28Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-c6813643f03619569b0b5339021b3855" IssueInstant="2014-11-18T09:26:28Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-4b8139c4e23e71d3cc6163befb6c04ae" NotOnOrAfter="2014-11-18T09:41:28Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:26:28Z" NotOnOrAfter="2014-11-18T09:41:28Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:26:28Z" SessionIndex="id-98dd37ae1d6a63dd90e18ba1aecc16b6"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:26:40,898 saml2.response:DEBUG response: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-8ce04de0f7b7fae1b8989b5e21879a15" InResponseTo="id-4b8139c4e23e71d3cc6163befb6c04ae" IssueInstant="2014-11-18T09:26:28Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-c6813643f03619569b0b5339021b3855" IssueInstant="2014-11-18T09:26:28Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-4b8139c4e23e71d3cc6163befb6c04ae" NotOnOrAfter="2014-11-18T09:41:28Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:26:28Z" NotOnOrAfter="2014-11-18T09:41:28Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:26:28Z" SessionIndex="id-98dd37ae1d6a63dd90e18ba1aecc16b6"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:26:40,903 saml2.entity:DEBUG XMLSTR: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-8ce04de0f7b7fae1b8989b5e21879a15" InResponseTo="id-4b8139c4e23e71d3cc6163befb6c04ae" IssueInstant="2014-11-18T09:26:28Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-c6813643f03619569b0b5339021b3855" IssueInstant="2014-11-18T09:26:28Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-4b8139c4e23e71d3cc6163befb6c04ae" NotOnOrAfter="2014-11-18T09:41:28Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:26:28Z" NotOnOrAfter="2014-11-18T09:41:28Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:26:28Z" SessionIndex="id-98dd37ae1d6a63dd90e18ba1aecc16b6"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:26:40,905 saml2.response:INFO status: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Status xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol"><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status>
2014-11-18 10:26:40,906 saml2.response:DEBUG ***Unencrypted assertion***
2014-11-18 10:26:40,907 saml2.response:DEBUG unsigned
2014-11-18 10:26:40,907 saml2.response:DEBUG assertion context: AuthnReq
2014-11-18 10:26:40,908 saml2.response:DEBUG assertion keys: ['authn_statement', 'attribute_statement', 'issue_instant', 'version', 'subject', 'conditions', 'id', 'issuer']
2014-11-18 10:26:40,909 saml2.response:DEBUG outstanding_queries: {270711263112622275: (<saml2.samlp.AuthnRequest object at 0x10642d290>, 'n9Vu0zWPl2yBcpU9'), 'id-4b8139c4e23e71d3cc6163befb6c04ae': 270711263112622275}
2014-11-18 10:26:40,910 saml2.response:DEBUG conditions: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Conditions xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" NotBefore="2014-11-18T09:26:28Z" NotOnOrAfter="2014-11-18T09:41:28Z"><ns0:AudienceRestriction><ns0:Audience>https://localhost:8090/proxy.xml</ns0:Audience></ns0:AudienceRestriction></ns0:Conditions>
2014-11-18 10:26:40,912 saml2.response:DEBUG --- Getting Identity ---
2014-11-18 10:26:40,915 saml2.response:DEBUG Attribute Statement: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AttributeStatement xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><ns0:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Hedberg</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">one!for!all</ns0:AttributeValue></ns0:Attribute></ns0:AttributeStatement>
2014-11-18 10:26:40,916 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:26:40,917 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:26:40,917 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:basic
2014-11-18 10:26:40,918 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:uri
2014-11-18 10:26:40,918 saml2.response:DEBUG Converts name format: urn:mace:shibboleth:1.0:attributeNamespace:uri
2014-11-18 10:26:40,919 saml2.response:DEBUG --- AVA: {'eduPersonTargetedID': ['one!for!all'], 'givenName': ['Roland'], 'uid': ['roland'], 'sn': ['Hedberg']}
2014-11-18 10:26:40,921 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:26:40,922 saml2.client_base:INFO --- ADDED person info ----
2014-11-18 10:26:42,412 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="Z1c0WUl3ckV5WE1rMHYwTkl0b1AxVTBjOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3911', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '64892', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?id=gW4YIwrEyXMk0v0NItoP1U0c&key=c4175acb18591be70d286742b6c4bc73a47980e2', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108d93510>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:26:42,416 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:26:42,417 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:26:42,418 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:27:02,592 saml2.assertion:DEBUG required: [{'is_required': 'true', 'friendly_name': 'sn', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.4'}, {'is_required': 'true', 'friendly_name': 'givenname', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.42'}, {'is_required': 'true', 'friendly_name': 'uid', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:0.9.2342.19200300.100.1.1'}, {'is_required': 'true', 'friendly_name': 'edupersonaffiliation', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:1.3.6.1.4.1.5923.1.1.1.1'}], optional: [{'is_required': 'false', 'friendly_name': 'title', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.12'}]
2014-11-18 10:27:47,403 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 10:27:47,414 saml2.assertion:DEBUG policy restrictions: {'default': {'attribute_restrictions': None, 'lifetime': {'minutes': 15}, 'name_form': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'fail_on_missing_requested': False, 'entity_categories': [{'': ['edupersontargetedid'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/eu-adequate-protection'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/nren-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail'], 'http://www.swamid.se/category/sfs-1993-1153': ['noredupersonnin'], ('http://www.swamid.se/category/research-and-education', 'http://www.swamid.se/category/hei-service'): ['givenname', 'displayname', 'sn', 'c', 'o', 'co', 'noreduorgacronym', 'schachomeorganization', 'edupersonprincipalname', 'edupersonscopedaffiliation', 'mail']}, {'': ['edupersontargetedid'], 'http://www.geant.net/uri/dataprotection-code-of-conduct/v1': ['edupersonprincipalname', 'edupersonscopedaffiliation', 'mail', 'displayname', 'schachomeorganization']}]}}
2014-11-18 10:27:47,489 service:DEBUG ENVIRON: None
2014-11-18 10:27:47,490 saml2:INFO Logging started
2014-11-18 10:27:47,492 back:DEBUG --- SSO ---
2014-11-18 10:27:47,493 service:DEBUG ENVIRON: None
2014-11-18 10:27:47,513 root:INFO Server starting
2014-11-18 10:28:03,961 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="Z1c0WUl3ckV5WE1rMHYwTkl0b1AxVTBjOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLJTsMwEIbvPIXlS09pnC5JazWpSitEJZaIBg7cjDOlllK7eJxC3x4nZREIVeLmGf2%2F55tlMn3bVmQPFpXRaSfqsg4BLU2p9HPauS8uglFnmp1NNDI%2Bq91G38FLDeiIt2nkPp3S2mpuBCofii0gd5KvZtdXvNdlfGeNM9JU9MsQnTYIRLDOw1Ay%2B3zOjcZ6C3YFdq8k3N9dpXTj3I6HYWWkqDYGHR%2BxURIKieHOR5QsPKTSorEfxfhLPWYhogktlMqC9I7lIqWqDNbDdcziuC%2BfSugnA%2BgN4oTF60RCPOyP49gLEWtYanRCu5T2WDQIoiiIRgUb817Ch%2BNHSvKPvs%2BVbkd5suenowj5ZVHkQX67KtoP9qoEe%2BPVKb0%2BkFVO8Ng%2FJQ8f%2B6LeTTO%2FnIi3UJZcGLsV7nS5JtM02ko5aKfcgWZ%2FDxR3Xb%2B4SfhdImtvocFaLnJTKXkgs6oyr3MLwnnUtajQI%2F4fxFmhUXkcSsKsqfjz4rJ3&RelayState=yUZ5HlvoSKKk4Sm6', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65499', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108d4dd50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLJTsMwEIbvPIXlS09pnC5JazWpSitEJZaIBg7cjDOlllK7eJxC3x4nZREIVeLmGf2%2F55tlMn3bVmQPFpXRaSfqsg4BLU2p9HPauS8uglFnmp1NNDI%2Bq91G38FLDeiIt2nkPp3S2mpuBCofii0gd5KvZtdXvNdlfGeNM9JU9MsQnTYIRLDOw1Ay%2B3zOjcZ6C3YFdq8k3N9dpXTj3I6HYWWkqDYGHR%2BxURIKieHOR5QsPKTSorEfxfhLPWYhogktlMqC9I7lIqWqDNbDdcziuC%2BfSugnA%2BgN4oTF60RCPOyP49gLEWtYanRCu5T2WDQIoiiIRgUb817Ch%2BNHSvKPvs%2BVbkd5suenowj5ZVHkQX67KtoP9qoEe%2BPVKb0%2BkFVO8Ng%2FJQ8f%2B6LeTTO%2FnIi3UJZcGLsV7nS5JtM02ko5aKfcgWZ%2FDxR3Xb%2B4SfhdImtvocFaLnJTKXkgs6oyr3MLwnnUtajQI%2F4fxFmhUXkcSsKsqfjz4rJ3&RelayState=yUZ5HlvoSKKk4Sm6', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:28:05,448 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 10:28:05,449 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 10:28:05,450 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-f5f60663cbde374e246706f7ce653966" IssueInstant="2014-11-18T09:27:59Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:28:05,454 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-f5f60663cbde374e246706f7ce653966" IssueInstant="2014-11-18T09:27:59Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:28:05,455 saml2.entity:DEBUG Loaded request
2014-11-18 10:28:05,456 saml2.entity:DEBUG Verified request
2014-11-18 10:28:05,457 front:INFO parsed OK
2014-11-18 10:28:05,459 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-f5f60663cbde374e246706f7ce653966" IssueInstant="2014-11-18T09:27:59Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:28:05,459 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:28:05,460 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:28:05,461 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 10:28:05,461 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:28:05,462 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:28:07,764 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="Z1c0WUl3ckV5WE1rMHYwTkl0b1AxVTBjOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZLJTsMwEIbvPIXlS09pnC5JazWpSitEJZaIBg7cjDOlllK7eJxC3x4nZREIVeLmGf2%2F55tlMn3bVmQPFpXRaSfqsg4BLU2p9HPauS8uglFnmp1NNDI%2Bq91G38FLDeiIt2nkPp3S2mpuBCofii0gd5KvZtdXvNdlfGeNM9JU9MsQnTYIRLDOw1Ay%2B3zOjcZ6C3YFdq8k3N9dpXTj3I6HYWWkqDYGHR%2BxURIKieHOR5QsPKTSorEfxfhLPWYhogktlMqC9I7lIqWqDNbDdcziuC%2BfSugnA%2BgN4oTF60RCPOyP49gLEWtYanRCu5T2WDQIoiiIRgUb817Ch%2BNHSvKPvs%2BVbkd5suenowj5ZVHkQX67KtoP9qoEe%2BPVKb0%2BkFVO8Ng%2FJQ8f%2B6LeTTO%2FnIi3UJZcGLsV7nS5JtM02ko5aKfcgWZ%2FDxR3Xb%2B4SfhdImtvocFaLnJTKXkgs6oyr3MLwnnUtajQI%2F4fxFmhUXkcSsKsqfjz4rJ3&RelayState=yUZ5HlvoSKKk4Sm6', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '65499', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108d4dd50>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZLJTsMwEIbvPIXlS09pnC5JazWpSitEJZaIBg7cjDOlllK7eJxC3x4nZREIVeLmGf2%2F55tlMn3bVmQPFpXRaSfqsg4BLU2p9HPauS8uglFnmp1NNDI%2Bq91G38FLDeiIt2nkPp3S2mpuBCofii0gd5KvZtdXvNdlfGeNM9JU9MsQnTYIRLDOw1Ay%2B3zOjcZ6C3YFdq8k3N9dpXTj3I6HYWWkqDYGHR%2BxURIKieHOR5QsPKTSorEfxfhLPWYhogktlMqC9I7lIqWqDNbDdcziuC%2BfSugnA%2BgN4oTF60RCPOyP49gLEWtYanRCu5T2WDQIoiiIRgUb817Ch%2BNHSvKPvs%2BVbkd5suenowj5ZVHkQX67KtoP9qoEe%2BPVKb0%2BkFVO8Ng%2FJQ8f%2B6LeTTO%2FnIi3UJZcGLsV7nS5JtM02ko5aKfcgWZ%2FDxR3Xb%2B4SfhdImtvocFaLnJTKXkgs6oyr3MLwnnUtajQI%2F4fxFmhUXkcSsKsqfjz4rJ3&RelayState=yUZ5HlvoSKKk4Sm6', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:28:07,765 back:DEBUG --- SSO ---
2014-11-18 10:28:07,766 back:DEBUG [sp.challenge] RelayState >> 'https://localhost:8090/sso/redirect?SAMLRequest=lZLJTsMwEIbvPIXlS09pnC5JazWpSitEJZaIBg7cjDOlllK7eJxC3x4nZREIVeLmGf2%2F55tlMn3bVmQPFpXRaSfqsg4BLU2p9HPauS8uglFnmp1NNDI%2Bq91G38FLDeiIt2nkPp3S2mpuBCofii0gd5KvZtdXvNdlfGeNM9JU9MsQnTYIRLDOw1Ay%2B3zOjcZ6C3YFdq8k3N9dpXTj3I6HYWWkqDYGHR%2BxURIKieHOR5QsPKTSorEfxfhLPWYhogktlMqC9I7lIqWqDNbDdcziuC%2BfSugnA%2BgN4oTF60RCPOyP49gLEWtYanRCu5T2WDQIoiiIRgUb817Ch%2BNHSvKPvs%2BVbkd5suenowj5ZVHkQX67KtoP9qoEe%2BPVKb0%2BkFVO8Ng%2FJQ8f%2B6LeTTO%2FnIi3UJZcGLsV7nS5JtM02ko5aKfcgWZ%2FDxR3Xb%2B4SfhdImtvocFaLnJTKXkgs6oyr3MLwnnUtajQI%2F4fxFmhUXkcSsKsqfjz4rJ3&RelayState=yUZ5HlvoSKKk4Sm6'
2014-11-18 10:28:08,981 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:28:08,982 saml2.mdstore:DEBUG service(http://localhost:8088/idp.xml, idpsso_descriptor, single_sign_on_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect)
2014-11-18 10:28:08,983 saml2.mdstore:DEBUG service => [{'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&SingleSignOnService', 'location': 'http://localhost:8088/sso/redirect'}]
2014-11-18 10:28:08,984 back:DEBUG binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect, destination: http://localhost:8088/sso/redirect
2014-11-18 10:28:08,986 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="https://localhost:8090/acs/post" Destination="http://localhost:8088/sso/redirect" ID="id-1b663bc34f801a8014aa6bc1ad554aee" IssueInstant="2014-11-18T09:28:08Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 10:28:08,989 saml2.entity:INFO HTTP REDIRECT
2014-11-18 10:28:08,990 back:DEBUG ht_args: {'url': 'http://localhost:8088/sso/redirect', 'headers': [('Location', 'http://localhost:8088/sso/redirect?SAMLRequest=lVJNTwIxEL37K5pe9rTsFpEsDbsEJUYSPzayePDWLYM0WVrsdFX%2BvQP4EU0k8dCkM3mv8%2Ba9Dkdv64a9gEfjbB6JThoxsNotjH3Ko3l1GWfRqDgZWkzluA0rew%2FPLWBgRLMoqZ3z1lvpFBoq1RpQBi1n45tr2e2kcuNdcNo1%2FIsgjhMUIvhAYjgbf14vnMV2DX4G%2FsVomN9f53wVwgZlkjROq2blMMgsHaSJ0phsqOJsQiqNVTv%2BAf0LnGUJoks8LIwHTYTpJOdmEYu63z%2Bt9WlvmaVC0ekp1a%2B1UIuzs54CICBiC1OLQdmQ8y4hYiFikVXpQHYzmWaPnJUfe58bu7fy6M71AYTyqqrKuLybVZw9fETCCcAL8l%2FI%2FVzPLp1fq3D8xV2HdlnuoRJsMGHLiz88o4zeth3KZ5h8jyn2kd%2FSO9NJ6Rqjt2zcNO71woMKkPOlapC8%2BL%2BY4JVFQ5I4S4rdxJ8fq3gH&RelayState=5864328681873293662')], 'data': [], 'method': 'GET'}
2014-11-18 10:28:12,971 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="Z1c0WUl3ckV5WE1rMHYwTkl0b1AxVTBjOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3912', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49185', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=lVJNTwIxEL37K5pe9rTsFpEsDbsEJUYSPzayePDWLYM0WVrsdFX%2BvQP4EU0k8dCkM3mv8%2Ba9Dkdv64a9gEfjbB6JThoxsNotjH3Ko3l1GWfRqDgZWkzluA0rew%2FPLWBgRLMoqZ3z1lvpFBoq1RpQBi1n45tr2e2kcuNdcNo1%2FIsgjhMUIvhAYjgbf14vnMV2DX4G%2FsVomN9f53wVwgZlkjROq2blMMgsHaSJ0phsqOJsQiqNVTv%2BAf0LnGUJoks8LIwHTYTpJOdmEYu63z%2Bt9WlvmaVC0ekp1a%2B1UIuzs54CICBiC1OLQdmQ8y4hYiFikVXpQHYzmWaPnJUfe58bu7fy6M71AYTyqqrKuLybVZw9fETCCcAL8l%2FI%2FVzPLp1fq3D8xV2HdlnuoRJsMGHLiz88o4zeth3KZ5h8jyn2kd%2FSO9NJ6Rqjt2zcNO71woMKkPOlapC8%2BL%2BY4JVFQ5I4S4rdxJ8fq3gH&RelayState=5864328681873293662', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108d53510>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:28:12,974 back:DEBUG --- SSO ---
2014-11-18 10:28:14,761 service:DEBUG unpack_post:: {'SAMLResponse': ['PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTlkMTllZDQxMDlmNjEzY2E1M2RmNjQ0YTk5NTkyN2QxIiBJblJlc3BvbnNlVG89ImlkLTFiNjYzYmMzNGY4MDFhODAxNGFhNmJjMWFkNTU0YWVlIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6Mjg6MDlaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLTJmZDU1YjcxNGFlYWNhM2Q4NTI4YTNiZjY5YzcyMDA3IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6Mjg6MDlaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC0xYjY2M2JjMzRmODAxYTgwMTRhYTZiYzFhZDU1NGFlZSIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjQzOjA5WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjI4OjA5WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjQzOjA5WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6Mjg6MDlaIiBTZXNzaW9uSW5kZXg9ImlkLTUxZmIyNmU4ZjI3YjQ1YzljNzJhYmMwZjEyNTc3ZGNkIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4='], 'RelayState': ['5864328681873293662']}
2014-11-18 10:28:14,762 service:DEBUG _dict: {'SAMLResponse': 'PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczp4c2k9Imh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlIiBEZXN0aW5hdGlvbj0iaHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9hY3MvcG9zdCIgSUQ9ImlkLTlkMTllZDQxMDlmNjEzY2E1M2RmNjQ0YTk5NTkyN2QxIiBJblJlc3BvbnNlVG89ImlkLTFiNjYzYmMzNGY4MDFhODAxNGFhNmJjMWFkNTU0YWVlIiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6Mjg6MDlaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMwOlN0YXR1cz48bnMwOlN0YXR1c0NvZGUgVmFsdWU9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpzdGF0dXM6U3VjY2VzcyIgLz48L25zMDpTdGF0dXM+PG5zMTpBc3NlcnRpb24gSUQ9ImlkLTJmZDU1YjcxNGFlYWNhM2Q4NTI4YTNiZjY5YzcyMDA3IiBJc3N1ZUluc3RhbnQ9IjIwMTQtMTEtMThUMDk6Mjg6MDlaIiBWZXJzaW9uPSIyLjAiPjxuczE6SXNzdWVyIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6ZW50aXR5Ij5odHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbDwvbnMxOklzc3Vlcj48bnMxOlN1YmplY3Q+PG5zMTpOYW1lSUQgRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6bmFtZWlkLWZvcm1hdDp0cmFuc2llbnQiIE5hbWVRdWFsaWZpZXI9Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4OC9pZHAueG1sIiBTUE5hbWVRdWFsaWZpZXI9Imh0dHBzOi8vbG9jYWxob3N0OjgwOTAvcHJveHkueG1sIj4wZmQxNzMwOWQ1OTVjNTQzNTJiNzA0ZDQ1MmNlM2E5MDM0NTRlNzEzMzMzMjhiZWIyOWNmNGRjMDExMjIwN2FjPC9uczE6TmFtZUlEPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbiBNZXRob2Q9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpjbTpiZWFyZXIiPjxuczE6U3ViamVjdENvbmZpcm1hdGlvbkRhdGEgSW5SZXNwb25zZVRvPSJpZC0xYjY2M2JjMzRmODAxYTgwMTRhYTZiYzFhZDU1NGFlZSIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjQzOjA5WiIgUmVjaXBpZW50PSJodHRwczovL2xvY2FsaG9zdDo4MDkwL2Fjcy9wb3N0IiAvPjwvbnMxOlN1YmplY3RDb25maXJtYXRpb24+PC9uczE6U3ViamVjdD48bnMxOkNvbmRpdGlvbnMgTm90QmVmb3JlPSIyMDE0LTExLTE4VDA5OjI4OjA5WiIgTm90T25PckFmdGVyPSIyMDE0LTExLTE4VDA5OjQzOjA5WiI+PG5zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjxuczE6QXVkaWVuY2U+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpBdWRpZW5jZT48L25zMTpBdWRpZW5jZVJlc3RyaWN0aW9uPjwvbnMxOkNvbmRpdGlvbnM+PG5zMTpBdXRoblN0YXRlbWVudCBBdXRobkluc3RhbnQ9IjIwMTQtMTEtMThUMDk6Mjg6MDlaIiBTZXNzaW9uSW5kZXg9ImlkLTUxZmIyNmU4ZjI3YjQ1YzljNzJhYmMwZjEyNTc3ZGNkIj48bnMxOkF1dGhuQ29udGV4dD48bnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPnVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDphYzpjbGFzc2VzOlBhc3N3b3JkPC9uczE6QXV0aG5Db250ZXh0Q2xhc3NSZWY+PG5zMTpBdXRoZW50aWNhdGluZ0F1dGhvcml0eT5odHRwOi8vZWR1cm9hbS00Ny0xNzEucHVibGljLnN1LnNlPC9uczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+PC9uczE6QXV0aG5Db250ZXh0PjwvbnMxOkF1dGhuU3RhdGVtZW50PjxuczE6QXR0cmlidXRlU3RhdGVtZW50PjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZ2l2ZW5uYW1lIiBOYW1lPSJ1cm46b2lkOjIuNS40LjQyIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5Sb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJ1aWQiIE5hbWU9InVybjpvaWQ6MC45LjIzNDIuMTkyMDAzMDAuMTAwLjEuMSIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+cm9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0ic24iIE5hbWU9InVybjpvaWQ6Mi41LjQuNCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+SGVkYmVyZzwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImVkdXBlcnNvbnRhcmdldGVkaWQiIE5hbWU9InVybjpvaWQ6MS4zLjYuMS40LjEuNTkyMy4xLjEuMS4xMCIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+b25lIWZvciFhbGw8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PC9uczE6QXR0cmlidXRlU3RhdGVtZW50PjwvbnMxOkFzc2VydGlvbj48L25zMDpSZXNwb25zZT4=', 'RelayState': '5864328681873293662'}
2014-11-18 10:28:16,233 saml2.response:DEBUG xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-9d19ed4109f613ca53df644a995927d1" InResponseTo="id-1b663bc34f801a8014aa6bc1ad554aee" IssueInstant="2014-11-18T09:28:09Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-2fd55b714aeaca3d8528a3bf69c72007" IssueInstant="2014-11-18T09:28:09Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-1b663bc34f801a8014aa6bc1ad554aee" NotOnOrAfter="2014-11-18T09:43:09Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:28:09Z" NotOnOrAfter="2014-11-18T09:43:09Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:28:09Z" SessionIndex="id-51fb26e8f27b45c9c72abc0f12577dcd"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:28:16,263 saml2.response:DEBUG response: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-9d19ed4109f613ca53df644a995927d1" InResponseTo="id-1b663bc34f801a8014aa6bc1ad554aee" IssueInstant="2014-11-18T09:28:09Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-2fd55b714aeaca3d8528a3bf69c72007" IssueInstant="2014-11-18T09:28:09Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-1b663bc34f801a8014aa6bc1ad554aee" NotOnOrAfter="2014-11-18T09:43:09Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:28:09Z" NotOnOrAfter="2014-11-18T09:43:09Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:28:09Z" SessionIndex="id-51fb26e8f27b45c9c72abc0f12577dcd"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:28:16,270 saml2.entity:DEBUG XMLSTR: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="https://localhost:8090/acs/post" ID="id-9d19ed4109f613ca53df644a995927d1" InResponseTo="id-1b663bc34f801a8014aa6bc1ad554aee" IssueInstant="2014-11-18T09:28:09Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-2fd55b714aeaca3d8528a3bf69c72007" IssueInstant="2014-11-18T09:28:09Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8088/idp.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-1b663bc34f801a8014aa6bc1ad554aee" NotOnOrAfter="2014-11-18T09:43:09Z" Recipient="https://localhost:8090/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:28:09Z" NotOnOrAfter="2014-11-18T09:43:09Z"><ns1:AudienceRestriction><ns1:Audience>https://localhost:8090/proxy.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:28:09Z" SessionIndex="id-51fb26e8f27b45c9c72abc0f12577dcd"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:28:16,271 saml2.response:INFO status: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Status xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol"><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status>
2014-11-18 10:28:16,272 saml2.response:DEBUG ***Unencrypted assertion***
2014-11-18 10:28:16,273 saml2.response:DEBUG unsigned
2014-11-18 10:28:16,274 saml2.response:DEBUG assertion context: AuthnReq
2014-11-18 10:28:16,274 saml2.response:DEBUG assertion keys: ['authn_statement', 'attribute_statement', 'issue_instant', 'version', 'subject', 'conditions', 'id', 'issuer']
2014-11-18 10:28:16,275 saml2.response:DEBUG outstanding_queries: {'id-1b663bc34f801a8014aa6bc1ad554aee': 5864328681873293662, 5864328681873293662: (<saml2.samlp.AuthnRequest object at 0x105aed290>, 'yUZ5HlvoSKKk4Sm6')}
2014-11-18 10:28:16,277 saml2.response:DEBUG conditions: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Conditions xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" NotBefore="2014-11-18T09:28:09Z" NotOnOrAfter="2014-11-18T09:43:09Z"><ns0:AudienceRestriction><ns0:Audience>https://localhost:8090/proxy.xml</ns0:Audience></ns0:AudienceRestriction></ns0:Conditions>
2014-11-18 10:28:16,278 saml2.response:DEBUG --- Getting Identity ---
2014-11-18 10:28:16,281 saml2.response:DEBUG Attribute Statement: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AttributeStatement xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><ns0:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">roland</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">Hedberg</ns0:AttributeValue></ns0:Attribute><ns0:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns0:AttributeValue xsi:type="xs:string">one!for!all</ns0:AttributeValue></ns0:Attribute></ns0:AttributeStatement>
2014-11-18 10:28:16,282 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:28:16,283 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified
2014-11-18 10:28:16,284 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:basic
2014-11-18 10:28:16,284 saml2.response:DEBUG Converts name format: urn:oasis:names:tc:SAML:2.0:attrname-format:uri
2014-11-18 10:28:16,285 saml2.response:DEBUG Converts name format: urn:mace:shibboleth:1.0:attributeNamespace:uri
2014-11-18 10:28:16,286 saml2.response:DEBUG --- AVA: {'eduPersonTargetedID': ['one!for!all'], 'givenName': ['Roland'], 'uid': ['roland'], 'sn': ['Hedberg']}
2014-11-18 10:28:16,287 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:28:16,288 saml2.client_base:INFO --- ADDED person info ----
2014-11-18 10:28:21,425 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; idpauthn="Z1c0WUl3ckV5WE1rMHYwTkl0b1AxVTBjOjE="; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'POST', 'PATH_INFO': '/acs/post', 'HTTP_ORIGIN': 'http://localhost:8088', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': '', 'CONTENT_LENGTH': '3912', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '49185', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'HTTP_REFERER': 'http://localhost:8088/sso/redirect?SAMLRequest=lVJNTwIxEL37K5pe9rTsFpEsDbsEJUYSPzayePDWLYM0WVrsdFX%2BvQP4EU0k8dCkM3mv8%2Ba9Dkdv64a9gEfjbB6JThoxsNotjH3Ko3l1GWfRqDgZWkzluA0rew%2FPLWBgRLMoqZ3z1lvpFBoq1RpQBi1n45tr2e2kcuNdcNo1%2FIsgjhMUIvhAYjgbf14vnMV2DX4G%2FsVomN9f53wVwgZlkjROq2blMMgsHaSJ0phsqOJsQiqNVTv%2BAf0LnGUJoks8LIwHTYTpJOdmEYu63z%2Bt9WlvmaVC0ekp1a%2B1UIuzs54CICBiC1OLQdmQ8y4hYiFikVXpQHYzmWaPnJUfe58bu7fy6M71AYTyqqrKuLybVZw9fETCCcAL8l%2FI%2FVzPLp1fq3D8xV2HdlnuoRJsMGHLiz88o4zeth3KZ5h8jyn2kd%2FSO9NJ6Rqjt2zcNO71woMKkPOlapC8%2BL%2BY4JVFQ5I4S4rdxJ8fq3gH&RelayState=5864328681873293662', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'CONTENT_TYPE': 'application/x-www-form-urlencoded', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x108d53510>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'SSL_SERVER_S_DN_C': 'SE', 'SSL_SERVER_I_DN_O': 'Umea University', 'REQUEST_URI': '/acs/post', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'SSL_SERVER_I_DN_C': 'SE', 'oic.url_args': '', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 10:28:21,429 saml2.response:INFO Subject NameID: <?xml version='1.0' encoding='UTF-8'?>
<ns0:NameID xmlns:ns0="urn:oasis:names:tc:SAML:2.0:assertion" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns0:NameID>
2014-11-18 10:28:21,431 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 10:28:21,432 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 10:28:34,849 saml2.assertion:DEBUG required: [{'is_required': 'true', 'friendly_name': 'sn', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.4'}, {'is_required': 'true', 'friendly_name': 'givenname', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.42'}, {'is_required': 'true', 'friendly_name': 'uid', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:0.9.2342.19200300.100.1.1'}, {'is_required': 'true', 'friendly_name': 'edupersonaffiliation', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:1.3.6.1.4.1.5923.1.1.1.1'}], optional: [{'is_required': 'false', 'friendly_name': 'title', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&RequestedAttribute', 'name_format': 'urn:oasis:names:tc:SAML:2.0:attrname-format:uri', 'name': 'urn:oid:2.5.4.12'}]
2014-11-18 10:28:34,867 saml2.entity:INFO REQUEST: <?xml version='1.0' encoding='UTF-8'?>
<ns0:Response xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" xmlns:ns2="http://www.w3.org/2000/09/xmldsig#" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Destination="http://localhost:8087/acs/post" ID="id-79866be206a29dab306b5df8d639086d" InResponseTo="id-f5f60663cbde374e246706f7ce653966" IssueInstant="2014-11-18T09:28:34Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns2:Signature Id="Signature1"><ns2:SignedInfo><ns2:CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" /><ns2:SignatureMethod Algorithm="http://www.w3.org/2000/09/xmldsig#rsa-sha1" /><ns2:Reference URI="#id-79866be206a29dab306b5df8d639086d"><ns2:Transforms><ns2:Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature" /><ns2:Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#" /></ns2:Transforms><ns2:DigestMethod Algorithm="http://www.w3.org/2000/09/xmldsig#sha1" /><ns2:DigestValue /></ns2:Reference></ns2:SignedInfo><ns2:SignatureValue /><ns2:KeyInfo><ns2:X509Data><ns2:X509Certificate>MIIDCjCCAfICCQCltX3baOh4gzANBgkqhkiG9w0BAQUFADBHMQswCQYDVQQGEwJTRTEMMAoGA1UEChMDVW1VMQwwCgYDVQQLEwNJVFMxHDAaBgNVBAMTE2xpbmdvbi5sYWRvay51bXUuc2UwHhcNMTQxMDE3MDY1OTQ2WhcNMTUxMDE3MDY1OTQ2WjBHMQswCQYDVQQGEwJTRTEMMAoGA1UEChMDVW1VMQwwCgYDVQQLEwNJVFMxHDAaBgNVBAMTE2xpbmdvbi5sYWRvay51bXUuc2UwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCy782wGaX//m+CE4mLyZ8tg6DnbWdyvm0SdIkVw8iDPc7fL2FvxSTFa3nYABy2tTXOqT3kROzJQsOXJoPJEx0hTUWYp3W4/GwLtR57FxYEW44vDS6BY5gcOyeDSihW8huDvSXZggDu4fI4TxSKMIPzq5kXRfn49XosqJ28GiTf+p7Nawwy09F/j8ZxHMmxUVCRBcET+tQpvdGAS5QnvBa5Autd5G2BxFeCW0tUImWYkf/gchcgCpqc5wT0r0W983+V+Ua07t5KzCb/jVl978B1k8CrWptVjcxGzvsxdPk27Cy5xMfntxl9R2WQxFggFyO9hVyFkfsoSByQvpJTmN/VAgMBAAEwDQYJKoZIhvcNAQEFBQADggEBAFuSxA6mp7YW6hmxZGQdSZWyQUhQ2iR6isl8YrfZJQzrx7BRcvaBAqCDChXh6AlO8xTaHl6tj45xzga1xhdIybwCzALp78ZHE/x2i+Z+qhTSSNE5YpbJFeLVzXtp8/Dl+XyILDbZ1aqlJiQJm52z7/JcNRWQuNAKe5cLLhW/8P8E1MJ/S8M56zmQwijyU70VuAZ/njEGCcyXu6E+6JSbfKh7UAcuozdboa+xdOUeSP2CFcWXcKMD0DSLls7QxNGYuIxWVoo4wXskV7+tT69Zn9ANjDuysno4atvFicSBbu6LpPUMRpVRXJ9y8C+nNlui6UCYD4g6NYYxLccSHClfco0=</ns2:X509Certificate></ns2:X509Data></ns2:KeyInfo></ns2:Signature><ns0:Status><ns0:StatusCode Value="urn:oasis:names:tc:SAML:2.0:status:Success" /></ns0:Status><ns1:Assertion ID="id-473d227115c90953cc8e3bd185c0e852" IssueInstant="2014-11-18T09:28:34Z" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">https://localhost:8090/proxy.xml</ns1:Issuer><ns1:Subject><ns1:NameID Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" NameQualifier="http://localhost:8088/idp.xml" SPNameQualifier="https://localhost:8090/proxy.xml">0fd17309d595c54352b704d452ce3a903454e71333328beb29cf4dc0112207ac</ns1:NameID><ns1:SubjectConfirmation Method="urn:oasis:names:tc:SAML:2.0:cm:bearer"><ns1:SubjectConfirmationData InResponseTo="id-f5f60663cbde374e246706f7ce653966" NotOnOrAfter="2014-11-18T09:43:34Z" Recipient="http://localhost:8087/acs/post" /></ns1:SubjectConfirmation></ns1:Subject><ns1:Conditions NotBefore="2014-11-18T09:28:34Z" NotOnOrAfter="2014-11-18T09:43:34Z"><ns1:AudienceRestriction><ns1:Audience>http://localhost:8087/sp.xml</ns1:Audience></ns1:AudienceRestriction></ns1:Conditions><ns1:AuthnStatement AuthnInstant="2014-11-18T09:28:34Z" SessionIndex="id-00bebe8dee6186b17a201d44566e956e"><ns1:AuthnContext><ns1:AuthnContextClassRef>urn:oasis:names:tc:SAML:2.0:ac:classes:Password</ns1:AuthnContextClassRef><ns1:AuthenticatingAuthority>http://eduroam-47-171.public.su.se</ns1:AuthenticatingAuthority></ns1:AuthnContext></ns1:AuthnStatement><ns1:AttributeStatement><ns1:Attribute FriendlyName="givenname" Name="urn:oid:2.5.4.42" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="edupersontargetedid" Name="urn:oid:1.3.6.1.4.1.5923.1.1.1.10" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">one!for!all</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="uid" Name="urn:oid:0.9.2342.19200300.100.1.1" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">roland</ns1:AttributeValue></ns1:Attribute><ns1:Attribute FriendlyName="sn" Name="urn:oid:2.5.4.4" NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:uri"><ns1:AttributeValue xsi:type="xs:string">Hedberg</ns1:AttributeValue></ns1:Attribute></ns1:AttributeStatement></ns1:Assertion></ns0:Response>
2014-11-18 10:28:34,888 saml2.sigver:DEBUG xmlsec command: /opt/local/bin/xmlsec1 --sign --privkey-pem /Users/rolandh/code/s2sproxy/pki/new_server.key --id-attr:ID urn:oasis:names:tc:SAML:2.0:protocol:Response --node-id id-79866be206a29dab306b5df8d639086d --output /var/folders/5t/4k01mls142jd38mx3m3ht9000000gp/T/tmpQXJ0em.xml /var/folders/5t/4k01mls142jd38mx3m3ht9000000gp/T/tmpcSMUVT.xml
2014-11-18 10:28:35,073 saml2.entity:INFO HTTP POST
2014-11-18 10:28:35,074 front:DEBUG HTTPargs: {'url': 'http://localhost:8087/acs/post', 'headers': [('Content-type', 'text/html')], 'data': ['<head>', '<title>SAML 2.0 POST</title>', '</head><body>', '<form method="post" action="http://localhost:8087/acs/post">\n   <input type="hidden" name="SAMLResponse" value="PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPG5zMDpSZXNwb25zZSB4bWxuczpuczA9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpwcm90b2NvbCIgeG1sbnM6bnMxPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXNzZXJ0aW9uIiB4bWxuczpuczI9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyMiIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiIERlc3RpbmF0aW9uPSJodHRwOi8vbG9jYWxob3N0OjgwODcvYWNzL3Bvc3QiIElEPSJpZC03OTg2NmJlMjA2YTI5ZGFiMzA2YjVkZjhkNjM5MDg2ZCIgSW5SZXNwb25zZVRvPSJpZC1mNWY2MDY2M2NiZGUzNzRlMjQ2NzA2ZjdjZTY1Mzk2NiIgSXNzdWVJbnN0YW50PSIyMDE0LTExLTE4VDA5OjI4OjM0WiIgVmVyc2lvbj0iMi4wIj48bnMxOklzc3VlciBGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpuYW1laWQtZm9ybWF0OmVudGl0eSI+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpJc3N1ZXI+PG5zMjpTaWduYXR1cmUgSWQ9IlNpZ25hdHVyZTEiPjxuczI6U2lnbmVkSW5mbz48bnMyOkNhbm9uaWNhbGl6YXRpb25NZXRob2QgQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxLzEwL3htbC1leGMtYzE0biMiLz48bnMyOlNpZ25hdHVyZU1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNyc2Etc2hhMSIvPjxuczI6UmVmZXJlbmNlIFVSST0iI2lkLTc5ODY2YmUyMDZhMjlkYWIzMDZiNWRmOGQ2MzkwODZkIj48bnMyOlRyYW5zZm9ybXM+PG5zMjpUcmFuc2Zvcm0gQWxnb3JpdGhtPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwLzA5L3htbGRzaWcjZW52ZWxvcGVkLXNpZ25hdHVyZSIvPjxuczI6VHJhbnNmb3JtIEFsZ29yaXRobT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS8xMC94bWwtZXhjLWMxNG4jIi8+PC9uczI6VHJhbnNmb3Jtcz48bnMyOkRpZ2VzdE1ldGhvZCBBbGdvcml0aG09Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvMDkveG1sZHNpZyNzaGExIi8+PG5zMjpEaWdlc3RWYWx1ZT5CcnhQSkd6dTZMQ2NYT0ttQWR6VlJGTFlyTms9PC9uczI6RGlnZXN0VmFsdWU+PC9uczI6UmVmZXJlbmNlPjwvbnMyOlNpZ25lZEluZm8+PG5zMjpTaWduYXR1cmVWYWx1ZT5LY2ZNMVh5Ylo2cHJ6T2luZmcxRmRZOVgzRzdNYmhkcFFCb24rSEdoMnpRS0pYZ1hHYmxwancvRGF0ZkwxYi9WClBnSTlVOXJUaThta245TjJCMHVmbFFDQ2FPcTBuL0lsVU5oVHYwY3dJUndtZTBTZjZ1T2Q3dzJsMzFPc0VGSTcKVzFrUDRZZUR0aGFObHV4WnFmQ1BESnYzOUFhTUdIamJZMTRlbnRiZ0QxUURkdXhoaEJKc2FsTWovYXh1eEhkOQp5b1dIOENwZzY4TE93QVg0Q2tHWGgxbjlwOXBBVC85Zi85enQrdkducTEwZkF1M1JXWG9abTBLRlVQSWlDREJWClVPRVQ3Z2NqVk9qeno4aEJTcUp6cGdiczdQTHVGdHVlSncwb1JQSWtaenE2THh4cGVnbE1Jc2VSZDNSMXdSQWMKaWZCcU5vN0lYNWFUSVBqQnRTSzZHZz09PC9uczI6U2lnbmF0dXJlVmFsdWU+PG5zMjpLZXlJbmZvPjxuczI6WDUwOURhdGE+PG5zMjpYNTA5Q2VydGlmaWNhdGU+TUlJRENqQ0NBZklDQ1FDbHRYM2JhT2g0Z3pBTkJna3Foa2lHOXcwQkFRVUZBREJITVFzd0NRWURWUVFHRXdKVFJURU1NQW9HQTFVRUNoTURWVzFWTVF3d0NnWURWUVFMRXdOSlZGTXhIREFhQmdOVkJBTVRFMnhwYm1kdmJpNXNZV1J2YXk1MWJYVXVjMlV3SGhjTk1UUXhNREUzTURZMU9UUTJXaGNOTVRVeE1ERTNNRFkxT1RRMldqQkhNUXN3Q1FZRFZRUUdFd0pUUlRFTU1Bb0dBMVVFQ2hNRFZXMVZNUXd3Q2dZRFZRUUxFd05KVkZNeEhEQWFCZ05WQkFNVEUyeHBibWR2Ymk1c1lXUnZheTUxYlhVdWMyVXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDeTc4MndHYVgvL20rQ0U0bUx5Wjh0ZzZEbmJXZHl2bTBTZElrVnc4aURQYzdmTDJGdnhTVEZhM25ZQUJ5MnRUWE9xVDNrUk96SlFzT1hKb1BKRXgwaFRVV1lwM1c0L0d3THRSNTdGeFlFVzQ0dkRTNkJZNWdjT3llRFNpaFc4aHVEdlNYWmdnRHU0Zkk0VHhTS01JUHpxNWtYUmZuNDlYb3NxSjI4R2lUZitwN05hd3d5MDlGL2o4WnhITW14VVZDUkJjRVQrdFFwdmRHQVM1UW52QmE1QXV0ZDVHMkJ4RmVDVzB0VUltV1lrZi9nY2hjZ0NwcWM1d1QwcjBXOTgzK1YrVWEwN3Q1S3pDYi9qVmw5NzhCMWs4Q3JXcHRWamN4R3p2c3hkUGsyN0N5NXhNZm50eGw5UjJXUXhGZ2dGeU85aFZ5Rmtmc29TQnlRdnBKVG1OL1ZBZ01CQUFFd0RRWUpLb1pJaHZjTkFRRUZCUUFEZ2dFQkFGdVN4QTZtcDdZVzZobXhaR1FkU1pXeVFVaFEyaVI2aXNsOFlyZlpKUXpyeDdCUmN2YUJBcUNEQ2hYaDZBbE84eFRhSGw2dGo0NXh6Z2ExeGhkSXlid0N6QUxwNzhaSEUveDJpK1orcWhUU1NORTVZcGJKRmVMVnpYdHA4L0RsK1h5SUxEYloxYXFsSmlRSm01Mno3L0pjTlJXUXVOQUtlNWNMTGhXLzhQOEUxTUovUzhNNTZ6bVF3aWp5VTcwVnVBWi9uakVHQ2N5WHU2RSs2SlNiZktoN1VBY3VvemRib2EreGRPVWVTUDJDRmNXWGNLTUQwRFNMbHM3UXhOR1l1SXhXVm9vNHdYc2tWNyt0VDY5Wm45QU5qRHV5c25vNGF0dkZpY1NCYnU2THBQVU1ScFZSWEo5eThDK25ObHVpNlVDWUQ0ZzZOWVl4TGNjU0hDbGZjbzA9PC9uczI6WDUwOUNlcnRpZmljYXRlPjwvbnMyOlg1MDlEYXRhPjwvbnMyOktleUluZm8+PC9uczI6U2lnbmF0dXJlPjxuczA6U3RhdHVzPjxuczA6U3RhdHVzQ29kZSBWYWx1ZT0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOnN0YXR1czpTdWNjZXNzIi8+PC9uczA6U3RhdHVzPjxuczE6QXNzZXJ0aW9uIElEPSJpZC00NzNkMjI3MTE1YzkwOTUzY2M4ZTNiZDE4NWMwZTg1MiIgSXNzdWVJbnN0YW50PSIyMDE0LTExLTE4VDA5OjI4OjM0WiIgVmVyc2lvbj0iMi4wIj48bnMxOklzc3VlciBGb3JtYXQ9InVybjpvYXNpczpuYW1lczp0YzpTQU1MOjIuMDpuYW1laWQtZm9ybWF0OmVudGl0eSI+aHR0cHM6Ly9sb2NhbGhvc3Q6ODA5MC9wcm94eS54bWw8L25zMTpJc3N1ZXI+PG5zMTpTdWJqZWN0PjxuczE6TmFtZUlEIEZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOm5hbWVpZC1mb3JtYXQ6dHJhbnNpZW50IiBOYW1lUXVhbGlmaWVyPSJodHRwOi8vbG9jYWxob3N0OjgwODgvaWRwLnhtbCIgU1BOYW1lUXVhbGlmaWVyPSJodHRwczovL2xvY2FsaG9zdDo4MDkwL3Byb3h5LnhtbCI+MGZkMTczMDlkNTk1YzU0MzUyYjcwNGQ0NTJjZTNhOTAzNDU0ZTcxMzMzMzI4YmViMjljZjRkYzAxMTIyMDdhYzwvbnMxOk5hbWVJRD48bnMxOlN1YmplY3RDb25maXJtYXRpb24gTWV0aG9kPSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6Y206YmVhcmVyIj48bnMxOlN1YmplY3RDb25maXJtYXRpb25EYXRhIEluUmVzcG9uc2VUbz0iaWQtZjVmNjA2NjNjYmRlMzc0ZTI0NjcwNmY3Y2U2NTM5NjYiIE5vdE9uT3JBZnRlcj0iMjAxNC0xMS0xOFQwOTo0MzozNFoiIFJlY2lwaWVudD0iaHR0cDovL2xvY2FsaG9zdDo4MDg3L2Fjcy9wb3N0Ii8+PC9uczE6U3ViamVjdENvbmZpcm1hdGlvbj48L25zMTpTdWJqZWN0PjxuczE6Q29uZGl0aW9ucyBOb3RCZWZvcmU9IjIwMTQtMTEtMThUMDk6Mjg6MzRaIiBOb3RPbk9yQWZ0ZXI9IjIwMTQtMTEtMThUMDk6NDM6MzRaIj48bnMxOkF1ZGllbmNlUmVzdHJpY3Rpb24+PG5zMTpBdWRpZW5jZT5odHRwOi8vbG9jYWxob3N0OjgwODcvc3AueG1sPC9uczE6QXVkaWVuY2U+PC9uczE6QXVkaWVuY2VSZXN0cmljdGlvbj48L25zMTpDb25kaXRpb25zPjxuczE6QXV0aG5TdGF0ZW1lbnQgQXV0aG5JbnN0YW50PSIyMDE0LTExLTE4VDA5OjI4OjM0WiIgU2Vzc2lvbkluZGV4PSJpZC0wMGJlYmU4ZGVlNjE4NmIxN2EyMDFkNDQ1NjZlOTU2ZSI+PG5zMTpBdXRobkNvbnRleHQ+PG5zMTpBdXRobkNvbnRleHRDbGFzc1JlZj51cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YWM6Y2xhc3NlczpQYXNzd29yZDwvbnMxOkF1dGhuQ29udGV4dENsYXNzUmVmPjxuczE6QXV0aGVudGljYXRpbmdBdXRob3JpdHk+aHR0cDovL2VkdXJvYW0tNDctMTcxLnB1YmxpYy5zdS5zZTwvbnMxOkF1dGhlbnRpY2F0aW5nQXV0aG9yaXR5PjwvbnMxOkF1dGhuQ29udGV4dD48L25zMTpBdXRoblN0YXRlbWVudD48bnMxOkF0dHJpYnV0ZVN0YXRlbWVudD48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9ImdpdmVubmFtZSIgTmFtZT0idXJuOm9pZDoyLjUuNC40MiIgTmFtZUZvcm1hdD0idXJuOm9hc2lzOm5hbWVzOnRjOlNBTUw6Mi4wOmF0dHJuYW1lLWZvcm1hdDp1cmkiPjxuczE6QXR0cmlidXRlVmFsdWUgeHNpOnR5cGU9InhzOnN0cmluZyI+Um9sYW5kPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjxuczE6QXR0cmlidXRlIEZyaWVuZGx5TmFtZT0iZWR1cGVyc29udGFyZ2V0ZWRpZCIgTmFtZT0idXJuOm9pZDoxLjMuNi4xLjQuMS41OTIzLjEuMS4xLjEwIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5vbmUhZm9yIWFsbDwvbnMxOkF0dHJpYnV0ZVZhbHVlPjwvbnMxOkF0dHJpYnV0ZT48bnMxOkF0dHJpYnV0ZSBGcmllbmRseU5hbWU9InVpZCIgTmFtZT0idXJuOm9pZDowLjkuMjM0Mi4xOTIwMDMwMC4xMDAuMS4xIiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5yb2xhbmQ8L25zMTpBdHRyaWJ1dGVWYWx1ZT48L25zMTpBdHRyaWJ1dGU+PG5zMTpBdHRyaWJ1dGUgRnJpZW5kbHlOYW1lPSJzbiIgTmFtZT0idXJuOm9pZDoyLjUuNC40IiBOYW1lRm9ybWF0PSJ1cm46b2FzaXM6bmFtZXM6dGM6U0FNTDoyLjA6YXR0cm5hbWUtZm9ybWF0OnVyaSI+PG5zMTpBdHRyaWJ1dGVWYWx1ZSB4c2k6dHlwZT0ieHM6c3RyaW5nIj5IZWRiZXJnPC9uczE6QXR0cmlidXRlVmFsdWU+PC9uczE6QXR0cmlidXRlPjwvbnMxOkF0dHJpYnV0ZVN0YXRlbWVudD48L25zMTpBc3NlcnRpb24+PC9uczA6UmVzcG9uc2U+Cg==" />\n   <input type="hidden" name="RelayState" value="yUZ5HlvoSKKk4Sm6" />\n   <input type="submit" value="Submit" />\n</form>', '<script type="text/javascript">', '     window.onload = function ()', ' { document.forms[0].submit(); }', '</script>', '</body>'], 'method': 'GET'}
2014-11-18 12:20:53,044 service:DEBUG ENVIRON: {'HTTP_COOKIE': 'beaker.session.id=19e1318a0fc5412582a60c22f93891a2; pyoic="2/7bkTvJ98LbVT4qwl57er68NzfJRkE27Cqifj3/VdvFAtp2ull1A9bBD2BdkslDigkrSmZZXCvdKRe8ukg60Q==|1416122396|fa3494da8dd5851a13f3b9c37a002c8438e904f8"; spauthn=21VQb85qLjwPh7dEl3ijuzhV8mTZffn4', 'SERVER_SOFTWARE': 'CherryPy/3.2.4 Server', 'SCRIPT_NAME': '', 'ACTUAL_SERVER_PROTOCOL': 'HTTP/1.1', 'REQUEST_METHOD': 'GET', 'PATH_INFO': '/sso/redirect', 'SERVER_PROTOCOL': 'HTTP/1.1', 'QUERY_STRING': 'SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaW5G5rWEjCCGSoC4wvPCudEWajBZ7OpR%2FbzdQozEk3vWcvG%2FPcz4Gw%2FddhQ7CgNQq7ZBu0EFCcV1K9ZJ2VsXUizvD7GqgIKCj2m7VQrzWAixyNgXUpVNcG0U1A%2BlCthNALafL0f2c9roB3RttNdcV%2FjKQywYGIIx1MBiNPp9jraDeCbMU5iC5WC3mKd5au6e%2BX2nOqq0GS%2BMgjnzGwd%2B7CKOJg5SKNfaTGH6pk8AH0L4RpTSCO8dskmJZeiRJYp6wdRiRKO6t2WYdXsdJP4lC0i9vgtAJAWoxU2CZsinuBaTvEeKRqCAhJQEl0TNG%2BbnvW6naUV7seX0SAb0ritzLH5dF%2B8FBlsI8OHWK749omSM49Y%2FR03lf2Llx5pZDaAtl0FSbHbOXyzUZ1%2BimlVKhrLRHnP09UNh33eIG%2FneJrL2FBms2yXUl%2BRGNqkq%2FjY1g1qFuWAUO8f8g1jAF0uFg5GdNxZ8Xl30A&RelayState=xIS2TCRoINgqtMhD', 'HTTP_USER_AGENT': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10) AppleWebKit/600.1.25 (KHTML, like Gecko) Version/8.0 Safari/600.1.25', 'HTTP_CONNECTION': 'keep-alive', 'REMOTE_PORT': '51260', 'SERVER_NAME': 'eduroam-47-171.public.su.se', 'REMOTE_ADDR': '127.0.0.1', 'SSL_SERVER_I_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_L': 'Umea', 'wsgi.url_scheme': 'https', 'SERVER_PORT': '8090', 'SSL_SERVER_M_VERSION': 2, 'SSL_SERVER_I_DN_O': 'Umea University', 'SSL_SERVER_S_DN_OU': 'IT Unit', 'SSL_SERVER_I_DN_C': 'SE', 'SSL_SERVER_M_SERIAL': 10511640529272263228L, 'wsgi.input': <cherrypy.wsgiserver.wsgiserver2.KnownLengthRFile object at 0x105adcc10>, 'SSL_SERVER_S_DN_L': 'Umea', 'HTTP_HOST': 'localhost:8090', 'HTTPS': 'on', 'wsgi.multithread': True, 'HTTP_CACHE_CONTROL': 'max-age=0', 'SSL_SERVER_S_DN_C': 'SE', 'REQUEST_URI': '/sso/redirect?SAMLRequest=lZJdT8IwFIbv%2FRVNb7gaW5G5rWEjCCGSoC4wvPCudEWajBZ7OpR%2FbzdQozEk3vWcvG%2FPcz4Gw%2FddhQ7CgNQq7ZBu0EFCcV1K9ZJ2VsXUizvD7GqgIKCj2m7VQrzWAixyNgXUpVNcG0U1A%2BlCthNALafL0f2c9roB3RttNdcV%2FjKQywYGIIx1MBiNPp9jraDeCbMU5iC5WC3mKd5au6e%2BX2nOqq0GS%2BMgjnzGwd%2B7CKOJg5SKNfaTGH6pk8AH0L4RpTSCO8dskmJZeiRJYp6wdRiRKO6t2WYdXsdJP4lC0i9vgtAJAWoxU2CZsinuBaTvEeKRqCAhJQEl0TNG%2BbnvW6naUV7seX0SAb0ritzLH5dF%2B8FBlsI8OHWK749omSM49Y%2FR03lf2Llx5pZDaAtl0FSbHbOXyzUZ1%2BimlVKhrLRHnP09UNh33eIG%2FneJrL2FBms2yXUl%2BRGNqkq%2FjY1g1qFuWAUO8f8g1jAF0uFg5GdNxZ8Xl30A&RelayState=xIS2TCRoINgqtMhD', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', 'SSL_SERVER_S_DN_O': 'Umea University', 'SSL_SERVER_S_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP', 'wsgi.version': (1, 0), 'wsgi.run_once': False, 'SSL_SERVER_I_DN_CN': 'Test SP', 'wsgi.errors': <open file '<stderr>', mode 'w' at 0x10028a1e0>, 'wsgi.multiprocess': False, 'HTTP_ACCEPT_LANGUAGE': 'sv-se', 'oic.url_args': 'sso/redirect', 'SSL_SERVER_S_DN_CN': 'Test SP', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'SSL_SERVER_I_DN': '/C=SE/L=Umea/O=Umea University/OU=IT Unit/CN=Test SP'}
2014-11-18 12:21:17,995 saml2.entity:INFO receiver addresses: ['https://localhost:8090/sso/redirect']
2014-11-18 12:21:17,996 saml2.entity:INFO Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect
2014-11-18 12:21:17,997 saml2.request:INFO xmlstr: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-1998c9ab571782bafb5389497514d605" IssueInstant="2014-11-17T15:10:17Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 12:21:18,000 saml2.request:INFO request: <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-1998c9ab571782bafb5389497514d605" IssueInstant="2014-11-17T15:10:17Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 12:21:18,002 saml2.entity:DEBUG Loaded request
2014-11-18 12:21:18,003 saml2.entity:DEBUG Verified request
2014-11-18 12:21:18,003 front:INFO parsed OK
2014-11-18 12:21:18,005 front:DEBUG <?xml version='1.0' encoding='UTF-8'?>
<ns0:AuthnRequest xmlns:ns0="urn:oasis:names:tc:SAML:2.0:protocol" xmlns:ns1="urn:oasis:names:tc:SAML:2.0:assertion" AssertionConsumerServiceURL="http://localhost:8087/acs/post" Destination="https://localhost:8090/sso/redirect" ID="id-1998c9ab571782bafb5389497514d605" IssueInstant="2014-11-17T15:10:17Z" ProtocolBinding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST" ProviderName="My SP service" Version="2.0"><ns1:Issuer Format="urn:oasis:names:tc:SAML:2.0:nameid-format:entity">http://localhost:8087/sp.xml</ns1:Issuer><ns0:NameIDPolicy AllowCreate="false" Format="urn:oasis:names:tc:SAML:2.0:nameid-format:transient" /></ns0:AuthnRequest>
2014-11-18 12:21:18,006 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 12:21:18,006 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
2014-11-18 12:21:18,007 front:DEBUG Binding: urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST, destination: http://localhost:8087/acs/post
2014-11-18 12:21:18,008 saml2.mdstore:DEBUG service(http://localhost:8087/sp.xml, spsso_descriptor, assertion_consumer_service, urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST)
2014-11-18 12:21:18,008 saml2.mdstore:DEBUG service => [{'index': '1', 'binding': 'urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST', '__class__': 'urn:oasis:names:tc:SAML:2.0:metadata&AssertionConsumerService', 'location': 'http://localhost:8087/acs/post'}]
